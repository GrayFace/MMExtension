event 1  -- "Castle Harmondale?"
  0:  CanShowTopic.Cmp  {"QBits", Value = 7,   jump = 3}         -- Finished Scavenger Hunt
  1:  CanShowTopic.Set  {Visible = true}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = false}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 6}         -- "If you win, you'll be in charge of one of the most scenic areas in all Erathia!  Harmondale is just outside of the Tularean Forest, right on the edge of the Elf-Human border.  And I'm sure you'll love the castle.  It's a bit of a fixer-upper, but it's quite roomy and has excellent ventilation.  It breaks my heart to part with this property, but I feel that the time has come for me to give something back to the people."
end

event 2  -- "What do you think about the hunt?"
  0:  CanShowTopic.Cmp  {"QBits", Value = 7,   jump = 3}         -- Finished Scavenger Hunt
  1:  CanShowTopic.Set  {Visible = true}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = false}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 5}         -- "Isn't this hunt exciting?  I really am grateful you came to my little event, and I hope you have fun, even if you don't win.  I think it's great that everyone is competing in a spirit of good sportsmanship and camaraderie."
end

event 3  -- "Congratulations"
  0:  CanShowTopic.Cmp  {"QBits", Value = 7,   jump = 3}         -- Finished Scavenger Hunt
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 7}         -- "Congratulations!  You are the new Lords of Harmondale!  Isn't it thrilling?  You can't imagine how good it feels for me to give this property away to you!  All of the benefits and rewards, and of course, the responsibilities of governing the town of Harmondale are now yours.  (Lord Markham produces a deed and contract) Just sign here...And here... And if I could just get your initials here... Yes!  Well, that's that!  You're all set.  And once again, congratulations!!!"
  6:  SetNPCTopic  {NPC = 1, Index = 2, Event = 4}         -- "Lord Markham" : "Your ship…"
  7:  Subtract  {"NPCs", Value = 3}         -- "Big Daddy Jim"
  8:  Set  {"QBits", Value = 17}         -- No more docent babble
  9:  ForPlayer  ("All")
  10: Add  {"Experience", Value = 1000}
  11: Add  {"Awards", Value = 2}         -- "Won the Scavenger Hunt on Emerald Island"
  12: Set  {"QBits", Value = 284}         -- Beginning of Festival
  13: SetNPCGroupNews  {NPCGroup = 1, NPCNews = 5}         -- "" : "Congratulations!"
end

event 4  -- "Your ship…"
  0:  SetMessage  {Str = 8}         -- "Well, the ship that will take you to your fiefdom awaits you in the harbor.  My entourage and I will be taking a different ship out.  Just board whenever you're ready."
  1:  Add  {"QBits", Value = 15}         -- Able to use boat to get off Emerald Island
  2:  SetNPCTopic  {NPC = 11, Index = 0, Event = 33}         -- "William Darvees" : "Let's Go!"
  3:  SetNPCTopic  {NPC = 1, Index = 2, Event = 0}         -- "Lord Markham"
  4:  SetNPCGreeting  {NPC = 1, Greeting = 0}         -- "Lord Markham" : ""
end

event 5  -- "Tell us the rules of the hunt"
  0:  SetMessage  {Str = 25}         -- "Good afternoon.  My duty is to verify that you have all the items necessary to win the contest.  You are required to bring a red potion, a longbow, a floor tile from the Temple of the Moon, a wealthy hat, seashell, and an instrument to me.  You can bring them in any order, just show them to me one at a time so that I may verify them."
end

event 6  -- "We found something!"
  0:  ForPlayer  ("All")
  1:  Cmp  {"QBits", Value = 8,   jump = 10}         -- Brought red potion
  2:  Cmp  {"Inventory", Value = 222,   jump = 4}         -- "Cure Wounds"
  3:  GoTo  {jump = 10}

  4:  Subtract  {"QBits", Value = 1}         -- "Return a red potion to the Judge on Emerald Island."
  5:  Add  {"Experience", Value = 500}
  6:  Add  {"QBits", Value = 8}         -- Brought red potion
  7:  Subtract  {"Inventory", Value = 222}         -- "Cure Wounds"
  8:  SetMessage  {Str = 31}         -- "What took you so long?  Almost every group has turned in a red potion by now.  This is the easiest item in the hunt to manage, but better late than never.  I will mark it off your list."
  9:  Exit  {}

  10: Cmp  {"QBits", Value = 9,   jump = 20}         -- Brought seashell
  11: GoTo  {jump = 12}

  12: Cmp  {"Inventory", Value = 635,   jump = 14}         -- "Seashell"
  13: GoTo  {jump = 20}

  14: Subtract  {"QBits", Value = 2}         -- "Return a seashell to the Judge on Emerald Island."
  15: Subtract  {"Inventory", Value = 635}         -- "Seashell"
  16: Add  {"QBits", Value = 9}         -- Brought seashell
  17: Add  {"Experience", Value = 500}
  18: SetMessage  {Str = 30}         -- "A beautiful shell, much like the ones that Sally sells.  This certainly came from Emerald Island- I shall mark the shell off your list."
  19: Exit  {}

  20: Cmp  {"QBits", Value = 10,   jump = 30}         -- Brought longbow
  21: GoTo  {jump = 22}

  22: Cmp  {"Inventory", Value = 43,   jump = 24}         -- "Recurve Bow"
  23: GoTo  {jump = 30}

  24: SetMessage  {Str = 29}         -- "This longbow certainly qualifies for the hunt.  Good work, I shall mark that off your list."
  25: Subtract  {"Inventory", Value = 43}         -- "Recurve Bow"
  26: Subtract  {"QBits", Value = 3}         -- "Return a longbow to the Judge on Emerald Island."
  27: Add  {"Experience", Value = 500}
  28: Add  {"QBits", Value = 10}         -- Brought longbow
  29: Exit  {}

  30: Cmp  {"QBits", Value = 11,   jump = 40}         -- Brought tile
  31: GoTo  {jump = 32}

  32: Cmp  {"Inventory", Value = 636,   jump = 34}         -- "Floor Tile (w/ moon insignia)"
  33: GoTo  {jump = 40}

  34: SetMessage  {Str = 28}         -- "Adventurers indeed!  I didn't expect anyone to bring back a tile so quickly.  This is certainly a tile from the Temple, however so I shall mark the tile off your list."
  35: Subtract  {"Inventory", Value = 636}         -- "Floor Tile (w/ moon insignia)"
  36: Subtract  {"QBits", Value = 4}         -- "Return a floor tile to the Judge on Emerald Island."
  37: Add  {"Experience", Value = 500}
  38: Add  {"QBits", Value = 11}         -- Brought tile
  39: Exit  {}

  40: Cmp  {"QBits", Value = 12,   jump = 50}         -- Brought instrument
  41: GoTo  {jump = 42}

  42: Cmp  {"Inventory", Value = 632,   jump = 44}         -- "Lute"
  43: GoTo  {jump = 50}

  44: SetMessage  {Str = 27}         -- "Hmm, a fine lute this is.  Let me mark off the instrument from your list."
  45: Subtract  {"Inventory", Value = 632}         -- "Lute"
  46: Subtract  {"QBits", Value = 5}         -- "Return a musical instrument to the Judge on Emerald Island."
  47: Add  {"Experience", Value = 500}
  48: Add  {"QBits", Value = 12}         -- Brought instrument
  49: Exit  {}

  50: Cmp  {"QBits", Value = 13,   jump = 60}         -- Brought hat
  51: GoTo  {jump = 52}

  52: Cmp  {"Inventory", Value = 631,   jump = 54}         -- "Wealthy Hat"
  53: GoTo  {jump = 81}

  54: SetMessage  {Str = 26}         -- "I see you have found a wealthy hat.  I shall mark this off your list accordingly, good work."
  55: Subtract  {"Inventory", Value = 631}         -- "Wealthy Hat"
  56: Subtract  {"QBits", Value = 6}         -- "Return a wealthy hat to the Judge on Emerald Island."
  57: Add  {"Experience", Value = 500}
  58: Add  {"QBits", Value = 13}         -- Brought hat
  59: Exit  {}

  60: Cmp  {"QBits", Value = 1,   jump = 81}         -- "Return a red potion to the Judge on Emerald Island."
  61: GoTo  {jump = 62}

  62: Cmp  {"QBits", Value = 2,   jump = 81}         -- "Return a seashell to the Judge on Emerald Island."
  63: GoTo  {jump = 64}

  64: Cmp  {"QBits", Value = 3,   jump = 81}         -- "Return a longbow to the Judge on Emerald Island."
  65: GoTo  {jump = 66}

  66: Cmp  {"QBits", Value = 4,   jump = 81}         -- "Return a floor tile to the Judge on Emerald Island."
  67: GoTo  {jump = 68}

  68: Cmp  {"QBits", Value = 5,   jump = 81}         -- "Return a musical instrument to the Judge on Emerald Island."
  69: GoTo  {jump = 70}

  70: Cmp  {"QBits", Value = 6,   jump = 81}         -- "Return a wealthy hat to the Judge on Emerald Island."
  71: GoTo  {jump = 73}

  72: Exit  {}

  73: Add  {"QBits", Value = 7}         -- Finished Scavenger Hunt
  74: SetMessage  {Str = 32}         -- "Well, that's all six items.  You're the winner of the contest!  I suggest you talk to Lord Markham for the details on gaining your fiefdom, my work is done here."
  75: SetNPCTopic  {NPC = 2, Index = 0, Event = 0}         -- "Thomas the Judge"
  76: SetNPCTopic  {NPC = 2, Index = 1, Event = 0}         -- "Thomas the Judge"
  77: MoveNPC  {NPC = 2, HouseId = 0}         -- "Thomas the Judge"
  78: SetNPCTopic  {NPC = 1, Index = 1, Event = 0}         -- "Lord Markham"
  79: SetNPCGreeting  {NPC = 6, Greeting = 9}         -- "Wren Wilder" : ""
  80: Exit  {}

  81: SetMessage  {Str = 33}         -- "I'm sorry, but nothing you have is necessary for the hunt.  I don't mean to belittle what you have, but I'm not looking for any of it."
end

event 7  -- "MM7Rev4mod"
  0:  SetMessage  {Str = 152}         --[[ "The development of this mod began in October 2007 as an ‘experiment’ in reverse-engineering the ‘event language’ of MM6, MM7, and MM8.  This was a massive effort that consumed countless hours of ‘blood sweating’ research and applications programming trials.  The MM7Rev4mod is the result of this ‘experiment’ and was completed by yours truly as a solo effort.  That makes me the ‘Sole Proprietor’ of this venture – author, designer, programmer, chef, bottle washer, and ‘go-for’.

If you enjoy this mod, ‘kudos’ to me. If you don’t like the mod … well ya gotta admit that the price was right ... different strokes and all that stuff.

Have fun exploring Vori.

The Coding Wizard

09March2008" ]]
  1:  SetNPCTopic  {NPC = 3, Index = 0, Event = 8}         -- "Big Daddy Jim" : "Credits"
  2:  Exit  {}
end

event 8  -- "Credits"
  0:  SetMessage  {Str = 153}         --[[ "The MM8LevelEditor utility was an invaluable database import and extract tool during the development process.  My appreciation and recognition to the author and his dedicated efforts to produce this fine utility.

Thanks to Pascal (AKA: Asterix, asterix15, etal), for the initial announcements and ‘marketing’ of this mod, for contributing a few custom graphics to the otherwise status-quo visuals in the game, and for ‘early’ play testing of the R1 release.  If ya know about this mod, chances are it is due to Pascal’s efforts.

An ‘above and beyond the call of duty’ thanks to my work compatriots for giving up their Christmas holiday to ‘play test’ the R1 mod.  Special note to Tom A., Wren, Tony, Jude, and the ever-elusive ‘Count Zero, Seeker of Lost Ones’.  For programming Geeks, you guys are OK by me.

A ‘special’ thanks to Sarah Lambent (of the Courier Guild), simply because of her infectious ‘love’ of the MM7 gaming universe.

BDJ" ]]
  1:  SetNPCTopic  {NPC = 3, Index = 0, Event = 9}         -- "Big Daddy Jim" : "Friends of  'The Game'"
  2:  Exit  {}
end

event 9  -- "Friends of  'The Game'"
  0:  SetMessage  {Str = 154}         --[[ "Finally, I’d like to recognize the contributions from the MM community at-large, and specifically the following six ‘gamers’.  Each has provided me with significant encouragement and play-testing ‘bug reports’ and suggestions.  As a special ‘Thanks!’, each of these contributors has become ‘immortalized’ within Erathia as an NPC in the MM7Rev4mod game.

Pascal the Mad Mage
Lord Godwinson
Zedd True Shot
Duke Bimbasto
Sir Vilx of Stone City
Baron BunGleau

Thank you all for your assistance.

Big Daddy Jim
15 April, 2008
" ]]
  1:  SetNPCTopic  {NPC = 3, Index = 0, Event = 0}         -- "Big Daddy Jim"
  2:  SetNPCTopic  {NPC = 3, Index = 1, Event = 0}         -- "Big Daddy Jim"
  3:  Subtract  {"NPCs", Value = 3}         -- "Big Daddy Jim"
  4:  Exit  {}
end

event 10  -- "We are going to win the Scavenger Hunt!"
  0:  SetMessage  {Str = 34}         -- "Are you contestants in Lord Markham's Scavenger Hunt?  How neat!  I'm here to provide entertainment to Lord Markham's entourage, the contestants, and to anyone else that would like to hear a song."
end

event 11  -- "Do you have any instruments?"
  0:  SetMessage  {Str = 35}         -- "I own a few instruments, but I only brought my lute with me.  Its old and not quite as well kept as some of the others, but I didn't want one of my good instruments stolen by pirates or damaged from exposure to the humid, salty air."
end

event 12  -- "We need an instrument for the contest"
  0:  ForPlayer  ("All")

  1:  CanShowTopic.Cmp  {"Inventory", Value = 632,   jump = 5}         -- "Lute"
  2:  CanShowTopic.Cmp  {"QBits", Value = 12,   jump = 5}         -- Brought instrument
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}
  5:  CanShowTopic.Set  {Visible = false}
  6:  CanShowTopic.Exit  {}

  7:  SetMessage  {Str = 36}         -- "You say you need an instrument for the Scavenger Hunt?  I suppose you could buy my lute, but I've had it for such a long time.  I guess I'd part with it for 500 gold.  Interested?"
  8:  SetNPCTopic  {NPC = 4, Index = 2, Event = 13}         -- "Ailyssa the Bard" : "Buy Lute for 500 gold"
end

event 13  -- "Buy Lute for 500 gold"
  0:  Cmp  {"Gold", Value = 500,   jump = 3}
  1:  SetMessage  {Str = 38}         -- "It would help if you had the 500 gold pieces.  Please don't try and cheat me out of my instrument."
  2:  Exit  {}

  3:  Subtract  {"Gold", Value = 500}
  4:  Add  {"Inventory", Value = 632}         -- "Lute"
  5:  SetMessage  {Str = 37}         -- "Well, promise to at least take care of it and not use it for firewood.  I suppose I'll have to make do without an instrument for the rest of this trip.  Maybe I should tell stories instead of sing until I get back home."
  6:  SetNPCItem  {NPC = 4, Item = 632, On = false}         -- "Ailyssa the Bard" : "Lute"
  7:  SetNPCTopic  {NPC = 4, Index = 2, Event = 0}         -- "Ailyssa the Bard"
  8:  SetNPCTopic  {NPC = 4, Index = 1, Event = 0}         -- "Ailyssa the Bard"
  9:  Exit  {}
end

event 14  -- "What do you think about the ocean?"
  0:  SetMessage  {Str = 12}         -- "I love being out on this side of the island, the view of the ocean is much better than from town, don't you agree?"
end

event 15  -- "Do you have any seashells?"
  0:  SetMessage  {Str = 13}         -- "I have some nice sea shells for sale, shells that you can only find on Emerald Island.  Can I sell one to you?  They're only a hundred gold pieces each."
  1:  SetNPCTopic  {NPC = 5, Index = 1, Event = 16}         -- "Sally" : "Buy a Seashell for 100 gold"
end

event 16  -- "Buy a Seashell for 100 gold"
  0:  Cmp  {"Gold", Value = 100,   jump = 3}
  1:  SetMessage  {Str = 15}         -- "I really can't go any less than 100 gold; I need to make a living, too."
  2:  Exit  {}

  3:  Subtract  {"Gold", Value = 100}
  4:  Add  {"Inventory", Value = 635}         -- "Seashell"
  5:  SetMessage  {Str = 14}         -- "Here you go, I hope it reminds you of your trip to Emerald Island."
  6:  Exit  {}
end

event 17  -- "Harmondale?"
  0:  CanShowTopic.Cmp  {"QBits", Value = 7,   jump = 3}         -- Finished Scavenger Hunt
  1:  CanShowTopic.Set  {Visible = true}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = false}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 10}         --[[ "Congratulations!  You’ve completed all four assignments in record time, just as the Erathian Festival of the Five Moons is ending!   You are now ready to join the ranks of our elite guild. I hereby promote you to the rank of Master Courier!  Welcome to the Guild! 

Now just one more thing.  Our couriers used to service the Evenmorn Islands. Unfortunately through a series of miss-haps, all keys to the island chain were lost, stolen, or destroyed.   If you ever come across one of these keys, please bring it back to me so that I can make a copy of it.  I will reward you handsomely in gold.  Good luck, Master Couriers!"" ]]
end

event 18  -- "Gatekeeper Woes!"
  0:  SetMessage  {Str = 17}         -- "The Town Portal spell has been unmade by strange and sinister magics.  The mages in Bracada have tried to remake the spell, but with no success.  This has caused all Gate Keepers much ruin since they can no longer earn their living through their abilites.  Why just the other day I saw Merta the Gatekeeper sweeping out the stables just to make ends meet.  I hope the mages can restore this spell soon."
  1:  Exit  {}
end

event 19  -- "Erathia has been betrayed!"
  0:  SetMessage  {Str = 21}         -- "We have discovered a corruption so powerful that it threatens to engulf all of Erathia. Due to this peril, we have formed a temporary truce with Lord Archibald until we can ‘neutralize’ this threat. Since the danger was spawned in The Pit, you need to travel there and seek out Maximus.  He will brief you on the situation.  Obey him as if his words were spoken by Gavin Magnus, himself."
  1:  Set  {"QBits", Value = 293}         -- Return to NWC
  2:  SetNPCTopic  {NPC = 82, Index = 0, Event = 0}         -- "Sir Caneghem"
  3:  MoveNPC  {NPC = 85, HouseId = 434}         -- "Maximus" -> "Hostel"
  4:  SetNPCTopic  {NPC = 85, Index = 0, Event = 22}         -- "Maximus" : "Dangerous Mission"
  5:  Exit  {}
end

event 20  -- "Erathia has been betrayed!"
  0:  SetMessage  {Str = 206}         -- "We have discovered a corruption so powerful that it threatens to engulf all of Erathia. Due to this peril, we have formed a temporary truce with Gavin Magnus until we can ‘neutralize’ this threat. Since the danger was spawned in Celeste, you need to travel there and seek out Sir Caneghem.  He will brief you on the situation.  Obey him as if his words were spoken by Lord Archibald, himself."
  1:  Set  {"QBits", Value = 293}         -- Return to NWC
  2:  SetNPCTopic  {NPC = 85, Index = 0, Event = 0}         -- "Maximus"
  3:  MoveNPC  {NPC = 82, HouseId = 427}         -- "Sir Caneghem" -> "Hostel"
  4:  SetNPCTopic  {NPC = 82, Index = 0, Event = 21}         -- "Sir Caneghem" : "Dangerous Mission"
  5:  Exit  {}
end

event 21  -- "Dangerous Mission"
  0:  SetMessage  {Str = 209}         -- "This assignment is extremely dangerous, adventurers.  So I have taken the liberty to solicit the assistance of the four Grandmasters of the Elemental Magicks, and each has agreed to provide what assistance they may to you.  So before I can brief you on this mission, you must first visit these Grandmasters and receive their blessing.  After this, return to me."
  1:  SetNPCTopic  {NPC = 82, Index = 0, Event = 117}         -- "Sir Caneghem" : "We've received the Blessings!"
  2:  SetNPCTopic  {NPC = 145, Index = 2, Event = 23}         -- "Torrent" : "Blessing"
  3:  SetNPCTopic  {NPC = 139, Index = 2, Event = 24}         -- "Blayze " : "Blessing"
  4:  SetNPCTopic  {NPC = 142, Index = 2, Event = 25}         -- "Gayle" : "Blessing"
  5:  SetNPCTopic  {NPC = 148, Index = 2, Event = 26}         -- "Avalanche" : "Blessing"
  6:  Exit  {}
end

event 22  -- "Dangerous Mission"
  0:  SetMessage  {Str = 209}         -- "This assignment is extremely dangerous, adventurers.  So I have taken the liberty to solicit the assistance of the four Grandmasters of the Elemental Magicks, and each has agreed to provide what assistance they may to you.  So before I can brief you on this mission, you must first visit these Grandmasters and receive their blessing.  After this, return to me."
  1:  SetNPCTopic  {NPC = 85, Index = 0, Event = 119}         -- "Maximus" : "We've received the Blessings!"
  2:  SetNPCTopic  {NPC = 145, Index = 2, Event = 23}         -- "Torrent" : "Blessing"
  3:  SetNPCTopic  {NPC = 139, Index = 2, Event = 24}         -- "Blayze " : "Blessing"
  4:  SetNPCTopic  {NPC = 142, Index = 2, Event = 25}         -- "Gayle" : "Blessing"
  5:  SetNPCTopic  {NPC = 148, Index = 2, Event = 26}         -- "Avalanche" : "Blessing"
  6:  Exit  {}
end

event 23  -- "Blessing"
  0:  SetMessage  {Str = 211}         --[[ "What you are about to attempt will try your mettle and prove your worth.  If you are successful, you’ll be heralded as the ‘Heroes of Erathia’.  If you fail, the Erathian way of life will be destroyed by unspeakable evil. For Erathia, and for your victory, I give you my blessing.

For Truth!  For Justice!  For the Erathian Way!" ]]
  1:  Set  {"QBits", Value = 295}         -- Water
  2:  ForPlayer  (0)
  3:  Add  {"WaterResistance", Value = 50}
  4:  ForPlayer  (1)
  5:  Add  {"WaterResistance", Value = 50}
  6:  ForPlayer  (2)
  7:  Add  {"WaterResistance", Value = 50}
  8:  ForPlayer  (3)
  9:  Add  {"WaterResistance", Value = 50}
  10: SetNPCTopic  {NPC = 145, Index = 2, Event = 0}         -- "Torrent"
  11: Exit  {}
end

event 24  -- "Blessing"
  0:  SetMessage  {Str = 211}         --[[ "What you are about to attempt will try your mettle and prove your worth.  If you are successful, you’ll be heralded as the ‘Heroes of Erathia’.  If you fail, the Erathian way of life will be destroyed by unspeakable evil. For Erathia, and for your victory, I give you my blessing.

For Truth!  For Justice!  For the Erathian Way!" ]]
  1:  Set  {"QBits", Value = 296}         -- Fire
  2:  ForPlayer  (0)
  3:  Add  {"FireResistance", Value = 50}
  4:  ForPlayer  (1)
  5:  Add  {"FireResistance", Value = 50}
  6:  ForPlayer  (2)
  7:  Add  {"FireResistance", Value = 50}
  8:  ForPlayer  (3)
  9:  Add  {"FireResistance", Value = 50}
  10: SetNPCTopic  {NPC = 139, Index = 2, Event = 0}         -- "Blayze "
  11: Exit  {}
end

event 25  -- "Blessing"
  0:  SetMessage  {Str = 211}         --[[ "What you are about to attempt will try your mettle and prove your worth.  If you are successful, you’ll be heralded as the ‘Heroes of Erathia’.  If you fail, the Erathian way of life will be destroyed by unspeakable evil. For Erathia, and for your victory, I give you my blessing.

For Truth!  For Justice!  For the Erathian Way!" ]]
  1:  Set  {"QBits", Value = 297}         -- Air
  2:  ForPlayer  (0)
  3:  Add  {"AirResistance", Value = 50}
  4:  ForPlayer  (1)
  5:  Add  {"AirResistance", Value = 50}
  6:  ForPlayer  (2)
  7:  Add  {"AirResistance", Value = 50}
  8:  ForPlayer  (3)
  9:  Add  {"AirResistance", Value = 50}
  10: SetNPCTopic  {NPC = 142, Index = 2, Event = 0}         -- "Gayle"
  11: Exit  {}
end

event 26  -- "Blessing"
  0:  SetMessage  {Str = 211}         --[[ "What you are about to attempt will try your mettle and prove your worth.  If you are successful, you’ll be heralded as the ‘Heroes of Erathia’.  If you fail, the Erathian way of life will be destroyed by unspeakable evil. For Erathia, and for your victory, I give you my blessing.

For Truth!  For Justice!  For the Erathian Way!" ]]
  1:  Set  {"QBits", Value = 298}         -- Earth
  2:  ForPlayer  (0)
  3:  Add  {"EarthResistance", Value = 50}
  4:  ForPlayer  (1)
  5:  Add  {"EarthResistance", Value = 50}
  6:  ForPlayer  (2)
  7:  Add  {"EarthResistance", Value = 50}
  8:  ForPlayer  (3)
  9:  Add  {"EarthResistance", Value = 50}
  10: SetNPCTopic  {NPC = 148, Index = 2, Event = 0}         -- "Avalanche"
  11: Exit  {}
end

event 27  -- "Will you rejoin our party?"
  0:  SetMessage  {Str = 54}         -- "You have decided to listen to my tour about the points of interest on Emerald Island.  If you decide that you no longer want me to point out areas of interest then select Tour Off."
  1:  Subtract  {"QBits", Value = 17}         -- No more docent babble
  2:  Set  {"NPCs", Value = 3}         -- "Big Daddy Jim"
  3:  SetNPCTopic  {NPC = 3, Index = 2, Event = 43}         -- "Big Daddy Jim" : "We need your help!"
end

event 28  -- "Fire Magic Expert"
  0:  SetMessage  {Str = 22}         --[[ "So you wanna become an Ekspert in Fire Magic? My, my ... aren't we feeling 'special'!  <hic!>  Pardon me.  I've been hittin' the sauce too much lately.

Ohhh!  I've gotta hangov ...  err ... headache.  I can't deal with this right now.  Just go away ... <burp> ... and let me be!!!" ]]
end

event 29  -- "Purchase Town Portal Pass for 200 gold"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Gold", Value = 200,   jump = 3}
  2:  GoTo  {jump = 7}

  3:  ForPlayer  ("Current")
  4:  Subtract  {"Gold", Value = 200}
  5:  Add  {"Inventory", Value = 737}         -- "Town Portal Pass"
  6:  Exit  {}

  7:  SetMessage  {Str = 125}         -- "You don't have enough gold!"
  8:  Exit  {}
end

event 30  -- "Fire Magic Master"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 560,   jump = 7}         -- "Watcher's Ring of Elemental Fire"
  2:  Cmp  {"Inventory", Value = 562,   jump = 5}         -- "Ring of UnWarding"
  3:  ForPlayer  ("Current")
  4:  Set  {"Inventory", Value = 562}         -- "Ring of UnWarding"
  5:  SetMessage  {Str = 775}         -- "Before I can promote you to Master of Fire Magic, you must first retrieve the Watcher's Ring of Elemental Fire and return it to me.  The Ring is guarded by powerful Dragons who live in a cave on Emerald Island.  Make sure you keep the Ring of UnWarding with you to enter the cave."
  6:  Exit  {}

  7:  SetMessage  {Str = 776}         -- "I see that you've returned with the Watcher's Ring of Elemental Fire. Excellent!   Now we can discuss your promotion to Master of Fire Magic."
  8:  Add  {"Experience", Value = 30000}
  9:  SetNPCTopic  {NPC = 138, Index = 0, Event = 237}         -- "Ashen Temper" : "Fire Magic Master"
end

event 31  -- "Earth Magic Grandmaster"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 553,   jump = 7}         -- "Watcher's Ring of Elemental Earth "
  2:  Cmp  {"Inventory", Value = 253,   jump = 4}         -- "Divine Cure"
  3:  Set  {"Inventory", Value = 253}         -- "Divine Cure"
  4:  Set  {"QBits", Value = 324}         -- White Cliff Cave Permission
  5:  SetMessage  {Str = 777}         --[[ "Retrieve the Watcher's Ring of Elemental Earth and then we’ll discuss promotions.  The Ring is guarded by Greckaw, Hurler of Mountains, a powerful Earth Elemental who dwells in the White Cliff Caves in Harmondale. 

Be extremely cautious when you enter this cave, children.  The Mad Mage Pascal, Diviner of Strange Flesh has sent his army of Trolls to take this ring by force, and a battle rages between Greckaw’s minions and these invaders.  You would do well to let them fight it out and then kill the survivors.  But make no mistake, young ones, either side will turn on you in a heartbeat! 

Make sure you have some healing potents with you.  You’ll need them!" ]]
  6:  Exit  {}

  7:  SetMessage  {Str = 778}         -- "I see that you've defeated Greckaw and returned with the Watcher's Ring of Elemental Earth. An impressive accomplishment, indeed!!   Now we can discuss your promotion to Master of Earth Magic."
  8:  Add  {"Experience", Value = 30000}
  9:  SetNPCTopic  {NPC = 148, Index = 0, Event = 247}         -- "Avalanche" : "Earth Magic Grandmaster"
end

event 32  -- "Let's go!"
  0:  SetMessage  {Str = 24}         -- "Sorry mates, this vessel's moored until a winner has been declared in the contest."
end

event 33  -- "Let's Go!"
  0:  SetMessage  {Str = 43}         -- "Good job, mates!  We'll be heading off for Harmondale right now.  Congratulations."
  1:  Subtract  {"QBits", Value = 16}         -- "Find the missing contestants on Emerald Island and bring back proof to Lord Markham."
  2:  SetNPCTopic  {NPC = 1, Index = 3, Event = 0}         -- "Lord Markham"
  3:  Add  {"History1", Value = 0}
  4:  Add  {"History2", Value = 0}
  5:  MoveNPC  {NPC = 1, HouseId = 275}         -- "Lord Markham" -> "Lord Markham's Chamber"
  6:  SetNPCGreeting  {NPC = 1, Greeting = 205}         -- "Lord Markham" : "Hmmph.  You don't actually expect me to act as though you really were a noble, do you?  Once a peasant, always a peasant, that's what my mother used to say.  Really, could you use the servant's entrance next time you stop by?  It really is embarrassing to have you dusty, mud spattered peasants coming in through the front door.  What will the neighbors think?"
  7:  Add  {"QBits", Value = 136}         -- Party doesn't come back to Out01 temple anymore
  8:  ShowMovie  {DoubleSize = 1, ExitCurrentScreen = true, Name = "pcout01 "}
  9:  MoveToMap  {X = -17331, Y = 12547, Z = 465, Direction = 1024, LookAngle = 0, SpeedZ = 0, HouseId = 0, Icon = 0, Name = "Out02.odm"}
end

event 34  -- "Do you have any quests for us?"
  0:  SetMessage  {Str = 44}         -- "Keep in mind I have a 1000 gold reward for the group to bring back information on the contestants that have disappeared."
  1:  SetNPCTopic  {NPC = 1, Index = 3, Event = 35}         -- "Lord Markham" : "About the missing contestants..."
  2:  Set  {"QBits", Value = 16}         -- "Find the missing contestants on Emerald Island and bring back proof to Lord Markham."
end

event 35  -- "About the missing contestants..."
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 658,   jump = 4}         -- "Contestant's Shield"
  2:  SetMessage  {Str = 45}         -- "No news on the missing people yet?"
  3:  Exit  {}

  4:  SetMessage  {Str = 46}         -- "Killed by another group of contestants?!  Beyond belief!  Is there no end to the Greed of Man?!  Thanks for dispatching these criminals for me!  Here's your reward."
  5:  Subtract  {"Inventory", Value = 658}         -- "Contestant's Shield"
  6:  Add  {"Awards", Value = 3}         -- "Found the missing contestants on Emerald Island"
  7:  Add  {"Experience", Value = 1000}
  8:  ForPlayer  ("Current")
  9:  Add  {"Gold", Value = 1000}
  10: Subtract  {"Reputation", Value = 5}
  11: Subtract  {"QBits", Value = 16}         -- "Find the missing contestants on Emerald Island and bring back proof to Lord Markham."
  12: SetNPCTopic  {NPC = 1, Index = 3, Event = 0}         -- "Lord Markham"
end

event 36  -- "The Coding Wizard"
  0:  SetMessage  {Str = 770}         -- "“BDJ the Coding Wizard, lives on the mainland. All those who have gained Grandmaster status in their chosen profession should seek out this wizard.  It is reported that he offers to ‘cross-train’ them into a second profession, thereby granting dual-character classes to all who meet his requirements.”"
end

event 37  -- "Is the cave behind your house the abandoned temple?"
  0:  SetMessage  {Str = 48}         -- "The cave right behind my house is not the Abandoned Temple.  It belongs to Morcarack the Pitiless, the Dragon of Emerald Island.  You don't have to worry, though.  The cave has been magically sealed for ages by the Watchers.  The Abandoned Temple is buried in the hill south of my house.  You can get to it by entering the caves at the top of the hill."
end

event 38  -- "The Watchers"
  0:  SetMessage  {Str = 49}         -- "In the beginning, the Watchers forged four Scarab Rings of Elemental Magic and hid them in the land under the protection of a fierce guardian.  Powerful indeed is the wizard who obtains these rings!!"
end

event 39  -- "How can we get to the mainland from here?"
  0:  SetMessage  {Str = 50}         -- "Getting to the mainland is no problem.  The Lady Margaret makes daily trips to Harmondale.  Getting back, now that's a different story. The fine Lady only carries cargo back to here. I have heard rumors that there is a teleporter hub in Harmondale, but I don't know if it can return you to our island."
end

event 40  -- "Let's Go!"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 675,   jump = 4}         -- "Control Cube"
  2:  SetMessage  {Str = 340}         -- "We cannot leave until we have the Control Cube."
  3:  Exit  {}

  4:  SetMessage  {Str = 325}         -- "Gladly, friends!"
  5:  SetMonGroupBit  {NPCGroup = 11, Bit = const.MonsterBits.Invisible, On = true}         -- "Main village in Harmondy"
  6:  Set  {"NPCs", Value = 21}         -- "Zedd True Shot"
  7:  SetNPCTopic  {NPC = 21, Index = 1, Event = 0}         -- "Zedd True Shot"
end

event 41  -- "Have you seen any other contestants?"
  0:  SetMessage  {Str = 52}         -- "I'd watch those other contestants-- some of them seem ruthless.  One particularly nasty group headed to the north side of the island, and I haven't seen them since.  I'm surprised at the attention this contest has received, apparently people are hoping to get on the good side of the contestants for future favors if they win."
end

event 42  -- "Good Bye."
  0:  StatusText  {Str = 42}         -- "Enjoy the Game!"
  1:  SetNPCTopic  {NPC = 3, Index = 0, Event = 0}         -- "Big Daddy Jim"
  2:  SetNPCTopic  {NPC = 3, Index = 1, Event = 0}         -- "Big Daddy Jim"
  3:  Subtract  {"NPCs", Value = 3}         -- "Big Daddy Jim"
  4:  Exit  {}
end

event 43  -- "We need your help!"
  0:  SetMessage  {Str = 54}         -- "You have decided to listen to my tour about the points of interest on Emerald Island.  If you decide that you no longer want me to point out areas of interest then select Tour Off."
  1:  Subtract  {"QBits", Value = 17}         -- No more docent babble
  2:  SetNPCTopic  {NPC = 3, Index = 2, Event = 42}         -- "Big Daddy Jim" : "Good Bye."
end

event 44  -- "Rogue "
  0:  SetMessage  {Str = 55}         -- "Though the law may decide who is guilty and who is not, I decide who is called Thief, and who is just a criminal.  Bring me that lovely vase I saw on the mantle in Lord Markham’s manor, and I shall call you Rogue."
  1:  Add  {"QBits", Value = 18}         -- "Go to Lord Markham's estate in Tatalia, steal the vase there, and return it to William Lasker in the Erathian Sewers."
  2:  SetNPCTopic  {NPC = 15, Index = 0, Event = 45}         -- "William Lasker" : "Rogue "
end

event 45  -- "Rogue "
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 624,   jump = 4}         -- "Vase"
  2:  SetMessage  {Str = 56}         -- "Common criminals steal whatever catches their eye; Rogues steal what I tell them to steal.  I shall not grant titles to failures.  Return with Lord Markham’s Vase and I will promote all Thieves to Rogues, and all non-thieves to Honorary Rogues."
  3:  Exit  {}

  4:  SetMessage  {Str = 57}         -- "Well done.  Stealing that vase took guts and skill.  I grant you the title of Rogue, and a small payment for your services. "
  5:  ForPlayer  (0)
  6:  Cmp  {"ClassIs", Value = const.Class.Thief,   jump = 10}
  7:  Add  {"Awards", Value = 11}         -- "Promoted to Honorary Rogue"
  8:  Add  {"Experience", Value = 15000}
  9:  GoTo  {jump = 13}

  10: Set  {"ClassIs", Value = const.Class.Rogue}
  11: Add  {"Awards", Value = 10}         -- "Promoted to Rogue"
  12: Add  {"Experience", Value = 30000}
  13: ForPlayer  (1)
  14: Cmp  {"ClassIs", Value = const.Class.Thief,   jump = 18}
  15: Add  {"Awards", Value = 11}         -- "Promoted to Honorary Rogue"
  16: Add  {"Experience", Value = 15000}
  17: GoTo  {jump = 21}

  18: Set  {"ClassIs", Value = const.Class.Rogue}
  19: Add  {"Awards", Value = 10}         -- "Promoted to Rogue"
  20: Add  {"Experience", Value = 30000}
  21: ForPlayer  (2)
  22: Cmp  {"ClassIs", Value = const.Class.Thief,   jump = 26}
  23: Add  {"Awards", Value = 11}         -- "Promoted to Honorary Rogue"
  24: Add  {"Experience", Value = 15000}
  25: GoTo  {jump = 29}

  26: Set  {"ClassIs", Value = const.Class.Rogue}
  27: Add  {"Awards", Value = 10}         -- "Promoted to Rogue"
  28: Add  {"Experience", Value = 30000}
  29: ForPlayer  (3)
  30: Cmp  {"ClassIs", Value = const.Class.Thief,   jump = 34}
  31: Add  {"Awards", Value = 11}         -- "Promoted to Honorary Rogue"
  32: Add  {"Experience", Value = 15000}
  33: GoTo  {jump = 37}

  34: Set  {"ClassIs", Value = const.Class.Rogue}
  35: Add  {"Awards", Value = 10}         -- "Promoted to Rogue"
  36: Add  {"Experience", Value = 30000}
  37: Subtract  {"Inventory", Value = 624}         -- "Vase"
  38: Subtract  {"QBits", Value = 212}         -- Vase - I lost it
  39: ForPlayer  ("All")
  40: ForPlayer  ("Current")
  41: Add  {"Gold", Value = 5000}
  42: Subtract  {"QBits", Value = 18}         -- "Go to Lord Markham's estate in Tatalia, steal the vase there, and return it to William Lasker in the Erathian Sewers."
  43: SetNPCTopic  {NPC = 15, Index = 0, Event = 46}         -- "William Lasker" : "Spy"
end

event 46  -- "Spy"
  0:  ForPlayer  ("All")
  1:  Cmp  {"QBits", Value = 99,   jump = 8}         -- Chose the path of Light
  2:  Cmp  {"QBits", Value = 100,   jump = 4}         -- Chose the path of Dark
  3:  GoTo  {jump = 6}

  4:  SetMessage  {Str = 58}         -- "You have chosen the path of Darkness, and I will promote you no further.  Perhaps an Assassin would have something to teach you.  I hear there is one in Deyja."
  5:  Exit  {}

  6:  SetMessage  {Str = 59}         -- "You are not quite ready to take the next step.  The time is fast approaching when you must decide whether to follow the path of light, or the path of darkness.  If you choose the Light, return to me to complete your training."
  7:  Exit  {}

  8:  SetMessage  {Str = 60}         -- "Your next task is somewhat more difficult…more suited for Spies than Rogues.  I have been asked to ensure that Watchtower 6, the only tower to survive the recent wars against the Necromancers, be unable to defend itself the next time it is attacked.  Killing the guards inside won’t help—the Necromancers will just fill it again with more troops.  The tower is on the southern edge of the Necromancers’ land.  I want you to slip inside and move the counterweight in the gatehouse at the top of the tower to the gatehouse at the bottom of the tower.  It is a heavy weight that can be found in a slot against the wall with a rope tied to it.  When the time comes for an attack, the misplaced weights will be noticed too late, and the gate will not close.  If you can do this, you will have proven your status as a Spy."
  9:  Set  {"QBits", Value = 19}         -- "Go to Watchtower 6 in the Deyja Moors, and move the weight from the top of the tower to the bottom of the tower.  Then return to William Lasker in the Erathian Sewers."
  10: SetNPCTopic  {NPC = 15, Index = 0, Event = 47}         -- "William Lasker" : "Spy"
end

event 47  -- "Spy"
  0:  ForPlayer  ("All")
  1:  Cmp  {"QBits", Value = 20,   jump = 10}         -- Watchtower 6.  Weight in the appropriate box.  Important for Global event 47 (Spy promotion)
  2:  Cmp  {"Inventory", Value = 999,   jump = 6}         -- not found!
  3:  Cmp  {"QBits", Value = 56,   jump = 8}         -- Watchtower 6.  Taken the weight from the upper gatehouse.  Spy promo quest
  4:  SetMessage  {Str = 63}         -- "You haven’t done the job yet!  Remember, you must go to Watchtower 6 and move the weight from the box in the upper gatehouse to the lower gatehouse.  I will not promote you until that is done. "
  5:  Exit  {}

  6:  SetMessage  {Str = 61}         -- "Um…The weight needs to go in the box in the lower gatehouse—not here.  Go back to Watchtower 6 and put the weight in the right box!"
  7:  Exit  {}

  8:  SetMessage  {Str = 62}         -- "Hmm.  Removing the weight from the upper gatehouse was a start, but where is it now?!?  The plan won’t work unless you put the weight in the lower gatehouse!  Go back to Watchtower 6 and put the weight in the right box!"
  9:  Exit  {}

  10: SetMessage  {Str = 64}         -- "Good work!  Some day, your sabotage of that watchtower will save hundreds of lives.  For your services, I hereby promote the Rogues among you to the status of Spy, and the Honorary Rogues to Honorary Spies! Oh, and here’s some gold as payment. "
  11: ForPlayer  (0)
  12: Cmp  {"ClassIs", Value = const.Class.Rogue,   jump = 16}
  13: Add  {"Awards", Value = 13}         -- "Promoted to Honorary Spy"
  14: Add  {"Experience", Value = 40000}
  15: GoTo  {jump = 19}

  16: Set  {"ClassIs", Value = const.Class.Spy}
  17: Add  {"Awards", Value = 12}         -- "Promoted to Spy"
  18: Add  {"Experience", Value = 80000}
  19: ForPlayer  (1)
  20: Cmp  {"ClassIs", Value = const.Class.Rogue,   jump = 24}
  21: Add  {"Awards", Value = 13}         -- "Promoted to Honorary Spy"
  22: Add  {"Experience", Value = 40000}
  23: GoTo  {jump = 27}

  24: Set  {"ClassIs", Value = const.Class.Spy}
  25: Add  {"Awards", Value = 12}         -- "Promoted to Spy"
  26: Add  {"Experience", Value = 80000}
  27: ForPlayer  (2)
  28: Cmp  {"ClassIs", Value = const.Class.Rogue,   jump = 32}
  29: Add  {"Awards", Value = 13}         -- "Promoted to Honorary Spy"
  30: Add  {"Experience", Value = 40000}
  31: GoTo  {jump = 35}

  32: Set  {"ClassIs", Value = const.Class.Spy}
  33: Add  {"Awards", Value = 12}         -- "Promoted to Spy"
  34: Add  {"Experience", Value = 80000}
  35: ForPlayer  (3)
  36: Cmp  {"ClassIs", Value = const.Class.Rogue,   jump = 40}
  37: Add  {"Awards", Value = 13}         -- "Promoted to Honorary Spy"
  38: Add  {"Experience", Value = 40000}
  39: GoTo  {jump = 43}

  40: Set  {"ClassIs", Value = const.Class.Spy}
  41: Add  {"Awards", Value = 12}         -- "Promoted to Spy"
  42: Add  {"Experience", Value = 80000}
  43: Add  {"Gold", Value = 15000}
  44: Subtract  {"QBits", Value = 19}         -- "Go to Watchtower 6 in the Deyja Moors, and move the weight from the top of the tower to the bottom of the tower.  Then return to William Lasker in the Erathian Sewers."
  45: ForPlayer  ("All")
  46: SetNPCTopic  {NPC = 15, Index = 0, Event = 0}         -- "William Lasker"
  47: SetNPCGreeting  {NPC = 15, Greeting = 39}         -- "William Lasker" : "Greetings Rogues, how may I be of service?"
end

event 48  -- "Greetings from BDJ!"
  0:  SetMessage  {Str = 71}         --[[ "BDJ’s the name, coding wizard’s the Game! And I do trust that you are enjoying the ‘game’.

I see that you have survived The Gauntlet in good fashion.  Congratulations!  You may now select a new profession for each qualified party member.  Each member will be presented with three choices for a new profession.  Based upon the choice, twenty ‘bonus’ points will be distributed to one-or-more attributes: re, a new fighter will gain +15 Endurance and +5 Might; a new sorcerer will gain +20 Intellect.

When you select the new profession, the member will automatically be promoted to the highest rating in that character class; re, a Fighter will immediately become a Champion, a Sorcerer an Arch Mage.  Once you’ve selected your new profession, you will no longer continue to advance in your original profession, although you will retain all or your previous skill and spell abilities." ]]
  1:  ForPlayer  ("All")
  2:  SetNPCTopic  {NPC = 456, Index = 0, Event = 49}         -- "The Coding Wizard" : "How does this work?"
  3:  MoveNPC  {NPC = 460, HouseId = 470}         -- "Lord Godwinson" -> "Godwinson Estate"
  4:  SetNPCTopic  {NPC = 460, Index = 0, Event = 96}         -- "Lord Godwinson" : "Coding Wizard Quest"
  5:  SetNPCGreeting  {NPC = 460, Greeting = 26}         -- "Lord Godwinson" : "Well met, my friends!  Sit a-spell and tell me all about your recent adventures."
end

event 49  -- "How does this work?"
  0:  SetMessage  {Str = 72}         --[[ "Here’s how the process works.  You have four members in your party; member 1, member 2, member 3, and member 4 (from left-to-right).  Each time you select “New Profession”, you will ‘index’ to a different party member, starting at member 1.  The member will be presented with a single ‘fast track’ choice.  You may either select this choice or ‘EXIT’ and then select me a second time to be presented with three choices.

When the selected party member has chosen a new profession, proceed to the Brazier to acquire the new profession and then return to me.  When all four members have selected their new Profession, return to me one more time and then we’re done.  So let’s get started, ok?" ]]
  1:  ForPlayer  ("All")
  2:  SetNPCTopic  {NPC = 456, Index = 0, Event = 50}         -- "The Coding Wizard" : "New Profession."
end

event 50  -- "New Profession."
  0:  ForPlayer  ("All")
  1:  Cmp  {"QBits", Value = 338,   jump = 13}         -- BDJ Final
  2:  Cmp  {"QBits", Value = 337,   jump = 10}         -- BDJ 3
  3:  Cmp  {"QBits", Value = 336,   jump = 7}         -- BDJ 2
  4:  SetMessage  {Str = 83}         -- "Adventurer 1, select your new profession."
  5:  ForPlayer  (0)
  6:  GoTo  {jump = 17}

  7:  SetMessage  {Str = 84}         -- "Adventurer 2, select your new profession."
  8:  ForPlayer  (1)
  9:  GoTo  {jump = 17}

  10: SetMessage  {Str = 85}         -- "Adventurer 3, select your new profession."
  11: ForPlayer  (2)
  12: GoTo  {jump = 17}

  13: SetMessage  {Str = 86}         -- "Adventurer 4, select your new profession."
  14: ForPlayer  (3)
  15: GoTo  {jump = 17}

  16: Exit  {}

  17: Set  {"QBits", Value = 349}         -- One Use
  18: Cmp  {"ClassIs", Value = const.Class.ArchMage,   jump = 32}
  19: Cmp  {"ClassIs", Value = const.Class.PriestLight,   jump = 36}
  20: Cmp  {"ClassIs", Value = const.Class.MasterArcher,   jump = 40}
  21: Cmp  {"ClassIs", Value = const.Class.ArchDruid,   jump = 44}
  22: Cmp  {"ClassIs", Value = const.Class.Champion,   jump = 48}
  23: Cmp  {"ClassIs", Value = const.Class.Master,   jump = 52}
  24: Cmp  {"ClassIs", Value = const.Class.Hero,   jump = 56}
  25: Cmp  {"ClassIs", Value = const.Class.RangerLord,   jump = 60}
  26: Cmp  {"ClassIs", Value = const.Class.Spy,   jump = 64}
  27: Subtract  {"QBits", Value = 349}         -- One Use
  28: SetMessage  {Str = 40}         -- "You don't Qualify"
  29: Exit  {}

  30: Exit  {}

  31: Exit  {}

  32: SetNPCTopic  {NPC = 456, Index = 0, Event = 70}         -- "The Coding Wizard" : "Archer"
  33: SetNPCTopic  {NPC = 456, Index = 1, Event = 86}         -- "The Coding Wizard" : "Paladin"
  34: SetNPCTopic  {NPC = 456, Index = 2, Event = 57}         -- "The Coding Wizard" : "Cleric"
  35: GoTo  {jump = 67}

  36: SetNPCTopic  {NPC = 456, Index = 0, Event = 75}         -- "The Coding Wizard" : "Druid"
  37: SetNPCTopic  {NPC = 456, Index = 1, Event = 86}         -- "The Coding Wizard" : "Paladin"
  38: SetNPCTopic  {NPC = 456, Index = 2, Event = 70}         -- "The Coding Wizard" : "Archer"
  39: GoTo  {jump = 67}

  40: SetNPCTopic  {NPC = 456, Index = 0, Event = 86}         -- "The Coding Wizard" : "Paladin"
  41: SetNPCTopic  {NPC = 456, Index = 1, Event = 81}         -- "The Coding Wizard" : "Monk"
  42: SetNPCTopic  {NPC = 456, Index = 2, Event = 75}         -- "The Coding Wizard" : "Druid"
  43: GoTo  {jump = 67}

  44: SetNPCTopic  {NPC = 456, Index = 0, Event = 70}         -- "The Coding Wizard" : "Archer"
  45: SetNPCTopic  {NPC = 456, Index = 1, Event = 81}         -- "The Coding Wizard" : "Monk"
  46: SetNPCTopic  {NPC = 456, Index = 2, Event = 56}         -- "The Coding Wizard" : "Sorcerer"
  47: GoTo  {jump = 67}

  48: SetNPCTopic  {NPC = 456, Index = 0, Event = 70}         -- "The Coding Wizard" : "Archer"
  49: SetNPCTopic  {NPC = 456, Index = 1, Event = 76}         -- "The Coding Wizard" : "Ranger"
  50: SetNPCTopic  {NPC = 456, Index = 2, Event = 75}         -- "The Coding Wizard" : "Druid"
  51: GoTo  {jump = 67}

  52: SetNPCTopic  {NPC = 456, Index = 0, Event = 82}         -- "The Coding Wizard" : "Thief"
  53: SetNPCTopic  {NPC = 456, Index = 1, Event = 75}         -- "The Coding Wizard" : "Druid"
  54: SetNPCTopic  {NPC = 456, Index = 2, Event = 70}         -- "The Coding Wizard" : "Archer"
  55: GoTo  {jump = 67}

  56: SetNPCTopic  {NPC = 456, Index = 0, Event = 75}         -- "The Coding Wizard" : "Druid"
  57: SetNPCTopic  {NPC = 456, Index = 1, Event = 76}         -- "The Coding Wizard" : "Ranger"
  58: SetNPCTopic  {NPC = 456, Index = 2, Event = 70}         -- "The Coding Wizard" : "Archer"
  59: GoTo  {jump = 67}

  60: SetNPCTopic  {NPC = 456, Index = 0, Event = 70}         -- "The Coding Wizard" : "Archer"
  61: SetNPCTopic  {NPC = 456, Index = 1, Event = 86}         -- "The Coding Wizard" : "Paladin"
  62: SetNPCTopic  {NPC = 456, Index = 2, Event = 82}         -- "The Coding Wizard" : "Thief"
  63: GoTo  {jump = 67}

  64: SetNPCTopic  {NPC = 456, Index = 0, Event = 70}         -- "The Coding Wizard" : "Archer"
  65: SetNPCTopic  {NPC = 456, Index = 1, Event = 69}         -- "The Coding Wizard" : "Fighter"
  66: SetNPCTopic  {NPC = 456, Index = 2, Event = 81}         -- "The Coding Wizard" : "Monk"
  67: SetNPCTopic  {NPC = 456, Index = 3, Event = 123}         -- "The Coding Wizard" : "No Thanks."
  68: Exit  {}
end

event 51  -- "Crusader"
  0:  ForPlayer  ("Current")
  1:  SetMessage  {Str = 74}         -- "If you wish to be promoted to Crusader, you must first bring me the map that indicates the location of Sir BunGleau's panoply. Here, take this scroll of the Saints.  It will provide you with a firm foundation as you begin your quest."
  2:  Set  {"QBits", Value = 22}         -- "Find the map that shows the location of Sir BunGleau's panoply and return it to the Massenger of the Saints.."
  3:  Add  {"Inventory", Value = 730}         -- "Saints of Selinas Scroll 2"
  4:  SetNPCGreeting  {NPC = 450, Greeting = 10}         -- "Messenger of the Saints" : "Greetings again, friends."
  5:  SetNPCTopic  {NPC = 450, Index = 0, Event = 52}         -- "Messenger of the Saints" : "Crusader"
  6:  Exit  {}
end

event 52  -- "Crusader"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 739,   jump = 4}         -- "Map to Treasure"
  2:  SetMessage  {Str = 76}         -- "You must bring the map to me before I can name thee Crusaders."
  3:  Exit  {}

  4:  SetMessage  {Str = 75}         -- "Ahh!  I see you've completed your quest and have returned with the map.  May the Saints be praised! I hereby promote all Paladins to Crusaders, and all others to Honorary Crusaders!  Congratulations!"
  5:  ForPlayer  (0)
  6:  Cmp  {"ClassIs", Value = const.Class.Paladin,   jump = 10}
  7:  Add  {"Awards", Value = 41}         -- "Promoted to Honorary Crusader"
  8:  Add  {"Experience", Value = 15000}
  9:  GoTo  {jump = 13}

  10: Set  {"ClassIs", Value = const.Class.Crusader}
  11: Add  {"Awards", Value = 40}         -- "Promoted to Crusader"
  12: Add  {"Experience", Value = 30000}
  13: ForPlayer  (1)
  14: Cmp  {"ClassIs", Value = const.Class.Paladin,   jump = 18}
  15: Add  {"Awards", Value = 41}         -- "Promoted to Honorary Crusader"
  16: Add  {"Experience", Value = 15000}
  17: GoTo  {jump = 21}

  18: Set  {"ClassIs", Value = const.Class.Crusader}
  19: Add  {"Awards", Value = 40}         -- "Promoted to Crusader"
  20: Add  {"Experience", Value = 30000}
  21: ForPlayer  (2)
  22: Cmp  {"ClassIs", Value = const.Class.Paladin,   jump = 26}
  23: Add  {"Awards", Value = 41}         -- "Promoted to Honorary Crusader"
  24: Add  {"Experience", Value = 15000}
  25: GoTo  {jump = 29}

  26: Set  {"ClassIs", Value = const.Class.Crusader}
  27: Add  {"Awards", Value = 40}         -- "Promoted to Crusader"
  28: Add  {"Experience", Value = 30000}
  29: ForPlayer  (3)
  30: Cmp  {"ClassIs", Value = const.Class.Paladin,   jump = 34}
  31: Add  {"Awards", Value = 41}         -- "Promoted to Honorary Crusader"
  32: Add  {"Experience", Value = 15000}
  33: GoTo  {jump = 37}

  34: Set  {"ClassIs", Value = const.Class.Crusader}
  35: Add  {"Awards", Value = 40}         -- "Promoted to Crusader"
  36: Add  {"Experience", Value = 30000}
  37: Subtract  {"QBits", Value = 22}         -- "Find the map that shows the location of Sir BunGleau's panoply and return it to the Massenger of the Saints.."
  38: Subtract  {"NPCs", Value = 17}         -- "Sally"
  39: Subtract  {"Inventory", Value = 739}         -- "Map to Treasure"
  40: Subtract  {"Inventory", Value = 729}         -- "Saints of Selinas Scroll 1"
  41: Subtract  {"Inventory", Value = 733}         -- "Saints of Selinas Scroll 5"
  42: Subtract  {"Inventory", Value = 730}         -- "Saints of Selinas Scroll 2"
  43: Subtract  {"Inventory", Value = 735}         -- "Saints of Selinas Scroll 6"
  44: Subtract  {"Inventory", Value = 731}         -- "Saints of Selinas Scroll 3"
  45: Subtract  {"Inventory", Value = 732}         -- "Saints of Selinas Scroll 4"
  46: ForPlayer  ("All")
  47: SetNPCTopic  {NPC = 450, Index = 0, Event = 53}         -- "Messenger of the Saints" : "Hero"
end

event 53  -- "Hero"
  0:  Cmp  {"QBits", Value = 99,   jump = 6}         -- Chose the path of Light
  1:  Cmp  {"QBits", Value = 100,   jump = 4}         -- Chose the path of Dark
  2:  SetMessage  {Str = 79}         -- "Ah, my Crusader friends!  I know you seek another task with which to hone your Crusading skills, but first you must pass a far more serious test.  You must agree to follow the Path of Light before I can help you further.  You will know when you have made this choice.  Return to me then."
  3:  Exit  {}

  4:  SetMessage  {Str = 78}         -- "I will not have truck with thee further, scoundrel!  I see now thee hath chosen the path of Darkness.  Mayhaps thee should seek a villain like thyself for training."
  5:  Exit  {}

  6:  SetMessage  {Str = 77}         -- "I am pleased to see you have chosen the path of Light, Crusaders!  It is now time to retrieve the panoply of Sir BunGleau and once again employ it in the fight against the Dark!!  To accomplish this you must return to Emerald Island and drink from the Well of Luck.  This will transport you to the Place of Hiding where you will find the panoply.  Return to me with this panoply to complete your promotion.  ** Oh ... beware of the Blue Guardians!! *"
  7:  SetNPCTopic  {NPC = 450, Index = 0, Event = 54}         -- "Messenger of the Saints" : "Hero"
  8:  Set  {"QBits", Value = 24}         -- "Find the Blessed Panoply of Sir BunGleau and return to the Angel in Castle Harmondale""
  9:  SetNPCGreeting  {NPC = 450, Greeting = 10}         -- "Messenger of the Saints" : "Greetings again, friends."
  10: Exit  {}
end

event 54  -- "Hero"
  0:  Cmp  {"Inventory", Value = 557,   jump = 3}         -- "SBG's Blessed Gauntlets"
  1:  SetMessage  {Str = 81}         -- "Though your deeds remain impressive indeed, crusaders, I cannot declare you Heroes until you return the panoply to me."
  2:  Exit  {}

  3:  SetMessage  {Str = 80}         -- "You’ve done it! I knew you could do it!  I’m so proud of you!  Another victory for the Light!  You can keep the panoply and use it for Truth, Justice, and the Erathian way! [The Angel sighs and smiles broadly] Well.  My work here is done!  You have passed the tests and deserve your reward.  Therefore do I solemnly declare you Heroes! "
  4:  ForPlayer  (0)
  5:  Cmp  {"ClassIs", Value = const.Class.Crusader,   jump = 9}
  6:  Add  {"Awards", Value = 43}         -- "Promoted to Honorary Hero"
  7:  Add  {"Experience", Value = 40000}
  8:  GoTo  {jump = 12}

  9:  Set  {"ClassIs", Value = const.Class.Hero}
  10: Add  {"Awards", Value = 42}         -- "Promoted to Hero"
  11: Add  {"Experience", Value = 80000}
  12: ForPlayer  (1)
  13: Cmp  {"ClassIs", Value = const.Class.Crusader,   jump = 17}
  14: Add  {"Awards", Value = 43}         -- "Promoted to Honorary Hero"
  15: Add  {"Experience", Value = 40000}
  16: GoTo  {jump = 20}

  17: Set  {"ClassIs", Value = const.Class.Hero}
  18: Add  {"Awards", Value = 42}         -- "Promoted to Hero"
  19: Add  {"Experience", Value = 80000}
  20: ForPlayer  (2)
  21: Cmp  {"ClassIs", Value = const.Class.Crusader,   jump = 25}
  22: Add  {"Awards", Value = 43}         -- "Promoted to Honorary Hero"
  23: Add  {"Experience", Value = 40000}
  24: GoTo  {jump = 28}

  25: Set  {"ClassIs", Value = const.Class.Hero}
  26: Add  {"Awards", Value = 42}         -- "Promoted to Hero"
  27: Add  {"Experience", Value = 80000}
  28: ForPlayer  (3)
  29: Cmp  {"ClassIs", Value = const.Class.Crusader,   jump = 33}
  30: Add  {"Awards", Value = 43}         -- "Promoted to Honorary Hero"
  31: Add  {"Experience", Value = 40000}
  32: GoTo  {jump = 36}

  33: Set  {"ClassIs", Value = const.Class.Hero}
  34: Add  {"Awards", Value = 42}         -- "Promoted to Hero"
  35: Add  {"Experience", Value = 80000}
  36: Subtract  {"QBits", Value = 24}         -- "Find the Blessed Panoply of Sir BunGleau and return to the Angel in Castle Harmondale""
  37: Subtract  {"NPCs", Value = 54}         -- "Alice Hargreaves"
  38: Subtract  {"Reputation", Value = 10}
  39: ForPlayer  ("All")
  40: SetNPCGreeting  {NPC = 450, Greeting = 46}         -- "Messenger of the Saints" : "Salutations Heroes!  I am certain thou hast much to accomplish before we dally about."
  41: SetMonGroupBit  {NPCGroup = 10, Bit = const.MonsterBits.Invisible, On = true}         -- "Southern Village Group in Harmondy"
  42: SetNPCTopic  {NPC = 450, Index = 0, Event = 0}         -- "Messenger of the Saints"
  43: Set  {"QBits", Value = 373}         -- Harm no respawn
end

event 55  -- "Hello?"
  0:  Cmp  {"QBits", Value = 99,   jump = 4}         -- Chose the path of Light
  1:  Cmp  {"QBits", Value = 100,   jump = 11}         -- Chose the path of Dark
  2:  SetMessage  {Str = 83}         -- "Adventurer 1, select your new profession."
  3:  Exit  {}

  4:  Cmp  {"QBits", Value = 25,   jump = 9}         -- Mini-dungeon Area 5.  Rescued/Captured Alice Hargreaves.
  5:  SetMessage  {Str = 84}         -- "Adventurer 2, select your new profession."
  6:  Set  {"QBits", Value = 25}         -- Mini-dungeon Area 5.  Rescued/Captured Alice Hargreaves.
  7:  Set  {"NPCs", Value = 54}         -- "Alice Hargreaves"
  8:  Exit  {}

  9:  SetMessage  {Str = 85}         -- "Adventurer 3, select your new profession."
  10: Exit  {}

  11: Cmp  {"QBits", Value = 25,   jump = 16}         -- Mini-dungeon Area 5.  Rescued/Captured Alice Hargreaves.
  12: SetMessage  {Str = 86}         -- "Adventurer 4, select your new profession."
  13: Set  {"QBits", Value = 25}         -- Mini-dungeon Area 5.  Rescued/Captured Alice Hargreaves.
  14: Set  {"NPCs", Value = 54}         -- "Alice Hargreaves"
  15: Exit  {}

  16: SetMessage  {Str = 87}         -- "There ya go!  Now return this scroll to Lord Godwinson to complete this quest.  Then he’ll know that I am more than a myth."
  17: Exit  {}
end

event 56  -- "Sorcerer"
  0:  ForPlayer  ("All")
  1:  Set  {"QBits", Value = 339}         -- Sorcerer
  2:  SetNPCTopic  {NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
  3:  SetNPCTopic  {NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
  4:  SetNPCTopic  {NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
  5:  SetMessage  {Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
  6:  Exit  {}
end

event 57  -- "Cleric"
  0:  ForPlayer  ("All")
  1:  Set  {"QBits", Value = 340}         -- Cleric
  2:  SetNPCTopic  {NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
  3:  SetNPCTopic  {NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
  4:  SetNPCTopic  {NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
  5:  SetMessage  {Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
  6:  Exit  {}
end

event 58  -- "Initiate"
  0:  SetMessage  {Str = 93}         -- "Ah, it is normal for novice Monks to ask for the path of enlightenment.  I shall tell you of the path, though the journey is yours to make.  In the Barrow Downs is a series of tombs-- one of which was constructed on a site of great natural power.  You will know the right barrow because it is different from the rest.  Reach this barrow and meditate by the water, and your promotion to Initiate will be complete."
  1:  Set  {"QBits", Value = 27}         -- "Find the lost meditation spot in the Dwarven Barrows."
  2:  SetNPCTopic  {NPC = 38, Index = 1, Event = 59}         -- "Bartholomew Hume" : "Initiate"
end

event 59  -- "Initiate"
  0:  SetMessage  {Str = 95}         -- "You have not finished your journey.  Return to me only when you have completed your task."
end

event 60  -- "Initiate"
  0:  SetMessage  {Str = 94}         -- "[Bartholomew Hume contacts you mentally] Congratulations, young ones.  My final lesson given to you as Monks is this:  enlightenment is gained by the journey, not the destination.  In this case, the destination was critical to prove that you were capable of the journey.  I shall now promote all Monks to Initiates and everyone else to Honorary Initiates-- congratulations."
  1:  ForPlayer  (0)
  2:  Cmp  {"ClassIs", Value = const.Class.Monk,   jump = 6}
  3:  Add  {"Awards", Value = 23}         -- "Promoted to Honorary Initiate"
  4:  Add  {"Experience", Value = 15000}
  5:  GoTo  {jump = 9}

  6:  Set  {"ClassIs", Value = const.Class.Initiate}
  7:  Add  {"Awards", Value = 22}         -- "Promoted to Initiate"
  8:  Add  {"Experience", Value = 30000}
  9:  ForPlayer  (1)
  10: Cmp  {"ClassIs", Value = const.Class.Monk,   jump = 14}
  11: Add  {"Awards", Value = 23}         -- "Promoted to Honorary Initiate"
  12: Add  {"Experience", Value = 15000}
  13: GoTo  {jump = 17}

  14: Set  {"ClassIs", Value = const.Class.Initiate}
  15: Add  {"Awards", Value = 22}         -- "Promoted to Initiate"
  16: Add  {"Experience", Value = 30000}
  17: ForPlayer  (2)
  18: Cmp  {"ClassIs", Value = const.Class.Monk,   jump = 22}
  19: Add  {"Awards", Value = 23}         -- "Promoted to Honorary Initiate"
  20: Add  {"Experience", Value = 15000}
  21: GoTo  {jump = 25}

  22: Set  {"ClassIs", Value = const.Class.Initiate}
  23: Add  {"Awards", Value = 22}         -- "Promoted to Initiate"
  24: Add  {"Experience", Value = 30000}
  25: ForPlayer  (3)
  26: Cmp  {"ClassIs", Value = const.Class.Monk,   jump = 30}
  27: Add  {"Awards", Value = 23}         -- "Promoted to Honorary Initiate"
  28: Add  {"Experience", Value = 15000}
  29: GoTo  {jump = 33}

  30: Set  {"ClassIs", Value = const.Class.Initiate}
  31: Add  {"Awards", Value = 22}         -- "Promoted to Initiate"
  32: Add  {"Experience", Value = 30000}
  33: Subtract  {"QBits", Value = 27}         -- "Find the lost meditation spot in the Dwarven Barrows."
  34: ForPlayer  ("All")
  35: SetNPCTopic  {NPC = 38, Index = 1, Event = 61}         -- "Bartholomew Hume" : "Master"
  36: SetNPCTopic  {NPC = 55, Index = 0, Event = 0}         -- "Bartholomew Hume"
end

event 61  -- "Master"
  0:  Cmp  {"QBits", Value = 100,   jump = 4}         -- Chose the path of Dark
  1:  Cmp  {"QBits", Value = 99,   jump = 6}         -- Chose the path of Light
  2:  SetMessage  {Str = 98}         -- "A fork approaches in your path.  I will only train you after you've chosen to walk the lighter path."
  3:  Exit  {}

  4:  SetMessage  {Str = 97}         -- "I am sorry, but I am permitted to train you no longer.  You will need to find a new Master to learn from."
  5:  Exit  {}

  6:  SetMessage  {Str = 96}         -- "I see you wish to continue your journey.  Excellent!  Have no fear, for you are prepared for your next step.  You must extinguish the remnants of an evil order- the Order of Baa.  Defeat their High Priest and return to me and I shall complete your training and promote you to Master."
  7:  Set  {"QBits", Value = 28}         -- "Go to the Temple of Baa in Avlee and kill the High Priest of Baa, then return to Bartholomew Hume in Harmondale."
  8:  SetNPCTopic  {NPC = 38, Index = 1, Event = 62}         -- "Bartholomew Hume" : "Master"
end

event 62  -- "Master"
  0:  ForPlayer  ("All")
  1:  Cmp  {"QBits", Value = 243,   jump = 4}         -- Killed High Preist of Baa
  2:  SetMessage  {Str = 135}         -- "The Temple of Baa still stands, their High Priest still lives.  Until this is completed, you are not ready for the title of Master.  Go now and do not fail."
  3:  Exit  {}

  4:  SetMessage  {Str = 134}         -- "Good work.  No longer shall the Order of Baa stain the lands of Erathia.  Now, allow me to promote all Initiates to Masters, and all Honorary Initiates to Honorary Masters.  Keep in mind that this is but a stop along the path of enlightenment.  Your journey only ends with your eventual death-- never close your mind."
  5:  ForPlayer  (0)
  6:  Cmp  {"ClassIs", Value = const.Class.Initiate,   jump = 10}
  7:  Add  {"Awards", Value = 25}         -- "Promoted to Honorary Master"
  8:  Add  {"Experience", Value = 40000}
  9:  GoTo  {jump = 13}

  10: Set  {"ClassIs", Value = const.Class.Master}
  11: Add  {"Awards", Value = 24}         -- "Promoted to Master"
  12: Add  {"Experience", Value = 80000}
  13: ForPlayer  (1)
  14: Cmp  {"ClassIs", Value = const.Class.Initiate,   jump = 18}
  15: Add  {"Awards", Value = 25}         -- "Promoted to Honorary Master"
  16: Add  {"Experience", Value = 40000}
  17: GoTo  {jump = 21}

  18: Set  {"ClassIs", Value = const.Class.Master}
  19: Add  {"Awards", Value = 24}         -- "Promoted to Master"
  20: Add  {"Experience", Value = 80000}
  21: ForPlayer  (2)
  22: Cmp  {"ClassIs", Value = const.Class.Initiate,   jump = 26}
  23: Add  {"Awards", Value = 25}         -- "Promoted to Honorary Master"
  24: Add  {"Experience", Value = 40000}
  25: GoTo  {jump = 29}

  26: Set  {"ClassIs", Value = const.Class.Master}
  27: Add  {"Awards", Value = 24}         -- "Promoted to Master"
  28: Add  {"Experience", Value = 80000}
  29: ForPlayer  (3)
  30: Cmp  {"ClassIs", Value = const.Class.Initiate,   jump = 34}
  31: Add  {"Awards", Value = 25}         -- "Promoted to Honorary Master"
  32: Add  {"Experience", Value = 40000}
  33: GoTo  {jump = 37}

  34: Set  {"ClassIs", Value = const.Class.Master}
  35: Add  {"Awards", Value = 24}         -- "Promoted to Master"
  36: Add  {"Experience", Value = 80000}
  37: Add  {"Gold", Value = 7500}
  38: Subtract  {"QBits", Value = 28}         -- "Go to the Temple of Baa in Avlee and kill the High Priest of Baa, then return to Bartholomew Hume in Harmondale."
  39: Subtract  {"Reputation", Value = 10}
  40: ForPlayer  ("All")
  41: SetNPCTopic  {NPC = 38, Index = 1, Event = 0}         -- "Bartholomew Hume"
  42: SetNPCGreeting  {NPC = 38, Greeting = 52}         -- "Bartholomew Hume" : "Greetings again, Masters.  How can Bartholomew aid you?"
end

event 63  -- "Quest"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 552,   jump = 5}         -- "Grognard's Cutlass"
  2:  SetMessage  {Str = 2}         --[[ "The Stable Guild has discovered that a raiding force of Goblins, lead by the infamous Grognard, is poised to launch an incursion into Harmondale.  Until this threat is ‘neutralized’, the stables will remain closed.

The Guild has intercepted and ‘detained’ a Goblin courier who has revealed that the Goblin force will launch their attack shortly after ‘signal fires’ are lighted.  Don’t know about these ‘signal fires’, but if you can find them, light them, and then ambush the invasion force, perhaps you could deal with this threat decisively.

If you will ‘neutralize’ this threat and bring me proof that it is safe once again to renew our services, I will re-open the stables.  The proof I will need is the Grognard’s Cutlass carried by the Goblin leader." ]]
  3:  Set  {"QBits", Value = 383}         -- "Bring the Grognard's Cutlass to Christian at the J.V.C Corral."
  4:  Exit  {}

  5:  SetMessage  {Str = 53}         -- "I see you’ve cleared the area of Goblins and have returned with Grognard’s Cutlass.  Good job!  The stables will now renew our services."
  6:  Set  {"Awards", Value = 26}         -- "Reopened Harmondale Stables"
  7:  Add  {"Experience", Value = 7500}
  8:  Add  {"Gold", Value = 500}
  9:  Subtract  {"QBits", Value = 383}         -- "Bring the Grognard's Cutlass to Christian at the J.V.C Corral."
  10: SetNPCTopic  {NPC = 461, Index = 0, Event = 0}         -- "Christian the Stablemaster"
  11: Exit  {}
end

event 64  -- "Ninja"
  0:  ForPlayer  ("All")
  1:  Cmp  {"QBits", Value = 242,   jump = 7}         -- Opened chest with shadow mask
  2:  Cmp  {"QBits", Value = 57,   jump = 5}         -- Solved the code puzzle.  Ninja promo quest
  3:  SetMessage  {Str = 141}         -- "[Sand sighs] Once again, the cipher key is the third word of the first paragraph of the Scroll of Waves.  You can find it somewhere in the School of Wizardry.  I don't care how you get in there--kill anyone who gets in your way, or sneak in.  Whatever you want.  The only thing that matters is success.  Everything else is an excuse for personal weakness."
  4:  Exit  {}

  5:  SetMessage  {Str = 140}         -- "So you have the key, but you haven't followed the directions in the message.  Remember, the tomb is in Southern Erathia.  Complete your task, and return to me to report success.  If you can't complete your mission, don't bother returning to me.  Failure is pathetic."
  6:  Exit  {}

  7:  SetMessage  {Str = 142}         -- "Well done.  No one can argue with success except apologists for the weak and the cowardly.  I hearby promote all Initiates to Ninjas, and all non-Initiates to Honorary Ninjas.  Oh yeah, go ahead and keep that little trinket you stole from the tomb.  This was just a training exercise, after all."
  8:  ForPlayer  (0)
  9:  Cmp  {"ClassIs", Value = const.Class.Initiate,   jump = 13}
  10: Add  {"Awards", Value = 27}         -- "Promoted to Honorary Ninja"
  11: Add  {"Experience", Value = 40000}
  12: GoTo  {jump = 16}

  13: Set  {"ClassIs", Value = const.Class.Ninja}
  14: Add  {"Awards", Value = 26}         -- "Reopened Harmondale Stables"
  15: Add  {"Experience", Value = 80000}
  16: ForPlayer  (1)
  17: Cmp  {"ClassIs", Value = const.Class.Initiate,   jump = 21}
  18: Add  {"Awards", Value = 27}         -- "Promoted to Honorary Ninja"
  19: Add  {"Experience", Value = 40000}
  20: GoTo  {jump = 24}

  21: Set  {"ClassIs", Value = const.Class.Ninja}
  22: Add  {"Awards", Value = 26}         -- "Reopened Harmondale Stables"
  23: Add  {"Experience", Value = 80000}
  24: ForPlayer  (2)
  25: Cmp  {"ClassIs", Value = const.Class.Initiate,   jump = 29}
  26: Add  {"Awards", Value = 27}         -- "Promoted to Honorary Ninja"
  27: Add  {"Experience", Value = 40000}
  28: GoTo  {jump = 32}

  29: Set  {"ClassIs", Value = const.Class.Ninja}
  30: Add  {"Awards", Value = 26}         -- "Reopened Harmondale Stables"
  31: Add  {"Experience", Value = 80000}
  32: ForPlayer  (3)
  33: Cmp  {"ClassIs", Value = const.Class.Initiate,   jump = 37}
  34: Add  {"Awards", Value = 27}         -- "Promoted to Honorary Ninja"
  35: Add  {"Experience", Value = 40000}
  36: GoTo  {jump = 40}

  37: Set  {"ClassIs", Value = const.Class.Ninja}
  38: Add  {"Awards", Value = 26}         -- "Reopened Harmondale Stables"
  39: Add  {"Experience", Value = 80000}
  40: Subtract  {"QBits", Value = 29}         -- "Kill the creatures in the Kennel and return to Queen Catherine with the Journal of Experiments.."
  41: Subtract  {"Reputation", Value = 10}
  42: ForPlayer  ("All")
  43: SetNPCTopic  {NPC = 39, Index = 0, Event = 0}         -- "Stephan Sand"
  44: SetNPCGreeting  {NPC = 39, Greeting = 55}         -- "Stephan Sand" : "Now that you've achieved the exaulted status of Ninja, I have nothing further to give you.  I hope my teachings take you far."
end

event 65  -- "Master Archer"
  0:  Cmp  {"Awards", Value = 34,   jump = 4}         -- "Promoted to Warrior Mage"
  1:  Cmp  {"Awards", Value = 35,   jump = 4}         -- "Promoted to Honorary Warrior Mage"
  2:  SetMessage  {Str = 146}         -- "I am the person to see if you want to become Master Archers, but you have come too soon!  You must have the proper background to become a Master, and that means first becoming a warrior mage.  Return when you are ready."
  3:  Exit  {}

  4:  Cmp  {"QBits", Value = 99,   jump = 10}         -- Chose the path of Light
  5:  Cmp  {"QBits", Value = 100,   jump = 8}         -- Chose the path of Dark
  6:  SetMessage  {Str = 144}         -- "So, you've achieved the rank of Warrior Mage, and wish to advance to Master Archer!  A worthy goal, but I only promote those who's heart and courage match their skill.  Come back to me when you have firmly committed to the Light.  Then I will help you."
  7:  Exit  {}

  8:  SetMessage  {Str = 145}         -- "You have chosen the path of Darkness.  I will never help you improve, for fear you will use your skills to advance your selfish goals!"
  9:  Exit  {}

  10: SetMessage  {Str = 143}         -- "A few generations ago, an enchanted bow was created by alchemists in the Tularean Forest to seal another peace treaty between the elves and the humans.  While en route to Erathia, the bow was taken from the couriers by the Titans in Avlee.  They have no use for the thing, so it's probably in their stronghold still.  Strike a blow for our profession, and get that bow back.  It is absolutely the finest thing of its kind ever made.  Oh, and while you're there, feel free to cut some of those bullies down to size--They stole it out of cruelty, not need!  If you are successful, I will promote all Warrior Mages to Master Archers, or honorary Master Archers, as the case may be."
  11: Add  {"QBits", Value = 30}         -- "Retrieve the Perfect Bow from the Titans' Stronghold in Avlee and return it to Lawrence Mark in Harmondale."
  12: SetNPCTopic  {NPC = 40, Index = 0, Event = 66}         -- "Lawrence Mark" : "Master Archer"
end

event 66  -- "Master Archer"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 542,   jump = 4}         -- "The Perfect Bow"
  2:  SetMessage  {Str = 148}         -- "No luck getting the bow?  Well, take your time, and plan your assault against the Titans carefully.  Against such powerful opponents, there is no shame in striking and retreating.  Do what you must to defeat these monsters."
  3:  Exit  {}

  4:  SetMessage  {Str = 147}         -- "You found the bow!  Let me take some measurements and adjust it to your specific style of archery. Once I have finished you should keep it, and use it in defense the of the land and the people.  I am happy to promote all Warrior Mages to Master Archers, and all Honorary Warrior Mages to Honorary Master Archers."
  5:  ForPlayer  (0)
  6:  Cmp  {"ClassIs", Value = const.Class.WarriorMage,   jump = 10}
  7:  Add  {"Awards", Value = 37}         -- "Promoted to Honorary Master Archer"
  8:  Add  {"Experience", Value = 40000}
  9:  GoTo  {jump = 13}

  10: Set  {"ClassIs", Value = const.Class.MasterArcher}
  11: Add  {"Awards", Value = 36}         -- "Promoted to Master Archer"
  12: Add  {"Experience", Value = 80000}
  13: ForPlayer  (1)
  14: Cmp  {"ClassIs", Value = const.Class.WarriorMage,   jump = 18}
  15: Add  {"Awards", Value = 37}         -- "Promoted to Honorary Master Archer"
  16: Add  {"Experience", Value = 40000}
  17: GoTo  {jump = 21}

  18: Set  {"ClassIs", Value = const.Class.MasterArcher}
  19: Add  {"Awards", Value = 36}         -- "Promoted to Master Archer"
  20: Add  {"Experience", Value = 80000}
  21: ForPlayer  (2)
  22: Cmp  {"ClassIs", Value = const.Class.WarriorMage,   jump = 26}
  23: Add  {"Awards", Value = 37}         -- "Promoted to Honorary Master Archer"
  24: Add  {"Experience", Value = 40000}
  25: GoTo  {jump = 29}

  26: Set  {"ClassIs", Value = const.Class.MasterArcher}
  27: Add  {"Awards", Value = 36}         -- "Promoted to Master Archer"
  28: Add  {"Experience", Value = 80000}
  29: ForPlayer  (3)
  30: Cmp  {"ClassIs", Value = const.Class.WarriorMage,   jump = 34}
  31: Add  {"Awards", Value = 37}         -- "Promoted to Honorary Master Archer"
  32: Add  {"Experience", Value = 40000}
  33: GoTo  {jump = 37}

  34: Set  {"ClassIs", Value = const.Class.MasterArcher}
  35: Add  {"Awards", Value = 36}         -- "Promoted to Master Archer"
  36: Add  {"Experience", Value = 80000}
  37: Subtract  {"QBits", Value = 30}         -- "Retrieve the Perfect Bow from the Titans' Stronghold in Avlee and return it to Lawrence Mark in Harmondale."
  38: Add  {"Inventory", Value = 543}         -- "The Perfect Bow"
  39: Subtract  {"Reputation", Value = 10}
  40: ForPlayer  ("All")
  41: Cmp  {"Inventory", Value = 542,   jump = 43}         -- "The Perfect Bow"
  42: GoTo  {jump = 44}

  43: Subtract  {"Inventory", Value = 542}         -- "The Perfect Bow"
  44: SetNPCTopic  {NPC = 40, Index = 0, Event = 0}         -- "Lawrence Mark"
  45: SetNPCGreeting  {NPC = 40, Greeting = 57}         -- "Lawrence Mark" : "Welcome my friends!  That's a fine weapon you have there, but don't think for a moment you'll best me in this year's Tourney--I'm still the Master!"
end

event 67  -- "Warrior Mage"
  0:  SetMessage  {Str = 149}         -- "So you want to become Warrior Mages, do you?  It isn't easy.  You must be equally proficient in magical skills and physical skills.  There is a test of this.  Visit the Red Dwarf Mines.  Inside you will find two kinds of beasts--one that can be harmed only with magic, and one that can be harmed only with steel.  In the back of the lower section of the mines you will find a machine created by the Dwarves that powers the lift-- the only access between the upper and lower sections of the mines.  To keep the creatures trapped in the lower section, you will have to replace the belt in the machine with this one, a worn belt that will only last about an hour before breaking.  This should give you enough time to get to the lift and get out before you are trapped down there.  Seal away these creatures and return to me-- only then will I call you Warrior Mages."
  1:  Add  {"Inventory", Value = 649}         -- "Worn Belt"
  2:  Add  {"QBits", Value = 31}         -- "Sabotage the lift in the Red Dwarf Mines in the Bracada Desert then return to Zedd True Shot on Emerald Island."
  3:  Add  {"QBits", Value = 216}         -- Worn Belt - I lost it
  4:  SetNPCTopic  {NPC = 21, Index = 1, Event = 68}         -- "Zedd True Shot" : "Warrior Mage"
end

event 68  -- "Warrior Mage"
  0:  Cmp  {"QBits", Value = 58,   jump = 3}         -- Destroyed critter generator in dungeon.  Warrior Mage promo quest.
  1:  SetMessage  {Str = 151}         -- "You haven't sabotaged the machine yet.  You must finish this before I'll promote you to Warrior Mage."
  2:  Exit  {}

  3:  SetMessage  {Str = 150}         -- "Very Good.  You have passed the test.  Now the creatures are sealed away and won't be able to prey on the dwarves any longer, and you have proven your ability in both sorcery and steel.  I am proud to declare all Archers amongst you Warrior Mages, and everyone else Honorary Warrior Mages.  Congratulations!  See you later in 'The Game'. "
  4:  ForPlayer  (0)
  5:  Cmp  {"ClassIs", Value = const.Class.Archer,   jump = 9}
  6:  Add  {"Awards", Value = 35}         -- "Promoted to Honorary Warrior Mage"
  7:  Add  {"Experience", Value = 15000}
  8:  GoTo  {jump = 12}

  9:  Set  {"ClassIs", Value = const.Class.WarriorMage}
  10: Add  {"Awards", Value = 34}         -- "Promoted to Warrior Mage"
  11: Add  {"Experience", Value = 30000}
  12: ForPlayer  (1)
  13: Cmp  {"ClassIs", Value = const.Class.Archer,   jump = 17}
  14: Add  {"Awards", Value = 35}         -- "Promoted to Honorary Warrior Mage"
  15: Add  {"Experience", Value = 15000}
  16: GoTo  {jump = 20}

  17: Set  {"ClassIs", Value = const.Class.WarriorMage}
  18: Add  {"Awards", Value = 34}         -- "Promoted to Warrior Mage"
  19: Add  {"Experience", Value = 30000}
  20: ForPlayer  (2)
  21: Cmp  {"ClassIs", Value = const.Class.Archer,   jump = 25}
  22: Add  {"Awards", Value = 35}         -- "Promoted to Honorary Warrior Mage"
  23: Add  {"Experience", Value = 15000}
  24: GoTo  {jump = 28}

  25: Set  {"ClassIs", Value = const.Class.WarriorMage}
  26: Add  {"Awards", Value = 34}         -- "Promoted to Warrior Mage"
  27: Add  {"Experience", Value = 30000}
  28: ForPlayer  (3)
  29: Cmp  {"ClassIs", Value = const.Class.Archer,   jump = 33}
  30: Add  {"Awards", Value = 35}         -- "Promoted to Honorary Warrior Mage"
  31: Add  {"Experience", Value = 15000}
  32: GoTo  {jump = 36}

  33: Set  {"ClassIs", Value = const.Class.WarriorMage}
  34: Add  {"Awards", Value = 34}         -- "Promoted to Warrior Mage"
  35: Add  {"Experience", Value = 30000}
  36: Subtract  {"QBits", Value = 31}         -- "Sabotage the lift in the Red Dwarf Mines in the Bracada Desert then return to Zedd True Shot on Emerald Island."
  37: Add  {"Gold", Value = 7500}
  38: Subtract  {"Reputation", Value = 5}
  39: ForPlayer  ("All")
  40: SetNPCTopic  {NPC = 21, Index = 1, Event = 0}         -- "Zedd True Shot"
end

event 69  -- "Fighter"
  0:  ForPlayer  ("All")
  1:  Set  {"QBits", Value = 341}         -- Fighter
  2:  SetNPCTopic  {NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
  3:  SetNPCTopic  {NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
  4:  SetNPCTopic  {NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
  5:  SetMessage  {Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
  6:  Exit  {}
end

event 70  -- "Archer"
  0:  ForPlayer  ("All")
  1:  Set  {"QBits", Value = 346}         -- Archer
  2:  SetNPCTopic  {NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
  3:  SetNPCTopic  {NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
  4:  SetNPCTopic  {NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
  5:  SetMessage  {Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
  6:  Exit  {}
end

event 71  -- "Champion"
  0:  Cmp  {"Awards", Value = 16,   jump = 4}         -- "Promoted to Cavalier"
  1:  Cmp  {"Awards", Value = 17,   jump = 4}         -- "Promoted to Honorary Cavalier"
  2:  SetMessage  {Str = 160}         -- "I am the person to talk to if you want to be called Champions.  First, though, you must practice.  Return to me when you've become Cavaliers.  Then, if you have the right outlook, I will tell you what you must do to become Champions."
  3:  Exit  {}

  4:  Cmp  {"QBits", Value = 100,   jump = 8}         -- Chose the path of Dark
  5:  Cmp  {"QBits", Value = 99,   jump = 10}         -- Chose the path of Light
  6:  SetMessage  {Str = 158}         -- "I can see you very much want to be called Champions, but I'm not so sure I should help you.  Prove to me that you follow the Path of Light, and then we'll talk about promotion."
  7:  Exit  {}

  8:  SetMessage  {Str = 159}         -- "Call you Champions?  Never!  The only reason I'm not hacking you evil doers to bits is that you came here peacefully.  Leave now, before I change my mind and rid the world of another problem."
  9:  Exit  {}

  10: SetMessage  {Str = 157}         -- "So you want to be champions, do you?  Ha!  How can you be a champion if you don't win any tournaments?  You know, I can't really promote you to Champion status--you have to do it yourself, just like everything else.  Go and win five championship tournaments in the Arena at Knight level, and come back to me.  I'll call you Champions then, if you want."
  11: Set  {"QBits", Value = 33}         -- "Win five arena challenges then return to Leda Rowan in the Bracada Desert."
  12: SetNPCTopic  {NPC = 42, Index = 0, Event = 72}         -- "Leda Rowan" : "Champion"
end

event 72  -- "Champion"
  0:  Cmp  {"ArenaWinsKnight", Value = 5,   jump = 3}
  1:  SetMessage  {Str = 162}         -- "You have not yet won 5 championship tournaments in the Arena.  Return to me when you have won five, and I will promote you.  Remember, these battles MUST be at the Knight difficulty level."
  2:  Exit  {}

  3:  SetMessage  {Str = 161}         -- "Congratulations for you recent tourney victories, my friends!  I gladly name the Cavaliers among you Champions, and the Honorary Cavaliers I name Honorary Champions!  Always fight for the Light, Champions!"
  4:  ForPlayer  (0)
  5:  Cmp  {"ClassIs", Value = const.Class.Cavalier,   jump = 9}
  6:  Add  {"Awards", Value = 19}         -- "Promoted to Honorary Champion"
  7:  Add  {"Experience", Value = 40000}
  8:  GoTo  {jump = 12}

  9:  Set  {"ClassIs", Value = const.Class.Champion}
  10: Add  {"Awards", Value = 18}         -- "Promoted to Champion"
  11: Add  {"Experience", Value = 80000}
  12: ForPlayer  (1)
  13: Cmp  {"ClassIs", Value = const.Class.Cavalier,   jump = 17}
  14: Add  {"Awards", Value = 19}         -- "Promoted to Honorary Champion"
  15: Add  {"Experience", Value = 40000}
  16: GoTo  {jump = 20}

  17: Set  {"ClassIs", Value = const.Class.Champion}
  18: Add  {"Awards", Value = 18}         -- "Promoted to Champion"
  19: Add  {"Experience", Value = 80000}
  20: ForPlayer  (2)
  21: Cmp  {"ClassIs", Value = const.Class.Cavalier,   jump = 25}
  22: Add  {"Awards", Value = 19}         -- "Promoted to Honorary Champion"
  23: Add  {"Experience", Value = 40000}
  24: GoTo  {jump = 28}

  25: Set  {"ClassIs", Value = const.Class.Champion}
  26: Add  {"Awards", Value = 18}         -- "Promoted to Champion"
  27: Add  {"Experience", Value = 80000}
  28: ForPlayer  (3)
  29: Cmp  {"ClassIs", Value = const.Class.Cavalier,   jump = 33}
  30: Add  {"Awards", Value = 19}         -- "Promoted to Honorary Champion"
  31: Add  {"Experience", Value = 40000}
  32: GoTo  {jump = 36}

  33: Set  {"ClassIs", Value = const.Class.Champion}
  34: Add  {"Awards", Value = 18}         -- "Promoted to Champion"
  35: Add  {"Experience", Value = 80000}
  36: Subtract  {"QBits", Value = 33}         -- "Win five arena challenges then return to Leda Rowan in the Bracada Desert."
  37: Subtract  {"Reputation", Value = 10}
  38: ForPlayer  ("All")
  39: SetNPCTopic  {NPC = 42, Index = 0, Event = 0}         -- "Leda Rowan"
  40: SetNPCGreeting  {NPC = 42, Greeting = 61}         -- "Leda Rowan" : "Hail, champions!  Your courage and skill has all the tongues in the Kingdom wagging!  I am very proud of you!"
end

event 73  -- "Cavalier"
  0:  SetMessage  {Str = 163}         -- "The hallmark of the Cavalier is courage.  I can promote you to Cavalier status, but before I'll do that, you'll have to prove to me your bravery in battle.  Since most people are yellow bellied cowards at heart, I doubt you'll succeed.  But if you want to try, here is what you must do: Destroy all the undead in the haunted mansion in the Barrow Downs."
  1:  Set  {"QBits", Value = 34}         -- "Destroy all the undead in the Haunted House in the Barrow Downs and return to Frederick Org in Erathia."
  2:  SetNPCTopic  {NPC = 43, Index = 0, Event = 74}         -- "Frederick Org" : "Cavalier"
end

event 74  -- "Cavalier"
  0:  ForPlayer  ("All")
  1:  Cmp  {"QBits", Value = 140,   jump = 4}         -- Cleaned out the haunted mansion (Cavalier promo)
  2:  SetMessage  {Str = 165}         -- "Did one little haunted house send you packing in fear?  I've seen chocolate eclairs with more backbone than you!  Get you gone, and don't come back 'til you've stiffened your spine!"
  3:  Exit  {}

  4:  SetMessage  {Str = 164}         -- "So you're back!  And from the look on your faces I see you have finished the job.  Well done!  I hereby officially promote all Knights amongst you to Cavaliers, and everyone else to honorary Cavaliers.  Carry your title with pride!"
  5:  ForPlayer  (0)
  6:  Cmp  {"ClassIs", Value = const.Class.Knight,   jump = 10}
  7:  Add  {"Awards", Value = 17}         -- "Promoted to Honorary Cavalier"
  8:  Add  {"Experience", Value = 15000}
  9:  GoTo  {jump = 13}

  10: Set  {"ClassIs", Value = const.Class.Cavalier}
  11: Add  {"Awards", Value = 16}         -- "Promoted to Cavalier"
  12: Add  {"Experience", Value = 30000}
  13: ForPlayer  (1)
  14: Cmp  {"ClassIs", Value = const.Class.Knight,   jump = 18}
  15: Add  {"Awards", Value = 17}         -- "Promoted to Honorary Cavalier"
  16: Add  {"Experience", Value = 15000}
  17: GoTo  {jump = 21}

  18: Set  {"ClassIs", Value = const.Class.Cavalier}
  19: Add  {"Awards", Value = 16}         -- "Promoted to Cavalier"
  20: Add  {"Experience", Value = 30000}
  21: ForPlayer  (2)
  22: Cmp  {"ClassIs", Value = const.Class.Knight,   jump = 26}
  23: Add  {"Awards", Value = 17}         -- "Promoted to Honorary Cavalier"
  24: Add  {"Experience", Value = 15000}
  25: GoTo  {jump = 29}

  26: Set  {"ClassIs", Value = const.Class.Cavalier}
  27: Add  {"Awards", Value = 16}         -- "Promoted to Cavalier"
  28: Add  {"Experience", Value = 30000}
  29: ForPlayer  (3)
  30: Cmp  {"ClassIs", Value = const.Class.Knight,   jump = 34}
  31: Add  {"Awards", Value = 17}         -- "Promoted to Honorary Cavalier"
  32: Add  {"Experience", Value = 15000}
  33: GoTo  {jump = 37}

  34: Set  {"ClassIs", Value = const.Class.Cavalier}
  35: Add  {"Awards", Value = 16}         -- "Promoted to Cavalier"
  36: Add  {"Experience", Value = 30000}
  37: Subtract  {"QBits", Value = 34}         -- "Destroy all the undead in the Haunted House in the Barrow Downs and return to Frederick Org in Erathia."
  38: Subtract  {"Reputation", Value = 5}
  39: ForPlayer  ("All")
  40: SetNPCTopic  {NPC = 43, Index = 0, Event = 0}         -- "Frederick Org"
  41: MoveNPC  {NPC = 43, HouseId = 0}         -- "Frederick Org"
end

event 75  -- "Druid"
  0:  ForPlayer  ("All")
  1:  Set  {"QBits", Value = 347}         -- Druid
  2:  SetNPCTopic  {NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
  3:  SetNPCTopic  {NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
  4:  SetNPCTopic  {NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
  5:  SetMessage  {Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
  6:  Exit  {}
end

event 76  -- "Ranger"
  0:  ForPlayer  ("All")
  1:  Set  {"QBits", Value = 345}         -- Ranger
  2:  SetNPCTopic  {NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
  3:  SetNPCTopic  {NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
  4:  SetNPCTopic  {NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
  5:  SetMessage  {Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
  6:  Exit  {}
end

event 77  -- "Ranger Lord"
  0:  Cmp  {"Awards", Value = 28,   jump = 4}         -- "Promoted to Hunter"
  1:  Cmp  {"Awards", Value = 29,   jump = 4}         -- "Promoted to Honorary Hunter"
  2:  SetMessage  {Str = 173}         -- "[Lysander shakes his head, smiling gently] Too soon, eager ones.  I train only the most advanced students.  Seek me out again when you reach Hunter status."
  3:  Exit  {}

  4:  Cmp  {"QBits", Value = 99,   jump = 10}         -- Chose the path of Light
  5:  Cmp  {"QBits", Value = 100,   jump = 8}         -- Chose the path of Dark
  6:  SetMessage  {Str = 172}         -- "I would like to be your teacher--I really would, but I'm not sure you're cut out to be a Ranger Lord.  Soon you must make a decision of the heart.  If you choose the Path of Light, return to me.  I would be honored to be your teacher."
  7:  Exit  {}

  8:  SetMessage  {Str = 174}         -- "[Lysander frowns] You've chosen the path of darkness.  I refuse to teach such as you--you would only use my lessons to further your selfish goals.  May Heaven have mercy on your souls."
  9:  Exit  {}

  10: SetMessage  {Str = 171}         -- "Well, it looks like you might be able to do the job I have in mind.  The fundamental task a Ranger Lord faces is caring for the land.  Recently, poachers removed a magical gemstone called the ""heart of the forest"" from the Tularean Forest.  The forest has become restless, and attacks travelers who come too close.  The forest blames all 'Walkers' for the theft, and won't calm down until the stone is returned.  Find the stone and return it to the oldest tree in the Forest.  Come back to me when you've done this."
  11: Set  {"QBits", Value = 36}         -- "Calm the trees in the Tularean Forest by speaking to the Oldest Tree then return to Lysander Sweet in the Bracada Desert."
  12: SetNPCTopic  {NPC = 44, Index = 0, Event = 78}         -- "Lysander Sweet" : "Ranger Lord"
end

event 78  -- "Ranger Lord"
  0:  Cmp  {"QBits", Value = 41,   jump = 6}         -- Solved Tree quest
  1:  Cmp  {"QBits", Value = 40,   jump = 4}         -- Talked to the Oldest Tree
  2:  SetMessage  {Str = 175}         -- "If you can't figure out where to start, you should try finding the oldest tree in the forest.  It should be somewhere outside of Pierpont in Avlee.  The oldest tree has the power of speech, and may know something helpful.  It will be happy to tell you whatever you want to hear, plus a whole lot more.  You'll see."
  3:  Exit  {}

  4:  SetMessage  {Str = 176}         -- "Well, you've spoken with the tree, and now know as much as I do about the theft.  If you manage to find the stone, take it directly to the tree and then come see me."
  5:  Exit  {}

  6:  SetMessage  {Str = 177}         -- "You've done a good thing, returning the Heart.  The forest is quieter now, and no longer attacks travelers.  You've probably saved many lives.  For service to the Land and the Light, I hereby promote all Hunters among you to Ranger Lords, and all honorary Hunters to honorary Ranger Lords!"
  7:  ForPlayer  (0)
  8:  Cmp  {"ClassIs", Value = const.Class.Hunter,   jump = 12}
  9:  Add  {"Awards", Value = 31}         -- "Promoted to Honorary Ranger Lord"
  10: Add  {"Experience", Value = 40000}
  11: GoTo  {jump = 15}

  12: Set  {"ClassIs", Value = const.Class.RangerLord}
  13: Add  {"Awards", Value = 30}         -- "Promoted to Ranger Lord"
  14: Add  {"Experience", Value = 80000}
  15: ForPlayer  (1)
  16: Cmp  {"ClassIs", Value = const.Class.Hunter,   jump = 20}
  17: Add  {"Awards", Value = 31}         -- "Promoted to Honorary Ranger Lord"
  18: Add  {"Experience", Value = 40000}
  19: GoTo  {jump = 23}

  20: Set  {"ClassIs", Value = const.Class.RangerLord}
  21: Add  {"Awards", Value = 30}         -- "Promoted to Ranger Lord"
  22: Add  {"Experience", Value = 80000}
  23: ForPlayer  (2)
  24: Cmp  {"ClassIs", Value = const.Class.Hunter,   jump = 28}
  25: Add  {"Awards", Value = 31}         -- "Promoted to Honorary Ranger Lord"
  26: Add  {"Experience", Value = 40000}
  27: GoTo  {jump = 31}

  28: Set  {"ClassIs", Value = const.Class.RangerLord}
  29: Add  {"Awards", Value = 30}         -- "Promoted to Ranger Lord"
  30: Add  {"Experience", Value = 80000}
  31: ForPlayer  (3)
  32: Cmp  {"ClassIs", Value = const.Class.Hunter,   jump = 36}
  33: Add  {"Awards", Value = 31}         -- "Promoted to Honorary Ranger Lord"
  34: Add  {"Experience", Value = 40000}
  35: GoTo  {jump = 39}

  36: Set  {"ClassIs", Value = const.Class.RangerLord}
  37: Add  {"Awards", Value = 30}         -- "Promoted to Ranger Lord"
  38: Add  {"Experience", Value = 80000}
  39: Subtract  {"QBits", Value = 36}         -- "Calm the trees in the Tularean Forest by speaking to the Oldest Tree then return to Lysander Sweet in the Bracada Desert."
  40: Subtract  {"Reputation", Value = 10}
  41: ForPlayer  ("All")
  42: SetNPCTopic  {NPC = 44, Index = 0, Event = 0}         -- "Lysander Sweet"
  43: SetNPCGreeting  {NPC = 44, Greeting = 65}         -- "Lysander Sweet" : "Your good works have served the forest well.  And, I can see, the experience has served you well in turn.  May you continue to reap the rewards of your good deeds, my friends!"
end

event 79  -- "Hunter"
  0:  SetMessage  {Str = 178}         -- "Think you can improve?  I have a test for you.  A hunter needs to understand the woods, and a hunter needs to be as skilled with magic as with a blade.  The best teachers for that are the faeries.  There's a faerie mound in Northern Avlee.  Figure out how to get in, and the Faeries will grant magic to the genuine rangers among you, meaning that they will be promoted to Hunter status.  The rest of you will be honorary hunters. "
  1:  Set  {"QBits", Value = 37}         -- "Solve the secret to the entrance of the Faerie Mound in Avlee and speak to the Faerie King."
  2:  SetNPCTopic  {NPC = 45, Index = 0, Event = 80}         -- "Ebednezer Sower" : "Hunter"
end

event 80  -- "Hunter"
  0:  SetMessage  {Str = 179}         -- "Foxed by the Faeries? [Ebednezer snickers, then begins to laugh uproariously at his own wit] Foxed?  Faeries?  Hahahah!  Get it?  Foxed… you know…ah ahahah.  Maybe not.  Well, I've already told you how to become Hunters.  Get inside the Faerie Mound in Avlee.  Now, stop bothering me!  "
end

event 81  -- "Monk"
  0:  ForPlayer  ("All")
  1:  Set  {"QBits", Value = 343}         -- Monk
  2:  SetNPCTopic  {NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
  3:  SetNPCTopic  {NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
  4:  SetNPCTopic  {NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
  5:  SetMessage  {Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
  6:  Exit  {}
end

event 82  -- "Thief"
  0:  ForPlayer  ("All")
  1:  Set  {"QBits", Value = 344}         -- Thief
  2:  SetNPCTopic  {NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
  3:  SetNPCTopic  {NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
  4:  SetNPCTopic  {NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
  5:  SetMessage  {Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
  6:  Exit  {}
end

event 83  -- "Hunter?"
  0:  CanShowTopic.Cmp  {"QBits", Value = 37,   jump = 3}         -- "Solve the secret to the entrance of the Faerie Mound in Avlee and speak to the Faerie King."
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 185}         -- "Come to my door looking for magic?  Thee've always had it, if thee knew where to look.  Some I tell this to, and they still can't see it, though it be plain as the nose on their face.  Those amongst thee that are simple Rangers are now Hunters, and those who aren't are but Honorary Hunters.  Clever the ones who can knock on my door!"
  6:  ForPlayer  (0)
  7:  Cmp  {"ClassIs", Value = const.Class.Ranger,   jump = 11}
  8:  Add  {"Awards", Value = 29}         -- "Promoted to Honorary Hunter"
  9:  Add  {"Experience", Value = 15000}
  10: GoTo  {jump = 14}

  11: Set  {"ClassIs", Value = const.Class.Hunter}
  12: Add  {"Awards", Value = 28}         -- "Promoted to Hunter"
  13: Add  {"Experience", Value = 30000}
  14: ForPlayer  (1)
  15: Cmp  {"ClassIs", Value = const.Class.Ranger,   jump = 19}
  16: Add  {"Awards", Value = 29}         -- "Promoted to Honorary Hunter"
  17: Add  {"Experience", Value = 15000}
  18: GoTo  {jump = 22}

  19: Set  {"ClassIs", Value = const.Class.Hunter}
  20: Add  {"Awards", Value = 28}         -- "Promoted to Hunter"
  21: Add  {"Experience", Value = 30000}
  22: ForPlayer  (2)
  23: Cmp  {"ClassIs", Value = const.Class.Ranger,   jump = 27}
  24: Add  {"Awards", Value = 29}         -- "Promoted to Honorary Hunter"
  25: Add  {"Experience", Value = 15000}
  26: GoTo  {jump = 30}

  27: Set  {"ClassIs", Value = const.Class.Hunter}
  28: Add  {"Awards", Value = 28}         -- "Promoted to Hunter"
  29: Add  {"Experience", Value = 30000}
  30: ForPlayer  (3)
  31: Cmp  {"ClassIs", Value = const.Class.Ranger,   jump = 35}
  32: Add  {"Awards", Value = 29}         -- "Promoted to Honorary Hunter"
  33: Add  {"Experience", Value = 15000}
  34: GoTo  {jump = 38}

  35: Set  {"ClassIs", Value = const.Class.Hunter}
  36: Add  {"Awards", Value = 28}         -- "Promoted to Hunter"
  37: Add  {"Experience", Value = 30000}
  38: Subtract  {"QBits", Value = 37}         -- "Solve the secret to the entrance of the Faerie Mound in Avlee and speak to the Faerie King."
  39: ForPlayer  ("All")
  40: SetNPCTopic  {NPC = 45, Index = 0, Event = 0}         -- "Ebednezer Sower"
  41: SetNPCTopic  {NPC = 52, Index = 0, Event = 0}         -- "Faerie King"
  42: MoveNPC  {NPC = 45, HouseId = 0}         -- "Ebednezer Sower"
end

event 84  -- "Heart of the Wood"
  0:  CanShowTopic.Cmp  {"QBits", Value = 36,   jump = 3}         -- "Calm the trees in the Tularean Forest by speaking to the Oldest Tree then return to Lysander Sweet in the Bracada Desert."
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 186}         -- "The thieves reached deep inside me to take my Heart.  The grapevines say they are hiding in the Mercenary Guild in Tatalia.  We would squeeze them, but they aren't close enough to reach.  Walkers are needed to catch walkers.  Catch the thieves for us.  Ok?"
  6:  Set  {"QBits", Value = 39}         -- "Find the Heart of the Forest in the Mercenary Guild in Tatalia and return it to the Oldest Tree in the Tularean Forest."
  7:  SetNPCTopic  {NPC = 53, Index = 0, Event = 85}         -- "The Oldest Tree" : "Heart of the Wood"
end

event 85  -- "Heart of the Wood"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 600,   jump = 4}         -- "Heart of the Wood"
  2:  SetMessage  {Str = 188}         -- "Oh, the forest is still very angry.  The grapevines say the thieves have not left their hiding place.  You will catch the thieves for us, won't you?"
  3:  Exit  {}

  4:  SetMessage  {Str = 187}         -- "Ahhh!  [The tree sighs happily]  You have the heart!  The forest sings with joy!  Tonight we will recite the song of the ancestors.  Will you stay and recite with us?"
  5:  Subtract  {"Inventory", Value = 600}         -- "Heart of the Wood"
  6:  Subtract  {"QBits", Value = 217}         -- Heart of Wood - I lost it
  7:  Add  {"Experience", Value = 5000}
  8:  Subtract  {"QBits", Value = 39}         -- "Find the Heart of the Forest in the Mercenary Guild in Tatalia and return it to the Oldest Tree in the Tularean Forest."
  9:  Set  {"QBits", Value = 41}         -- Solved Tree quest
  10: SetNPCTopic  {NPC = 53, Index = 0, Event = 0}         -- "The Oldest Tree"
  11: SetNPCGreeting  {NPC = 53, Greeting = 71}         -- "The Oldest Tree" : "Ohhhhh…It's the Walkers from the South.  I remember you!  You returned the Heart.  The trees are very happy, and promise not to kill any more walkers.  Come and talk to me any time."
  12: Set  {"Awards", Value = 61}         -- "Retrieved the Heart of the Wood"
  13: SetMonGroupBit  {NPCGroup = 10, Bit = const.MonsterBits.Hostile, On = false}         -- "Southern Village Group in Harmondy"
end

event 86  -- "Paladin"
  0:  ForPlayer  ("All")
  1:  Set  {"QBits", Value = 342}         -- Paladin
  2:  SetNPCTopic  {NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
  3:  SetNPCTopic  {NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
  4:  SetNPCTopic  {NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
  5:  SetMessage  {Str = 41}         -- "Proceed to the Brazier to acquire your new profession."
  6:  Exit  {}
end

event 87  -- "Let's Continue."
  0:  ForPlayer  ("All")
  1:  SetMessage  {Str = 87}         -- "There ya go!  Now return this scroll to Lord Godwinson to complete this quest.  Then he’ll know that I am more than a myth."
  2:  SetNPCTopic  {NPC = 456, Index = 0, Event = 0}         -- "The Coding Wizard"
  3:  Set  {"QBits", Value = 206}         -- Harmondale - Town Portal
  4:  Set  {"QBits", Value = 207}         -- Erathia - Town Portal
  5:  Set  {"QBits", Value = 208}         -- Tularean Forest - Town Portal
  6:  SetMonGroupBit  {NPCGroup = 9, Bit = const.MonsterBits.Invisible, On = true}         -- "Group for Malwick's Assc."
  7:  ForPlayer  ("Current")
  8:  Add  {"Inventory", Value = 775}         -- "LG's Proof"
  9:  Exit  {}
end

event 88  -- "Priest"
  0:  SetMessage  {Str = 195}         -- "[Falk gives you a grandfatherly smile] You have, perhaps, an ambition to be priests?  I can help you, if you'll help me.  There is an island south of Bracada where stands an old temple that I need to find again.  I think the pirates west of Erathia must know where the island is.  The Erathian navy is rather feeble, and hasn't been able to root them out of their hiding places amongst the Tidewater Caverns.  Perhaps the pirates have a map.  If you can bring me that map, I would promote you to Priest status immediately."
  1:  Set  {"QBits", Value = 43}         -- "Find the lost pirate map in the Tidewater Caverns in Tatalia and return to Daedalus Falk on Emerald Island."
  2:  SetNPCTopic  {NPC = 47, Index = 0, Event = 89}         -- "Daedalus Falk" : "Priest"
end

event 89  -- "Priest"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 683,   jump = 4}         -- "Map to Evenmorn Island"
  2:  SetMessage  {Str = 197}         -- "If there is a map that says where that island is, the map would be in the Tidewater Caverns of western Erathia.  When you bring me that map, then I will be happy to promote you all to Priests."
  3:  Exit  {}

  4:  SetMessage  {Str = 196}         -- "The Map!  You found it!  [Falk looks at the map, and points at the island] There it is.  The island has been shrouded in mist since the Churches of the Sun and Moon began fighting over a century ago.  Keep the map--I have the coordinates now, and will have no trouble finding the place when I need to.  I am proud to declare the Clerics amongst you to be Priests, and the rest to be honorary Priests.  Thank you so much for your good work!"
  5:  ForPlayer  (0)
  6:  Cmp  {"ClassIs", Value = const.Class.Cleric,   jump = 10}
  7:  Add  {"Awards", Value = 63}         -- "Promoted to Honorary Priest"
  8:  Add  {"Experience", Value = 15000}
  9:  GoTo  {jump = 13}

  10: Set  {"ClassIs", Value = const.Class.Priest}
  11: Add  {"Awards", Value = 62}         -- "Promoted to Priest"
  12: Add  {"Experience", Value = 30000}
  13: ForPlayer  (1)
  14: Cmp  {"ClassIs", Value = const.Class.Cleric,   jump = 18}
  15: Add  {"Awards", Value = 63}         -- "Promoted to Honorary Priest"
  16: Add  {"Experience", Value = 15000}
  17: GoTo  {jump = 21}

  18: Set  {"ClassIs", Value = const.Class.Priest}
  19: Add  {"Awards", Value = 62}         -- "Promoted to Priest"
  20: Add  {"Experience", Value = 30000}
  21: ForPlayer  (2)
  22: Cmp  {"ClassIs", Value = const.Class.Cleric,   jump = 26}
  23: Add  {"Awards", Value = 63}         -- "Promoted to Honorary Priest"
  24: Add  {"Experience", Value = 15000}
  25: GoTo  {jump = 29}

  26: Set  {"ClassIs", Value = const.Class.Priest}
  27: Add  {"Awards", Value = 62}         -- "Promoted to Priest"
  28: Add  {"Experience", Value = 30000}
  29: ForPlayer  (3)
  30: Cmp  {"ClassIs", Value = const.Class.Cleric,   jump = 34}
  31: Add  {"Awards", Value = 63}         -- "Promoted to Honorary Priest"
  32: Add  {"Experience", Value = 15000}
  33: GoTo  {jump = 37}

  34: Set  {"ClassIs", Value = const.Class.Priest}
  35: Add  {"Awards", Value = 62}         -- "Promoted to Priest"
  36: Add  {"Experience", Value = 30000}
  37: Subtract  {"QBits", Value = 43}         -- "Find the lost pirate map in the Tidewater Caverns in Tatalia and return to Daedalus Falk on Emerald Island."
  38: Add  {"Gold", Value = 5000}
  39: Subtract  {"Reputation", Value = 5}
  40: ForPlayer  ("All")
  41: Subtract  {"Inventory", Value = 683}         -- "Map to Evenmorn Island"
  42: Subtract  {"QBits", Value = 218}         -- Map to Evenmorn - I lost it
  43: SetNPCTopic  {NPC = 47, Index = 0, Event = 90}         -- "Daedalus Falk" : "Priest of Light"
  44: Set  {"QBits", Value = 64}         -- Activate boat to area 9.  Priest promo quest
end

event 90  -- "Priest of Light"
  0:  Cmp  {"QBits", Value = 100,   jump = 4}         -- Chose the path of Dark
  1:  Cmp  {"QBits", Value = 99,   jump = 6}         -- Chose the path of Light
  2:  SetMessage  {Str = 199}         -- "If you wish to follow the Path of Light, first you must formally choose it.  Soon you will be asked to make the choice, and the way will be clear.  Until then, I cannot be your guide."
  3:  Exit  {}

  4:  SetMessage  {Str = 200}         -- "How dare you insult me with your presence?  You have chosen the Path of Darkness, and have forever renounced me as your teacher.  Go now, and be consumed by your own selfish desires.  Get out of my sight!"
  5:  Exit  {}

  6:  SetMessage  {Str = 198}         -- "Priests.  [Falk gazes warmly at you] Well it is that you have come to see the purity of the Path of Light.  Never regret your decision, and never look back.  South of Bracada is an island called Evenmorn, and upon that island are the old temples of the Sun and the Moon.  Both are inhabited by the remnants of the two religions, their once proud churches reduced to two old temples fighting for a small island.  The Church of the Sun was the founding religion for our current faith, the Path of Lights.  I propose we help them out and tip the balance in favor of the Church of the Sun.  Using the map that I sent you to find, convince a sea captain to bring you to the island.  There, bring aid and comfort to the Church of the Sun by purifying the altar in the Church of the Moon.  This will so weaken theMoon cult that the Church of the Sun will be able to overcome them in battle.  Return to me when you have done this.   "
  7:  Set  {"QBits", Value = 42}         -- "Purify the Altar of Evil in the Temple of the Moon on Evenmorn Isle then return to Daedalus Falk on Emerald Island."
  8:  SetNPCTopic  {NPC = 47, Index = 0, Event = 91}         -- "Daedalus Falk" : "Priest of Light"
end

event 91  -- "Priest of Light"
  0:  Cmp  {"QBits", Value = 62,   jump = 3}         -- Purified the Altar of Evil.  Priest of Light promo quest.
  1:  SetMessage  {Str = 202}         -- "You must visit Evenmorn island and purify the Altar of Darkness in the Church of the Moon.  Only then can I promote you to Priests of the Light."
  2:  Exit  {}

  3:  SetMessage  {Str = 201}         -- "Your bravery has advanced our faith tremendously, Priests.  It's with pleasure that I can hereby promote all Priests to Priests of the Light, and all honorary Priests to Honorary Priests of the Light.  Thank you so much for your help!"
  4:  ForPlayer  (0)
  5:  Cmp  {"ClassIs", Value = const.Class.Priest,   jump = 9}
  6:  Add  {"Awards", Value = 65}         -- "Promoted to Honorary Priest of the Light"
  7:  Add  {"Experience", Value = 40000}
  8:  GoTo  {jump = 12}

  9:  Set  {"ClassIs", Value = const.Class.PriestLight}
  10: Add  {"Awards", Value = 64}         -- "Promoted to Priest of the Light"
  11: Add  {"Experience", Value = 80000}
  12: ForPlayer  (1)
  13: Cmp  {"ClassIs", Value = const.Class.Priest,   jump = 17}
  14: Add  {"Awards", Value = 65}         -- "Promoted to Honorary Priest of the Light"
  15: Add  {"Experience", Value = 40000}
  16: GoTo  {jump = 20}

  17: Set  {"ClassIs", Value = const.Class.PriestLight}
  18: Add  {"Awards", Value = 64}         -- "Promoted to Priest of the Light"
  19: Add  {"Experience", Value = 80000}
  20: ForPlayer  (2)
  21: Cmp  {"ClassIs", Value = const.Class.Priest,   jump = 25}
  22: Add  {"Awards", Value = 65}         -- "Promoted to Honorary Priest of the Light"
  23: Add  {"Experience", Value = 40000}
  24: GoTo  {jump = 28}

  25: Set  {"ClassIs", Value = const.Class.PriestLight}
  26: Add  {"Awards", Value = 64}         -- "Promoted to Priest of the Light"
  27: Add  {"Experience", Value = 80000}
  28: ForPlayer  (3)
  29: Cmp  {"ClassIs", Value = const.Class.Priest,   jump = 33}
  30: Add  {"Awards", Value = 65}         -- "Promoted to Honorary Priest of the Light"
  31: Add  {"Experience", Value = 40000}
  32: GoTo  {jump = 36}

  33: Set  {"ClassIs", Value = const.Class.PriestLight}
  34: Add  {"Awards", Value = 64}         -- "Promoted to Priest of the Light"
  35: Add  {"Experience", Value = 80000}
  36: Subtract  {"QBits", Value = 42}         -- "Purify the Altar of Evil in the Temple of the Moon on Evenmorn Isle then return to Daedalus Falk on Emerald Island."
  37: Add  {"Gold", Value = 10000}
  38: Subtract  {"Reputation", Value = 10}
  39: ForPlayer  ("All")
  40: SetNPCTopic  {NPC = 47, Index = 0, Event = 0}         -- "Daedalus Falk"
  41: SetNPCGreeting  {NPC = 47, Greeting = 75}         -- "Daedalus Falk" : "Shadow Conceal, Brethren.  My time is always yours."
end

event 92  -- "Wizard"
  0:  SetMessage  {Str = 203}         --[[ "I am indeed the one to speak to if you wish to become Wizards.  Every student of mine must complete a project before I name them Wizards.  This year's project is to build a golem.  There are spare parts scattered about the lands from here to Avlee.  You'll need all four limbs plus the torso and the head.  Pay special attention to where you get the head--one of my students made a mistake while making a head last summer and gave the defective head away as a joke.  

When you have all the parts, come talk to me.  I'll promote you to Wizards then, and I'll animate your Golem.  Well, on your way, and have fun!" ]]
  1:  Set  {"QBits", Value = 45}         -- "Collect the six golem pieces and construct a complete golem, then return to Thomas Grey in the School of Sorcery."
  2:  Set  {"NPCs", Value = 56}         -- "Golem"
  3:  SetNPCTopic  {NPC = 48, Index = 0, Event = 93}         -- "Thomas Grey" : "Wizard"
end

event 93  -- "Wizard"
  0:  Cmp  {"QBits", Value = 74,   jump = 4}         -- Finished constructing Golem with normal head
  1:  Cmp  {"QBits", Value = 73,   jump = 4}         -- Finished constructing Golem with Abbey normal head
  2:  SetMessage  {Str = 205}         -- "You have to have all the parts together and properly assembled for me to animate it, students!  I can't animate incomplete golems."
  3:  Exit  {}

  4:  SetMessage  {Str = 204}         -- "[You proudly display your assembled golem to Master Grey, and he nods approvingly] Well done.  Head looks alright, but you can never be sure…Well, good work!  Clearly, you qualify for Wizard status.  All Sorcerers amongst you are now Wizards, and all non Sorcerers are now honorary Wizards!  [Master Grey spends awhile casting the spell that animates your golem] He's all yours!  Take him back to your castle and put him where you want.  He'll attack intruders relentlessly.  "
  5:  ForPlayer  (0)
  6:  Cmp  {"ClassIs", Value = const.Class.Sorcerer,   jump = 10}
  7:  Add  {"Awards", Value = 75}         -- "Promoted to Honorary Wizard"
  8:  Add  {"Experience", Value = 15000}
  9:  GoTo  {jump = 13}

  10: Set  {"ClassIs", Value = const.Class.Wizard}
  11: Add  {"Awards", Value = 74}         -- "Promoted to Wizard"
  12: Add  {"Experience", Value = 30000}
  13: ForPlayer  (1)
  14: Cmp  {"ClassIs", Value = const.Class.Sorcerer,   jump = 18}
  15: Add  {"Awards", Value = 75}         -- "Promoted to Honorary Wizard"
  16: Add  {"Experience", Value = 15000}
  17: GoTo  {jump = 21}

  18: Set  {"ClassIs", Value = const.Class.Wizard}
  19: Add  {"Awards", Value = 74}         -- "Promoted to Wizard"
  20: Add  {"Experience", Value = 30000}
  21: ForPlayer  (2)
  22: Cmp  {"ClassIs", Value = const.Class.Sorcerer,   jump = 26}
  23: Add  {"Awards", Value = 75}         -- "Promoted to Honorary Wizard"
  24: Add  {"Experience", Value = 15000}
  25: GoTo  {jump = 29}

  26: Set  {"ClassIs", Value = const.Class.Wizard}
  27: Add  {"Awards", Value = 74}         -- "Promoted to Wizard"
  28: Add  {"Experience", Value = 30000}
  29: ForPlayer  (3)
  30: Cmp  {"ClassIs", Value = const.Class.Sorcerer,   jump = 34}
  31: Add  {"Awards", Value = 75}         -- "Promoted to Honorary Wizard"
  32: Add  {"Experience", Value = 15000}
  33: GoTo  {jump = 37}

  34: Set  {"ClassIs", Value = const.Class.Wizard}
  35: Add  {"Awards", Value = 74}         -- "Promoted to Wizard"
  36: Add  {"Experience", Value = 30000}
  37: Subtract  {"QBits", Value = 45}         -- "Collect the six golem pieces and construct a complete golem, then return to Thomas Grey in the School of Sorcery."
  38: ForPlayer  ("All")
  39: SetNPCTopic  {NPC = 48, Index = 0, Event = 94}         -- "Thomas Grey" : "Archmage"
  40: SetNPCGreeting  {NPC = 56, Greeting = 84}         -- "Golem" : "I am yours to command, master."
  41: Set  {"QBits", Value = 46}         -- Player Castle.  Golem should appear in castle bit.
  42: Subtract  {"QBits", Value = 219}         -- Golem Head - I lost it
  43: Subtract  {"QBits", Value = 220}         -- Abby normal head - I lost it
end

event 94  -- "Archmage"
  0:  Cmp  {"QBits", Value = 99,   jump = 6}         -- Chose the path of Light
  1:  Cmp  {"QBits", Value = 100,   jump = 4}         -- Chose the path of Dark
  2:  SetMessage  {Str = 207}         -- "Archmage training is reserved only for people dedicated to the Path of Light.  Prove to me you have chosen the right way, and I will be proud to be your teacher."
  3:  Exit  {}

  4:  SetMessage  {Str = 208}         -- "You've chosen Darkness, my students.  I will teach you no more."
  5:  Exit  {}

  6:  SetMessage  {Str = 18}         --[[ "Our Diviners have been unable to discover who, or what, caused the unmaking of the Town Portal spell, but they have located the book that was used to accomplish this dastardly deed.  It’s called the Book of UnMakings.  The book was  kept under guard in the Strange Temple here in the Bracada.  However, several years ago, the temple was swallowed up by a terrible tremor that shook the Bracada, and the book went down with it.  This temple is now buried deep within the depths of the land, with no known entrance from the surface.

However, after consulting with Torrent, the Grandmaster of Water Migicks, we have been able to open an astral tunnel into the temple and link it to the Home Portal here in Bracada.  The tunnel is not too stable, and we aren’t sure how long we can keep it open.

If you desire this promotion, you must enter the tunnel, find the Book of UnMakings, and return it to me.  But you must go NOW.  We cannot afford to wait even an hour, lest the tunnel close." ]]
  7:  Set  {"QBits", Value = 47}         -- "Recover the Book of Unmakings from the Strange Temple and return it to Thomas Grey in the School of Sorcery."
  8:  SetNPCTopic  {NPC = 48, Index = 0, Event = 95}         -- "Thomas Grey" : "We've retrieved the Book of UnMakings!"
end

event 95  -- "We've retrieved the Book of UnMakings!"
  0:  GoTo  {jump = 49}

  1:  Cmp  {"Inventory", Value = 499,   jump = 4}         -- "Book of UnMakings"
  2:  SetMessage  {Str = 210}         --[[ "The Book of UnMakings!  Good work at recovering this book!  Now we can undo its work and remake the Town Portal spell!

Have you discovered who, or what, performed this dastardly deed of unMaking?  [You recount the encounter with the Golems, the Angels, and the Devils]    Devils, you say?  And they were in-league with the Golems and the Angels?!  This is not good ... not good at all!!!  But who, or what, could have engineered such a twisted coalition?

I sense that we haven’t unveiled the real source for this unnatural corruption.  I will consult our Diviners to see if they can unlock this mystery.  As for your party, you have done well and have earned your promotion.  Congratulations! " ]]
  3:  Exit  {}

  4:  SetMessage  {Str = 210}         --[[ "The Book of UnMakings!  Good work at recovering this book!  Now we can undo its work and remake the Town Portal spell!

Have you discovered who, or what, performed this dastardly deed of unMaking?  [You recount the encounter with the Golems, the Angels, and the Devils]    Devils, you say?  And they were in-league with the Golems and the Angels?!  This is not good ... not good at all!!!  But who, or what, could have engineered such a twisted coalition?

I sense that we haven’t unveiled the real source for this unnatural corruption.  I will consult our Diviners to see if they can unlock this mystery.  As for your party, you have done well and have earned your promotion.  Congratulations! " ]]
  5:  ForPlayer  (0)
  6:  Cmp  {"ClassIs", Value = const.Class.Wizard,   jump = 10}
  7:  Add  {"Awards", Value = 77}         -- "Promoted to Honorary Archmage"
  8:  Add  {"Experience", Value = 40000}
  9:  GoTo  {jump = 13}

  10: Set  {"ClassIs", Value = const.Class.ArchMage}
  11: Add  {"Awards", Value = 76}         -- "Promoted to Archmage"
  12: Add  {"Experience", Value = 80000}
  13: ForPlayer  (1)
  14: Cmp  {"ClassIs", Value = const.Class.Wizard,   jump = 18}
  15: Add  {"Awards", Value = 77}         -- "Promoted to Honorary Archmage"
  16: Add  {"Experience", Value = 40000}
  17: GoTo  {jump = 21}

  18: Set  {"ClassIs", Value = const.Class.ArchMage}
  19: Add  {"Awards", Value = 76}         -- "Promoted to Archmage"
  20: Add  {"Experience", Value = 80000}
  21: ForPlayer  (2)
  22: Cmp  {"ClassIs", Value = const.Class.Wizard,   jump = 26}
  23: Add  {"Awards", Value = 77}         -- "Promoted to Honorary Archmage"
  24: Add  {"Experience", Value = 40000}
  25: GoTo  {jump = 29}

  26: Set  {"ClassIs", Value = const.Class.ArchMage}
  27: Add  {"Awards", Value = 76}         -- "Promoted to Archmage"
  28: Add  {"Experience", Value = 80000}
  29: ForPlayer  (3)
  30: Cmp  {"ClassIs", Value = const.Class.Wizard,   jump = 34}
  31: Add  {"Awards", Value = 77}         -- "Promoted to Honorary Archmage"
  32: Add  {"Experience", Value = 40000}
  33: GoTo  {jump = 37}

  34: Set  {"ClassIs", Value = const.Class.ArchMage}
  35: Add  {"Awards", Value = 76}         -- "Promoted to Archmage"
  36: Add  {"Experience", Value = 80000}
  37: Subtract  {"QBits", Value = 47}         -- "Recover the Book of Unmakings from the Strange Temple and return it to Thomas Grey in the School of Sorcery."
  38: Subtract  {"QBits", Value = 226}         -- Book of Divine Intervention - I lost it
  39: Add  {"Gold", Value = 10000}
  40: ForPlayer  ("All")
  41: SetNPCTopic  {NPC = 48, Index = 0, Event = 0}         -- "Thomas Grey"
  42: SetNPCGreeting  {NPC = 48, Greeting = 77}         -- "Thomas Grey" : "I am honored to be graced with your presence, my lords."
  43: Set  {"QBits", Value = 206}         -- Harmondale - Town Portal
  44: Set  {"QBits", Value = 207}         -- Erathia - Town Portal
  45: Set  {"QBits", Value = 208}         -- Tularean Forest - Town Portal
  46: Subtract  {"Inventory", Value = 499}         -- "Book of UnMakings"
  47: SetNPCTopic  {NPC = 93, Index = 1, Event = 0}         -- "Tarin Withern"
  48: Exit  {}

  49: ForPlayer  ("All")
  50: Cmp  {"Inventory", Value = 499,   jump = 4}         -- "Book of UnMakings"
  51: SetMessage  {Str = 20}         --[[ "“The portal has collapsed!  Had you but heeded my words there would have been a chance to recover the Book of UnMakings.  But your hesitation has lost the book forever.

Get out of my sight.  You don’t have what it takes for this advancement."" ]]
  52: SetNPCTopic  {NPC = 48, Index = 0, Event = 0}         -- "Thomas Grey"
  53: Subtract  {"QBits", Value = 47}         -- "Recover the Book of Unmakings from the Strange Temple and return it to Thomas Grey in the School of Sorcery."
  54: Exit  {}
end

event 96  -- "Coding Wizard Quest"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 775,   jump = 9}         -- "LG's Proof"
  2:  Cmp  {"QBits", Value = 353,   jump = 7}         -- "Bring proof of the Coding Wizard's existence to Lord Godwinson."
  3:  SetMessage  {Str = 67}         --[[ "Erathian folklore mentions a mysterious ‘coding wizard’ named ‘BDJ’. The legend says he has mastered the ‘coding magicks’ that control ‘The Game’. As the story goes, he is able to offer a second character class to those who have already mastered their chosen profession.

I spent much of my youth in search of this wizard, but alas, I was never able to find him.  Maybe he’s just a myth to entice the Young into the world of adventuring; maybe not.  For my peace of mind, I’ve got to know if he is more than a myth.  If you can find this wizard and return to me with proof of his existence, I will reward you handsomely.

I have a dear friend, the Lady Kathryn, who may be able to assist you with this quest.  She resides on Evenmorn Island.  Seek her out and heed her advise.

Good luck, adventurers!" ]]
  4:  Set  {"QBits", Value = 353}         -- "Bring proof of the Coding Wizard's existence to Lord Godwinson."
  5:  MoveNPC  {NPC = 457, HouseId = 115}         -- "Lady K" -> "The Laughing Monk"
  6:  GoTo  {jump = 18}

  7:  SetMessage  {Str = 89}         -- "Bring me proof that the Coding Wizard is more than just a myth."
  8:  Exit  {}

  9:  SetMessage  {Str = 88}         --[[ "What’s this? [You proudly hand the scroll to Lord Godwinson].  A message for me written in the hand of the legendary Coding Wizard!?  I just **knew** that I was right!  He does exist!  Thank you soooo much for this scroll!

Here, take this reward of 50 Skill Points for each party member.  It should help you in upgrading your new skills!

Now tell me all about your adventure!" ]]
  10: Subtract  {"Inventory", Value = 775}         -- "LG's Proof"
  11: Add  {"SkillPoints", Value = 50}
  12: Subtract  {"QBits", Value = 353}         -- "Bring proof of the Coding Wizard's existence to Lord Godwinson."
  13: Set  {"Awards", Value = 8}         -- "Completed Coding Wizard Quest"
  14: SetNPCTopic  {NPC = 460, Index = 0, Event = 0}         -- "Lord Godwinson"
  15: Subtract  {"NPCs", Value = 18}         -- "Lord Godwinson"
  16: MoveNPC  {NPC = 460, HouseId = 470}         -- "Lord Godwinson" -> "Godwinson Estate"
  17: Exit  {}

  18: SetNPCTopic  {NPC = 457, Index = 0, Event = 97}         -- "Lady K" : "Lord Godwinson sent us!"
  19: Exit  {}
end

event 97  -- "Lord Godwinson sent us!"
  0:  SetMessage  {Str = 68}         --[[ "Ah, my old friend Lord Godwinson!  I trust that he is doing well?

So you’ve decided to take the journey to find BDJ the Coding Wizard?  He’s a strange one, that Wizard.  A mysterious legend in Erathia who, above all, covets his privacy and guards his secrets closely.  But if you can find him, the rewards are worth the journey!

I do know this.  To reach this wizard you must first run The Gauntlet.  The Lector EAO is the foremost authority on this ‘gauntlet’.  She travels quite a bit, but she does return to her home in Erathia each Summer.  Seek her out.  She may be able to assist you on your journey." ]]
  1:  Set  {"QBits", Value = 354}         -- 0
  2:  SetNPCTopic  {NPC = 457, Index = 0, Event = 0}         -- "Lady K"
  3:  Exit  {}
end

event 98  -- "Great Druid"
  0:  SetMessage  {Str = 217}         -- "Advancement as a Druid is simple.  You must visit the three ancient temples to nature we erected centuries ago and pray at their centers.  They are in Tatalia, Evenmorn Isle, and Avlee, and look like circles of stone with an altar of water in their centers.  Where exactly I will not say, but exploring the land about them is part of the process.  When you have visited all three Circles, return to me to detail your experience."
  1:  Set  {"QBits", Value = 49}         -- "Visit the three stonehenge monoliths in Tatalia, the Evenmorn Islands, and Avlee, then return to Anthony Green in the Tularean Forest."
  2:  SetNPCTopic  {NPC = 50, Index = 0, Event = 99}         -- "Anthony Green" : "Great Druid"
end

event 99  -- "Great Druid"
  0:  Cmp  {"QBits", Value = 50,   jump = 8}         -- Visited all stonehenges
  1:  Cmp  {"QBits", Value = 51,   jump = 6}         -- Visited stonehenge 1 (area 9)
  2:  Cmp  {"QBits", Value = 52,   jump = 6}         -- Visited stonehenge 2 (area 13)
  3:  Cmp  {"QBits", Value = 53,   jump = 6}         -- Visited stonehenge 3 (area 14)
  4:  SetMessage  {Str = 218}         -- "Visit the Circles, then return to me.  That is the process.  "
  5:  Exit  {}

  6:  SetMessage  {Str = 219}         -- "You've found a circle!  Very good, but you must find all three before you will be ready for promotion.  Remember, circles three, then return to me."
  7:  Exit  {}

  8:  SetMessage  {Str = 220}         -- "I have only to look into your eyes to see where you've been.  You have seen the circles, and they have left their imprint upon you.  Telling you that all Druids amongst you are now Great Druids is but a formality.  Telling the rest of you that you're now honorary Druids is showing you respect for the respect you have shown me and my faith.  "
  9:  ForPlayer  (0)
  10: Cmp  {"ClassIs", Value = const.Class.Druid,   jump = 14}
  11: Add  {"Awards", Value = 69}         -- "Promoted to Honorary Great Druid"
  12: Add  {"Experience", Value = 15000}
  13: GoTo  {jump = 17}

  14: Set  {"ClassIs", Value = const.Class.GreatDruid}
  15: Add  {"Awards", Value = 68}         -- "Promoted to Great Druid"
  16: Add  {"Experience", Value = 30000}
  17: ForPlayer  (1)
  18: Cmp  {"ClassIs", Value = const.Class.Druid,   jump = 22}
  19: Add  {"Awards", Value = 69}         -- "Promoted to Honorary Great Druid"
  20: Add  {"Experience", Value = 15000}
  21: GoTo  {jump = 25}

  22: Set  {"ClassIs", Value = const.Class.GreatDruid}
  23: Add  {"Awards", Value = 68}         -- "Promoted to Great Druid"
  24: Add  {"Experience", Value = 30000}
  25: ForPlayer  (2)
  26: Cmp  {"ClassIs", Value = const.Class.Druid,   jump = 30}
  27: Add  {"Awards", Value = 69}         -- "Promoted to Honorary Great Druid"
  28: Add  {"Experience", Value = 15000}
  29: GoTo  {jump = 33}

  30: Set  {"ClassIs", Value = const.Class.GreatDruid}
  31: Add  {"Awards", Value = 68}         -- "Promoted to Great Druid"
  32: Add  {"Experience", Value = 30000}
  33: ForPlayer  (3)
  34: Cmp  {"ClassIs", Value = const.Class.Druid,   jump = 38}
  35: Add  {"Awards", Value = 69}         -- "Promoted to Honorary Great Druid"
  36: Add  {"Experience", Value = 15000}
  37: GoTo  {jump = 41}

  38: Set  {"ClassIs", Value = const.Class.GreatDruid}
  39: Add  {"Awards", Value = 68}         -- "Promoted to Great Druid"
  40: Add  {"Experience", Value = 30000}
  41: Subtract  {"QBits", Value = 49}         -- "Visit the three stonehenge monoliths in Tatalia, the Evenmorn Islands, and Avlee, then return to Anthony Green in the Tularean Forest."
  42: Subtract  {"Reputation", Value = 5}
  43: ForPlayer  ("All")
  44: SetNPCTopic  {NPC = 50, Index = 0, Event = 100}         -- "Anthony Green" : "Arch Druid"
end

event 100  -- "Arch Druid"
  0:  Cmp  {"QBits", Value = 99,   jump = 6}         -- Chose the path of Light
  1:  Cmp  {"QBits", Value = 100,   jump = 4}         -- Chose the path of Dark
  2:  SetMessage  {Str = 222}         -- "I am dedicated to the service of the Light.  I will not promote you further until you are as dedicated as I.  Come back to me when you choose the Light."
  3:  Exit  {}

  4:  SetMessage  {Str = 223}         -- "Servants of Darkness, I am sorry I promoted you earlier.  I am ashamed I didn't notice the darkness in your souls until it was too late.  Leave me."
  5:  Exit  {}

  6:  SetMessage  {Str = 221}         --[[ "To be named an Arch Druid, you must serve the land.  I know of a service you could perform.  In the land above Stone City, where the Dwarves bury their dead, is the barrow of King Zokarr IV.  He died fighting in defense of Stone City during the invasion of Erathia by Nighon.  His remains were never recovered and still lie in those tunnels.    

Retrieve his bones and place them in his coffin in his barrow.  When you have done this, the King will rest, and so will the land.  Return to me when you've performed this service, and I will perform the Ceremony of Ascension and name you Arch Druids." ]]
  7:  Set  {"QBits", Value = 54}         -- "Retrieve the bones of the Dwarf King from the tunnels between Stone City and Nighon and place them in their proper resting place in the Barrow Downs, then return to Anthony Green in the Tularean Forest."
  8:  SetNPCTopic  {NPC = 50, Index = 0, Event = 101}         -- "Anthony Green" : "Arch Druid"
end

event 101  -- "Arch Druid"
  0:  Cmp  {"QBits", Value = 65,   jump = 3}         -- Barrow downs.   Returned the bones of the Dwarf King.  Arch Druid promo quest.
  1:  SetMessage  {Str = 225}         -- "The Service is not easy, but it needs to be done.  Remember, you must bring the bones of King Zokarr IV from where they lie in the tunnels between Stone City and Nighon to Zokarr's coffin in a secret dwarven barrow.  Only then can I perform the Ceremony of Ascension and promote you."
  2:  Exit  {}

  3:  SetMessage  {Str = 224}         --[[ "[Master Green seems beside himself with joy at your accomplishment] I felt the King's soul return to the land of the dead when you returned his bones.  The land breathed a sigh of relief--did you feel it?  

The Ceremony of Ascension is complete.  I'm happy to promote all Great Druids amongst you to Arch Druids, and all honorary Great Druids to Honorary Arch Druids.  This is a very happy day!  Your service will be remembered!" ]]
  4:  ForPlayer  (0)
  5:  Cmp  {"ClassIs", Value = const.Class.GreatDruid,   jump = 9}
  6:  Add  {"Awards", Value = 71}         -- "Promoted to Honorary Arch Druid"
  7:  Add  {"Experience", Value = 40000}
  8:  GoTo  {jump = 12}

  9:  Set  {"ClassIs", Value = const.Class.ArchDruid}
  10: Add  {"Awards", Value = 70}         -- "Promoted to Arch Druid"
  11: Add  {"Experience", Value = 80000}
  12: ForPlayer  (1)
  13: Cmp  {"ClassIs", Value = const.Class.GreatDruid,   jump = 17}
  14: Add  {"Awards", Value = 71}         -- "Promoted to Honorary Arch Druid"
  15: Add  {"Experience", Value = 40000}
  16: GoTo  {jump = 20}

  17: Set  {"ClassIs", Value = const.Class.ArchDruid}
  18: Add  {"Awards", Value = 70}         -- "Promoted to Arch Druid"
  19: Add  {"Experience", Value = 80000}
  20: ForPlayer  (2)
  21: Cmp  {"ClassIs", Value = const.Class.GreatDruid,   jump = 25}
  22: Add  {"Awards", Value = 71}         -- "Promoted to Honorary Arch Druid"
  23: Add  {"Experience", Value = 40000}
  24: GoTo  {jump = 28}

  25: Set  {"ClassIs", Value = const.Class.ArchDruid}
  26: Add  {"Awards", Value = 70}         -- "Promoted to Arch Druid"
  27: Add  {"Experience", Value = 80000}
  28: ForPlayer  (3)
  29: Cmp  {"ClassIs", Value = const.Class.GreatDruid,   jump = 33}
  30: Add  {"Awards", Value = 71}         -- "Promoted to Honorary Arch Druid"
  31: Add  {"Experience", Value = 40000}
  32: GoTo  {jump = 36}

  33: Set  {"ClassIs", Value = const.Class.ArchDruid}
  34: Add  {"Awards", Value = 70}         -- "Promoted to Arch Druid"
  35: Add  {"Experience", Value = 80000}
  36: Subtract  {"QBits", Value = 54}         -- "Retrieve the bones of the Dwarf King from the tunnels between Stone City and Nighon and place them in their proper resting place in the Barrow Downs, then return to Anthony Green in the Tularean Forest."
  37: Subtract  {"Reputation", Value = 10}
  38: ForPlayer  ("All")
  39: SetNPCTopic  {NPC = 50, Index = 0, Event = 0}         -- "Anthony Green"
  40: SetNPCGreeting  {NPC = 50, Greeting = 81}         -- "Anthony Green" : "Fortune be your friend, lords.  Do you seek my advice today?"
end

event 102  -- "Can you tell us about The Gauntlet?"
  0:  SetMessage  {Str = 69}         --[[ "The Gauntlet. Yes.  Legend has it that it was established by the recluse BDJ, commonly called the Coding Wizard, during the Second Age of Erathia, when he decided to withdraw from public life to pursue research on what he termed ‘The Game’.  The purpose of The Gauntlet is to dissuade idle curiosity seekers, indolent ‘wannabees’, and other tavern-dwellers from taking the magicks of coding for granted and unbalancing ‘The Game’.  This is in perfect harmony with the ‘TANSTAAFL!’ principle championed by Mage Emeritus R. Heinlein.

To reach this wizard, one must first ‘run The Gauntlet’, which consists of a series of ‘challenges’ in the realms of Earth, Fire, Water, and finally of Air and of Light.  The rewards of the Coding Wizard await those who emerge from these trials.

The Duchess of Deja may have information on the legendary location of The Gauntlet. Seek her out to continue your journey." ]]
  1:  SetNPCTopic  {NPC = 458, Index = 0, Event = 0}         -- "EAO the Lector"
  2:  MoveNPC  {NPC = 459, HouseId = 346}         -- "Duchess of Deja" -> "Duchess of Deja"
  3:  SetNPCTopic  {NPC = 459, Index = 0, Event = 103}         -- "Duchess of Deja" : "Where is The Gauntlet?"
  4:  Exit  {}
end

event 103  -- "Where is The Gauntlet?"
  0:  ForPlayer  ("All")
  1:  Cmp  {"QBits", Value = 355,   jump = 4}         -- "Bring a Red Delicious Apple to the Duchess of Deja."
  2:  Subtract  {"Inventory", Value = 630}         -- "Red Delicious Apple"
  3:  Cmp  {"Inventory", Value = 630,   jump = 2}         -- "Red Delicious Apple"
  4:  Cmp  {"Inventory", Value = 630,   jump = 8}         -- "Red Delicious Apple"
  5:  SetMessage  {Str = 90}         --[[ "So you want to know the location of the legendary ‘Gauntlet’ leading to the Coding Wizard?  Perhaps I can help.  But you must first do something for me.

As you can see, Deja is not exactly the Land of Milk and Honey.  I have a terrible hunger for a fresh Red Delicious Apple from the forests in Tulerea.  Bring one of these apples to me, and then we’ll talk."" ]]
  6:  Set  {"QBits", Value = 355}         -- "Bring a Red Delicious Apple to the Duchess of Deja."
  7:  Exit  {}

  8:  SetMessage  {Str = 70}         --[[ "The Apple!  Oh this is soooo delicious! [The duchess takes a large byte out of the apple and begins to chew]  Ummmm.  I have waited sooo long for this treat.  Thank you!  Now to my part of our bargain.

Unfortunately, no one knows exactly **where** The Gauntlet is located.  Some scholars believe that it has been created in the vast expanse of the Coding Void surrounded by the Null of Darkness.  Others believe that it is hidden in plain sight, cloaked in the Great Expanse of the Exclusive OR. Pure speculation if you ask me.

However, I do know **how** you can enter The Gauntlet.  You simply need to pray at the proper altar.  All you need to do is to find this alter.

Good Luck!" ]]
  9:  Subtract  {"Inventory", Value = 630}         -- "Red Delicious Apple"
  10: Subtract  {"QBits", Value = 355}         -- "Bring a Red Delicious Apple to the Duchess of Deja."
  11: Set  {"QBits", Value = 356}         -- 0
  12: SetNPCTopic  {NPC = 459, Index = 0, Event = 0}         -- "Duchess of Deja"
  13: Exit  {}
end

event 104  -- "Golem Parts"
  0:  ForPlayer  ("All")

  1:  CanShowTopic.Cmp  {"QBits", Value = 73,   jump = 5}         -- Finished constructing Golem with Abbey normal head
  2:  CanShowTopic.Cmp  {"QBits", Value = 74,   jump = 5}         -- Finished constructing Golem with normal head
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}
  5:  CanShowTopic.Set  {Visible = false}
  6:  CanShowTopic.Exit  {}

  7:  Cmp  {"QBits", Value = 66,   jump = 15}         -- Placed Golem torso
  8:  Cmp  {"Inventory", Value = 639,   jump = 10}         -- "Golem chest"
  9:  GoTo  {jump = 15}

  10: Add  {"QBits", Value = 66}         -- Placed Golem torso
  11: Subtract  {"Inventory", Value = 639}         -- "Golem chest"
  12: Subtract  {"QBits", Value = 225}         -- Torso - I lost it
  13: SetMessage  {Str = 232}         -- "You prepare the torso for assembly with the rest of the parts."
  14: Exit  {}

  15: Cmp  {"QBits", Value = 67,   jump = 24}         -- Placed Golem left leg
  16: GoTo  {jump = 17}

  17: Cmp  {"Inventory", Value = 642,   jump = 19}         -- "Golem left leg"
  18: GoTo  {jump = 24}

  19: Subtract  {"Inventory", Value = 642}         -- "Golem left leg"
  20: Subtract  {"QBits", Value = 224}         -- Left leg - I lost it
  21: Add  {"QBits", Value = 67}         -- Placed Golem left leg
  22: SetMessage  {Str = 233}         -- "You prepare the left leg for assembly with the rest of the parts."
  23: Exit  {}

  24: Cmp  {"QBits", Value = 68,   jump = 33}         -- Placed Golem right leg
  25: GoTo  {jump = 26}

  26: Cmp  {"Inventory", Value = 643,   jump = 28}         -- "Golem right leg"
  27: GoTo  {jump = 33}

  28: SetMessage  {Str = 234}         -- "You prepare the right leg for assembly with the rest of the parts."
  29: Subtract  {"Inventory", Value = 643}         -- "Golem right leg"
  30: Subtract  {"QBits", Value = 223}         -- Right leg - I lost it
  31: Add  {"QBits", Value = 68}         -- Placed Golem right leg
  32: Exit  {}

  33: Cmp  {"QBits", Value = 69,   jump = 42}         -- Placed Golem left arm
  34: GoTo  {jump = 35}

  35: Cmp  {"Inventory", Value = 645,   jump = 37}         -- "Golem left arm"
  36: GoTo  {jump = 42}

  37: SetMessage  {Str = 235}         -- "You prepare the left arm for assembly with the rest of the parts."
  38: Subtract  {"Inventory", Value = 645}         -- "Golem left arm"
  39: Subtract  {"QBits", Value = 222}         -- Left arm - I lost it
  40: Add  {"QBits", Value = 69}         -- Placed Golem left arm
  41: Exit  {}

  42: Cmp  {"QBits", Value = 70,   jump = 51}         -- Placed Golem left leg
  43: GoTo  {jump = 44}

  44: Cmp  {"Inventory", Value = 644,   jump = 46}         -- "Golem right arm"
  45: GoTo  {jump = 51}

  46: SetMessage  {Str = 236}         -- "You prepare the right arm for assembly with the rest of the parts."
  47: Subtract  {"Inventory", Value = 644}         -- "Golem right arm"
  48: Subtract  {"QBits", Value = 221}         -- Right arm - I lost it
  49: Add  {"QBits", Value = 70}         -- Placed Golem left leg
  50: Exit  {}

  51: Cmp  {"QBits", Value = 71,   jump = 71}         -- Placed Golem head
  52: Cmp  {"QBits", Value = 72,   jump = 71}         -- Placed Golem Abbey normal head
  53: GoTo  {jump = 54}

  54: Cmp  {"Inventory", Value = 641,   jump = 56}         -- "Golem head"
  55: GoTo  {jump = 61}

  56: SetMessage  {Str = 237}         -- "You prepare the head for assembly with the rest of the parts."
  57: Subtract  {"Inventory", Value = 641}         -- "Golem head"
  58: Subtract  {"QBits", Value = 219}         -- Golem Head - I lost it
  59: Add  {"QBits", Value = 71}         -- Placed Golem head
  60: Exit  {}

  61: Cmp  {"QBits", Value = 71,   jump = 71}         -- Placed Golem head
  62: Cmp  {"QBits", Value = 72,   jump = 71}         -- Placed Golem Abbey normal head
  63: GoTo  {jump = 64}

  64: Cmp  {"Inventory", Value = 640,   jump = 66}         -- "Abbey Normal Golem Head"
  65: GoTo  {jump = 92}

  66: SetMessage  {Str = 238}         -- "You prepare the head (with a dent in it) for assembly with the rest of the parts."
  67: Subtract  {"Inventory", Value = 640}         -- "Abbey Normal Golem Head"
  68: Subtract  {"QBits", Value = 220}         -- Abby normal head - I lost it
  69: Add  {"QBits", Value = 72}         -- Placed Golem Abbey normal head
  70: Exit  {}

  71: Cmp  {"QBits", Value = 66,   jump = 73}         -- Placed Golem torso
  72: GoTo  {jump = 92}

  73: Cmp  {"QBits", Value = 67,   jump = 75}         -- Placed Golem left leg
  74: GoTo  {jump = 92}

  75: Cmp  {"QBits", Value = 68,   jump = 77}         -- Placed Golem right leg
  76: GoTo  {jump = 92}

  77: Cmp  {"QBits", Value = 69,   jump = 79}         -- Placed Golem left arm
  78: GoTo  {jump = 92}

  79: Cmp  {"QBits", Value = 70,   jump = 81}         -- Placed Golem left leg
  80: GoTo  {jump = 92}

  81: Cmp  {"QBits", Value = 71,   jump = 84}         -- Placed Golem head
  82: Cmp  {"QBits", Value = 72,   jump = 88}         -- Placed Golem Abbey normal head
  83: GoTo  {jump = 92}

  84: Add  {"QBits", Value = 74}         -- Finished constructing Golem with normal head
  85: SetMessage  {Str = 240}         -- "You have all the parts together!  Now you just have to return to Master Grey for the animation process."
  86: SetNPCTopic  {NPC = 56, Index = 1, Event = 0}         -- "Golem"
  87: Exit  {}

  88: Add  {"QBits", Value = 73}         -- Finished constructing Golem with Abbey normal head
  89: SetMessage  {Str = 240}         -- "You have all the parts together!  Now you just have to return to Master Grey for the animation process."
  90: SetNPCTopic  {NPC = 56, Index = 1, Event = 0}         -- "Golem"
  91: Exit  {}

  92: SetMessage  {Str = 239}         -- "You have no parts to assemble yet."
end

event 105  -- "Swap Heads"
  0:  ForPlayer  ("All")

  1:  CanShowTopic.Cmp  {"QBits", Value = 71,   jump = 5}         -- Placed Golem head
  2:  CanShowTopic.Cmp  {"QBits", Value = 72,   jump = 8}         -- Placed Golem Abbey normal head
  3:  CanShowTopic.Set  {Visible = false}
  4:  CanShowTopic.Exit  {}
  5:  CanShowTopic.Cmp  {"Inventory", Value = 640,   jump = 11}         -- "Abbey Normal Golem Head"
  6:  CanShowTopic.Set  {Visible = false}
  7:  CanShowTopic.Exit  {}
  8:  CanShowTopic.Cmp  {"Inventory", Value = 641,   jump = 11}         -- "Golem head"
  9:  CanShowTopic.Set  {Visible = false}
  10: CanShowTopic.Exit  {}
  11: CanShowTopic.Set  {Visible = true}
  12: CanShowTopic.Exit  {}

  13: Cmp  {"Inventory", Value = 640,   jump = 17}         -- "Abbey Normal Golem Head"
  14: Cmp  {"Inventory", Value = 641,   jump = 26}         -- "Golem head"
  15: SetMessage  {Str = 243}         -- "I fear that talking will fail with these ruffians, my lords.  May I suggest violence?"
  16: Exit  {}

  17: Subtract  {"Inventory", Value = 640}         -- "Abbey Normal Golem Head"
  18: Subtract  {"QBits", Value = 220}         -- Abby normal head - I lost it
  19: ForPlayer  ("Current")
  20: Add  {"Inventory", Value = 641}         -- "Golem head"
  21: Add  {"QBits", Value = 219}         -- Golem Head - I lost it
  22: Subtract  {"QBits", Value = 71}         -- Placed Golem head
  23: Add  {"QBits", Value = 72}         -- Placed Golem Abbey normal head
  24: SetMessage  {Str = 241}         -- "You remove the normal head and replace it with the dented head."
  25: Exit  {}

  26: Subtract  {"Inventory", Value = 641}         -- "Golem head"
  27: Subtract  {"QBits", Value = 219}         -- Golem Head - I lost it
  28: ForPlayer  ("Current")
  29: Add  {"Inventory", Value = 640}         -- "Abbey Normal Golem Head"
  30: Add  {"QBits", Value = 220}         -- Abby normal head - I lost it
  31: Subtract  {"QBits", Value = 72}         -- Placed Golem Abbey normal head
  32: Add  {"QBits", Value = 71}         -- Placed Golem head
  33: SetMessage  {Str = 242}         -- "You remove the dented head and replace it with the normal head."
  34: Exit  {}
end

event 106  -- "Castle Harmondale"
  0:  SetMessage  {Str = 243}         -- "I fear that talking will fail with these ruffians, my lords.  May I suggest violence?"
  1:  SetNPCTopic  {NPC = 58, Index = 0, Event = 121}         -- "Butler" : "Castle Harmondale"
  2:  MoveNPC  {NPC = 58, HouseId = 108}         -- "Butler" -> "On the House"
  3:  Exit  {}
end

event 107  -- "Rescue Dwarves"
  0:  SetMessage  {Str = 246}         --[[ "So…The new lords of Harmondale I have before me.  Not impressed.  Doubt other kings think much of you either.  Hrmph.  Probably get yourselves killed soon.  But maybe there's more than meets the eye here.  Yes.  Maybe you can do something for me, and I for you.  Medusas have taken my mines in eastern Bracada.  Turned a few of my people to stone.  Dangerous monsters, don't want to lose more lives on a rescue.  Ok to lose yours though.  

Take this elixir and pour it on the statues.  Wake them up.  Then I will fix up your castle.  Give you respect.  Go now, and beware the griffins in Bracada.  " ]]
  1:  Set  {"QBits", Value = 76}         -- "Rescue the dwarves from the Red Dwarf Mines and return to the Dwarf King in Stone City in the Barrow Downs."
  2:  Subtract  {"QBits", Value = 146}         -- "Talk to the Dwarves in Stone City in the Barrow Downs to find a way to repair Castle Harmondale."
  3:  Add  {"Inventory", Value = 629}         -- "Elixir"
  4:  Add  {"QBits", Value = 230}         -- Elixir - I lost it
  5:  SetNPCTopic  {NPC = 59, Index = 0, Event = 108}         -- "Hothfarr IX" : "Rescue Dwarves"
end

event 108  -- "Rescue Dwarves"
  0:  Cmp  {"NPCs", Value = 60,   jump = 2}         -- "Drathen Keldin"
  1:  GoTo  {jump = 13}

  2:  Cmp  {"NPCs", Value = 61,   jump = 4}         -- "Jaycen Keldin"
  3:  GoTo  {jump = 13}

  4:  Cmp  {"NPCs", Value = 62,   jump = 6}         -- "Yarrow Keldin"
  5:  GoTo  {jump = 13}

  6:  Cmp  {"NPCs", Value = 63,   jump = 8}         -- "Fausil Keldin"
  7:  GoTo  {jump = 13}

  8:  Cmp  {"NPCs", Value = 64,   jump = 10}         -- "Red Keldin"
  9:  GoTo  {jump = 13}

  10: Cmp  {"NPCs", Value = 65,   jump = 12}         -- "Thom Keldin"
  11: GoTo  {jump = 13}

  12: Cmp  {"NPCs", Value = 66,   jump = 15}         -- "Arvin Keldin"
  13: SetMessage  {Str = 248}         -- "Back again, eh?  Your part of the bargain isn't finished.  No help 'til you're done.  "
  14: Exit  {}

  15: SetMessage  {Str = 247}         --[[ "Welcome back, Lords of Harmondale!  Now, I will help you.  My engineer will work for you.  Fix up your castle.  You have my thanks.  You are welcome here forever..  

Oh, and before I forget .. take this teleportal key to Emerald Island.  Don't know where you can use it, but you might find it helpful in the future. Perhaps you should see Illene Farswell in Harmondale.  She may know where you can use this key. 

Hmmph.  One more thing.  Your work has interested the other courts.  They will send ambassadors to you now--check your throne room.  Watch your back, my friends." ]]
  16: Add  {"History4", Value = 0}
  17: Add  {"Gold", Value = 5000}
  18: Subtract  {"QBits", Value = 76}         -- "Rescue the dwarves from the Red Dwarf Mines and return to the Dwarf King in Stone City in the Barrow Downs."
  19: Subtract  {"Reputation", Value = 5}
  20: ForPlayer  ("All")
  21: Add  {"Awards", Value = 5}         -- "Rescued the dwarves from the Red Dwarf Mine"
  22: Add  {"Experience", Value = 12500}
  23: Subtract  {"Inventory", Value = 629}         -- "Elixir"
  24: Subtract  {"QBits", Value = 230}         -- Elixir - I lost it
  25: Set  {"QBits", Value = 98}         -- Built Castle to Level 2 (rescued dwarf guy)
  26: Subtract  {"NPCs", Value = 60}         -- "Drathen Keldin"
  27: MoveNPC  {NPC = 60, HouseId = 999}         -- "Drathen Keldin" -> not found!
  28: MoveNPC  {NPC = 67, HouseId = 174}         -- "Ellen Rockway" -> "Throne Room"
  29: MoveNPC  {NPC = 68, HouseId = 174}         -- "Alain Hani" -> "Throne Room"
  30: Subtract  {"NPCs", Value = 61}         -- "Jaycen Keldin"
  31: Subtract  {"NPCs", Value = 62}         -- "Yarrow Keldin"
  32: Subtract  {"NPCs", Value = 63}         -- "Fausil Keldin"
  33: Subtract  {"NPCs", Value = 64}         -- "Red Keldin"
  34: Subtract  {"NPCs", Value = 65}         -- "Thom Keldin"
  35: Subtract  {"NPCs", Value = 66}         -- "Arvin Keldin"
  36: SetNPCTopic  {NPC = 59, Index = 0, Event = 0}         -- "Hothfarr IX"
  37: SetNPCGreeting  {NPC = 59, Greeting = 88}         -- "Hothfarr IX" : "Welcome, Harmondale!  Stone city is at your disposal."
  38: ForPlayer  (0)
  39: Add  {"Inventory", Value = 664}         -- "Emerald Is. Teleportal Key"
end

event 109  -- "Use Elixir"
  0:  CanShowTopic.Cmp  {"Inventory", Value = 674,   jump = 3}         -- "Elixir Placeholder"
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  Set  {"NPCs", Value = 60}         -- "Drathen Keldin"
  6:  SetNPCGreeting  {NPC = 60, Greeting = 89}         -- "Drathen Keldin" : "Thanks for rescuing me.  I am at your service."
end

event 110  -- "Use Elixir"
  0:  CanShowTopic.Cmp  {"Inventory", Value = 674,   jump = 3}         -- "Elixir Placeholder"
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  Set  {"NPCs", Value = 61}         -- "Jaycen Keldin"
  6:  SetNPCGreeting  {NPC = 61, Greeting = 90}         -- "Jaycen Keldin" : "Thanks for rescuing me.  I owe you my life."
end

event 111  -- "Use Elixir"
  0:  CanShowTopic.Cmp  {"Inventory", Value = 674,   jump = 3}         -- "Elixir Placeholder"
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  Set  {"NPCs", Value = 62}         -- "Yarrow Keldin"
  6:  SetNPCGreeting  {NPC = 62, Greeting = 90}         -- "Yarrow Keldin" : "Thanks for rescuing me.  I owe you my life."
end

event 112  -- "Use Elixir"
  0:  CanShowTopic.Cmp  {"Inventory", Value = 674,   jump = 3}         -- "Elixir Placeholder"
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  Set  {"NPCs", Value = 63}         -- "Fausil Keldin"
  6:  SetNPCGreeting  {NPC = 63, Greeting = 90}         -- "Fausil Keldin" : "Thanks for rescuing me.  I owe you my life."
end

event 113  -- "Use Elixir"
  0:  CanShowTopic.Cmp  {"Inventory", Value = 674,   jump = 3}         -- "Elixir Placeholder"
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  Set  {"NPCs", Value = 64}         -- "Red Keldin"
  6:  SetNPCGreeting  {NPC = 64, Greeting = 90}         -- "Red Keldin" : "Thanks for rescuing me.  I owe you my life."
end

event 114  -- "Use Elixir"
  0:  CanShowTopic.Cmp  {"Inventory", Value = 674,   jump = 3}         -- "Elixir Placeholder"
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  Set  {"NPCs", Value = 65}         -- "Thom Keldin"
  6:  SetNPCGreeting  {NPC = 65, Greeting = 90}         -- "Thom Keldin" : "Thanks for rescuing me.  I owe you my life."
end

event 115  -- "Use Elixir"
  0:  CanShowTopic.Cmp  {"Inventory", Value = 674,   jump = 3}         -- "Elixir Placeholder"
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  Set  {"NPCs", Value = 66}         -- "Arvin Keldin"
  6:  SetNPCGreeting  {NPC = 66, Greeting = 90}         -- "Arvin Keldin" : "Thanks for rescuing me.  I owe you my life."
end

event 116  -- "An invitation…"
  0:  SetMessage  {Str = 249}         -- "I bring greetings from Queen Catherine, the rightful ruler of all Erathia.  She has taken up residence at Gryphonheart Castle in Steadwick. She is currently involved in matters of State and cannot spare the time to grant you an audience.  If the Queen needs you, she shall summon you."
  1:  Exit  {}
end

event 117  -- "We've received the Blessings!"
  0:  Exit  {}
end

event 118  -- "Artifact"
  0:  CanShowTopic.Cmp  {"Inventory", Value = 634,   jump = 3}         -- "Gryphonheart's Trumpet"
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 253}         -- "[Lady Ellen gasps in delight] You have Gryphonheart's Trumpet!  This is wonderful!  When it disappeared from the strongbox, we thought it had been stolen by the enemy!  Thank you for bringing it back to us!"
  6:  Add  {"Gold", Value = 5000}
  7:  ForPlayer  ("All")
  8:  Add  {"Experience", Value = 10000}
  9:  Subtract  {"Inventory", Value = 634}         -- "Gryphonheart's Trumpet"
  10: Subtract  {"QBits", Value = 79}         -- "Retrieve Gryphonheart's Trumpet from the battle in the Tularean Forest and return it to whichever side you choose."
  11: Set  {"QBits", Value = 84}         -- Gave artifact to humans
  12: SetNPCTopic  {NPC = 67, Index = 2, Event = 0}         -- "Ellen Rockway"
end

event 119  -- "We've received the Blessings!"
  0:  ForPlayer  ("All")
  1:  Cmp  {"QBits", Value = 295,   jump = 6}         -- Water
  2:  Cmp  {"QBits", Value = 296,   jump = 6}         -- Fire
  3:  Cmp  {"QBits", Value = 297,   jump = 6}         -- Air
  4:  Cmp  {"QBits", Value = 298,   jump = 6}         -- Earth
  5:  Exit  {}

  6:  SetMessage  {Str = 216}         --[[ "Ok then.  Here’s your briefing.

We have recently discovered that the Strange Temple is being used as a ‘staging area’ for a group known as The Corruption. This group has joined forces with the Devil-King Xenoflex to form an unholy alliance. They are currently raising an army of Golems, Devils, Angels, and other creatures of the land, both Light and Dark.  Once at-strength, they plan on storming Erathia like a plague of locusts and seizing power throughout all lands. To make things worse, The Corruption discovered some ancient weapons and is attempting to reproduce them en-mass in order to equip their army. And at the center of this unseemly coalition is one of The Pit’s own … Judas the Geek! He has betrayed all of Erathia!!

What I need you to do is to proceed to the residence of Judas, find the hidden teleport therein, and enter the Strange Temple. Once in the temple, destroy all creatures within, retrieve the ancient weapons, and return to me. Should you encounter the traitor, terminate him … with extreme prejudice." ]]
  7:  MoveNPC  {NPC = 85, HouseId = 0}         -- "Maximus"
  8:  Set  {"QBits", Value = 299}         -- "Clear out the Strange Temple,  retrieve the ancient weapons, and return to Maximus in The Pit"
  9:  Exit  {}
end

event 120  -- "An invitation…"
  0:  SetMessage  {Str = 256}         -- "Though Avlee is not currently in charge of Harmondale, my King, Eldrich Parson of Avlee, lays claim to this territory as our rightful domain.  The reasons are complicated, but boil down to the simple fact that Erathia stole our land in the Timber Wars many years ago, and we will not give up until we have it back.  You'd be well served to stay out of this conflict.  However, if my King needs you, he will summon you."
  0:  Exit  {}
end

event 121  -- "Castle Harmondale"
  0:  Cmp  {"QBits", Value = 135,   jump = 3}         -- Player castle goblins are all dead
  1:  SetMessage  {Str = 243}         -- "I fear that talking will fail with these ruffians, my lords.  May I suggest violence?"
  2:  Exit  {}

  3:  SetMessage  {Str = 244}         --[[ "Thank heavens you've cleaned them out!  Now we need to find a way to clean up the castle and rebuild the damaged sections.  The only people I can think of who would have the inclination and the ability to do this are the Dwarves in Stone City, located in the Barrow Downs to the south.  The entrance to Stone City lies in the center of the Barrow Downs on one of the largest hills.

Oh, by the way … an angel appeared to me a few hours ago.  He said that he needs to speak to the new lords of Harmondale and that he would be waiting for you inside of the castle.  If I were you, I’d talk with him before going to see the Dwarf King. " ]]
  4:  ForPlayer  ("All")
  5:  Add  {"Experience", Value = 5000}
  6:  Subtract  {"QBits", Value = 75}         -- "Clean out Castle Harmondale and return to the Butler in the tavern, On the House, in Harmondale."
  7:  Add  {"Awards", Value = 4}         -- "Cleared out Castle Harmondale"
  8:  MoveNPC  {NPC = 58, HouseId = 174}         -- "Butler" -> "Throne Room"
  9:  SetNPCTopic  {NPC = 58, Index = 0, Event = 0}         -- "Butler"
  10: SetNPCGreeting  {NPC = 58, Greeting = 86}         -- "Butler" : "You rang, my lords?"
  11: Set  {"QBits", Value = 146}         -- "Talk to the Dwarves in Stone City in the Barrow Downs to find a way to repair Castle Harmondale."
end

event 122  -- "Artifact"
  0:  CanShowTopic.Cmp  {"Inventory", Value = 634,   jump = 3}         -- "Gryphonheart's Trumpet"
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 260}         -- "You have Gryphonheart's Trumpet!  Excellent!  We lost track of it during the raid, and were afraid that one of the Erathians got away with it.  Thank you very much for your help!"
  6:  Add  {"Gold", Value = 5000}
  7:  ForPlayer  ("All")
  8:  Add  {"Experience", Value = 10000}
  9:  Subtract  {"Inventory", Value = 634}         -- "Gryphonheart's Trumpet"
  10: Subtract  {"QBits", Value = 79}         -- "Retrieve Gryphonheart's Trumpet from the battle in the Tularean Forest and return it to whichever side you choose."
  11: Set  {"QBits", Value = 85}         -- Gave artifact to elves
  12: SetNPCTopic  {NPC = 68, Index = 2, Event = 0}         -- "Alain Hani"
end

event 123  -- "No Thanks."
  0:  ForPlayer  ("All")
  1:  Cmp  {"QBits", Value = 338,   jump = 13}         -- BDJ Final
  2:  Cmp  {"QBits", Value = 337,   jump = 10}         -- BDJ 3
  3:  Cmp  {"QBits", Value = 336,   jump = 7}         -- BDJ 2
  4:  Set  {"QBits", Value = 336}         -- BDJ 2
  5:  SetNPCTopic  {NPC = 456, Index = 0, Event = 50}         -- "The Coding Wizard" : "New Profession."
  6:  GoTo  {jump = 15}

  7:  Set  {"QBits", Value = 337}         -- BDJ 3
  8:  SetNPCTopic  {NPC = 456, Index = 0, Event = 50}         -- "The Coding Wizard" : "New Profession."
  9:  GoTo  {jump = 15}

  10: Set  {"QBits", Value = 338}         -- BDJ Final
  11: SetNPCTopic  {NPC = 456, Index = 0, Event = 50}         -- "The Coding Wizard" : "New Profession."
  12: GoTo  {jump = 15}

  13: Subtract  {"QBits", Value = 349}         -- One Use
  14: SetNPCTopic  {NPC = 456, Index = 0, Event = 87}         -- "The Coding Wizard" : "Let's Continue."
  15: SetNPCTopic  {NPC = 456, Index = 1, Event = 0}         -- "The Coding Wizard"
  16: SetNPCTopic  {NPC = 456, Index = 2, Event = 0}         -- "The Coding Wizard"
  17: SetNPCTopic  {NPC = 456, Index = 3, Event = 0}         -- "The Coding Wizard"
  18: SetMessage  {Str = 267}         -- "Ok then.  Let's move on."
  19: Exit  {}
end

event 124  -- "So you're the new lords of Harmondale."
  0:  SetMessage  {Str = 263}         -- "[Queen Catherine inclines her head regally] You are the lot that won Lord Markham's silly contest, I see.  I must admit I had little faith until the Dwarf King recognized you as the rightful rulers of Harmondale.  You must have done something to win his respect, or he would have nothing to do with you.  I'm still not sure what he saw in you, but perhaps there really is something of substance here.  Only time will tell.  If I have a need for your services, I'll summon you.  You are dismissed."
  1:  Exit  {}
end

event 125  -- "Bow Expert"
  0:  SetMessage  {Str = 341}         -- "The only teacher that I know of is the renown Zedd True Shot.  You can find him on Emerald Island.  He's also the Warrior Mage promoter. "
  1:  Exit  {}
end

event 126  -- "Let's Go!"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 675,   jump = 4}         -- "Control Cube"
  2:  SetMessage  {Str = 340}         -- "We cannot leave until we have the Control Cube."
  3:  Exit  {}

  4:  SetMessage  {Str = 325}         -- "Gladly, friends!"
  5:  SetMonGroupBit  {NPCGroup = 6, Bit = const.MonsterBits.Invisible, On = true}         -- "Group for M1"
  6:  Set  {"NPCs", Value = 34}         -- "Duke Bimbasto"
  7:  SetNPCTopic  {NPC = 34, Index = 1, Event = 0}         -- "Duke Bimbasto"
end

event 127  -- "Let's Go!"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 675,   jump = 4}         -- "Control Cube"
  2:  SetMessage  {Str = 340}         -- "We cannot leave until we have the Control Cube."
  3:  Exit  {}

  4:  SetMessage  {Str = 325}         -- "Gladly, friends!"
  5:  SetMonGroupBit  {NPCGroup = 7, Bit = const.MonsterBits.Invisible, On = true}         -- "Group fo M2"
  6:  Set  {"NPCs", Value = 35}         -- "Sir Vilx of Stone City"
  7:  SetNPCTopic  {NPC = 35, Index = 1, Event = 0}         -- "Sir Vilx of Stone City"
end

event 128  -- "Congratulations!"
  0:  ForPlayer  ("All")
  1:  Cmp  {"QBits", Value = 99,   jump = 4}         -- Chose the path of Light
  2:  Cmp  {"QBits", Value = 100,   jump = 46}         -- Chose the path of Dark
  3:  Exit  {}

  4:  SetMessage  {Str = 323}         --[[ "You have saved Erathia, adventurers!  From henceforth, you shall be known as ‘The Heroes of Erathia’!  You may now travel safely anywhere in The Pit without harm or molestation.  However, don’t ‘pick a fight’ with our locals or all bets are off!!

Because of your service, heroes, I hereby grant all members of your party the Ancient Weapon skill and all magic users among your party the mastery in the Dark Magic skill. You can use our promoters to advance in the ancient weapon skill.  Use your new skills wisely!

Oh! and Lord Archibald, himself, has place a reward for you in the House that once belonged to Judas.  It’s in the chest on the second floor.  You may retrieve the reward at any time.

After you have rested, return to Celeste for your next assignment."" ]]
  5:  Subtract  {"QBits", Value = 299}         -- "Clear out the Strange Temple,  retrieve the ancient weapons, and return to Maximus in The Pit"
  6:  Set  {"QBits", Value = 303}         -- Reward
  7:  Set  {"BlasterSkill", Value = 1}
  8:  Set  {"Awards", Value = 7}         -- "Declared Heroes of Erathia"
  9:  Add  {"Experience", Value = 200000}
  10: Add  {"Awards", Value = 60}         -- "Joined the Dark Guild"
  11: ForPlayer  (0)
  12: Cmp  {"FireSkill", Value = 1,   jump = 15}
  13: Cmp  {"BodySkill", Value = 1,   jump = 15}
  14: GoTo  {jump = 16}

  15: Set  {"DarkSkill", Value = 136}
  16: ForPlayer  (1)
  17: Cmp  {"FireSkill", Value = 1,   jump = 20}
  18: Cmp  {"BodySkill", Value = 1,   jump = 20}
  19: GoTo  {jump = 21}

  20: Set  {"DarkSkill", Value = 136}
  21: ForPlayer  (2)
  22: Cmp  {"FireSkill", Value = 1,   jump = 25}
  23: Cmp  {"BodySkill", Value = 1,   jump = 25}
  24: GoTo  {jump = 26}

  25: Set  {"DarkSkill", Value = 136}
  26: ForPlayer  (3)
  27: Cmp  {"FireSkill", Value = 1,   jump = 30}
  28: Cmp  {"BodySkill", Value = 1,   jump = 30}
  29: GoTo  {jump = 31}

  30: Set  {"DarkSkill", Value = 136}
  31: ForPlayer  ("All")
  32: MoveNPC  {NPC = 84, HouseId = 437}         -- "Kastore" -> "Sand Residence"
  33: SetNPCTopic  {NPC = 84, Index = 0, Event = 0}         -- "Kastore"
  34: SetNPCTopic  {NPC = 84, Index = 1, Event = 0}         -- "Kastore"
  35: SetNPCTopic  {NPC = 84, Index = 2, Event = 0}         -- "Kastore"
  36: SetNPCTopic  {NPC = 84, Index = 3, Event = 223}         -- "Kastore" : "Ancient Weapon Grandmaster"
  37: MoveNPC  {NPC = 86, HouseId = 441}         -- "Dark Shade" -> "Hostel"
  38: SetNPCTopic  {NPC = 86, Index = 0, Event = 0}         -- "Dark Shade"
  39: SetNPCTopic  {NPC = 86, Index = 1, Event = 0}         -- "Dark Shade"
  40: SetNPCTopic  {NPC = 86, Index = 2, Event = 0}         -- "Dark Shade"
  41: SetNPCTopic  {NPC = 86, Index = 3, Event = 221}         -- "Dark Shade" : "Ancient Weapon Expert"
  42: SetNPCTopic  {NPC = 85, Index = 1, Event = 222}         -- "Maximus" : "Ancient Weapon Master"
  43: SetNPCGreeting  {NPC = 86, Greeting = 196}         -- "Dark Shade" : "Welcome back  Heroes!   What can I do for you?"
  44: SetNPCGreeting  {NPC = 84, Greeting = 196}         -- "Kastore" : "Welcome back  Heroes!   What can I do for you?"
  45: GoTo  {jump = 88}

  46: SetMessage  {Str = 324}         --[[ "You have saved Erathia, adventurers!  From henceforth, you shall be known as ‘The Heroes of Erathia’!  You may now travel safely anywhere in Celeste without harm or molestation.  However, don’t ‘pick a fight’ with our locals or all bets are off!!

Because of your service, heroes, I hereby grant all members of your party the Ancient Weapon skill and all magic users among your party mastery in the Light Magic skill. You can use our promoters to advance in the ancient weapon skills.  Use your new skills wisely!

Oh! and Gavin Magnus, himself, has place a reward for you in the House that once belonged to Robert the Wise.  It’s in the chest on the second floor.  You may retrieve the reward at any time.

After you have rested, return to The Pit for your next assignment." ]]
  47: Subtract  {"QBits", Value = 299}         -- "Clear out the Strange Temple,  retrieve the ancient weapons, and return to Maximus in The Pit"
  48: Set  {"QBits", Value = 303}         -- Reward
  49: Set  {"BlasterSkill", Value = 1}
  50: Set  {"Awards", Value = 7}         -- "Declared Heroes of Erathia"
  51: Add  {"Experience", Value = 200000}
  52: Add  {"Awards", Value = 59}         -- "Joined the Light Guild"
  53: ForPlayer  (0)
  54: Cmp  {"FireSkill", Value = 1,   jump = 57}
  55: Cmp  {"BodySkill", Value = 1,   jump = 57}
  56: GoTo  {jump = 58}

  57: Set  {"LightSkill", Value = 136}
  58: ForPlayer  (1)
  59: Cmp  {"FireSkill", Value = 1,   jump = 62}
  60: Cmp  {"BodySkill", Value = 1,   jump = 62}
  61: GoTo  {jump = 63}

  62: Set  {"LightSkill", Value = 136}
  63: ForPlayer  (2)
  64: Cmp  {"FireSkill", Value = 1,   jump = 67}
  65: Cmp  {"BodySkill", Value = 1,   jump = 67}
  66: GoTo  {jump = 68}

  67: Set  {"LightSkill", Value = 136}
  68: ForPlayer  (3)
  69: Cmp  {"FireSkill", Value = 1,   jump = 72}
  70: Cmp  {"BodySkill", Value = 1,   jump = 72}
  71: GoTo  {jump = 73}

  72: Set  {"LightSkill", Value = 136}
  73: ForPlayer  ("All")
  74: MoveNPC  {NPC = 80, HouseId = 422}         -- "Resurectra" -> "House Devine"
  75: SetNPCTopic  {NPC = 80, Index = 0, Event = 0}         -- "Resurectra"
  76: SetNPCTopic  {NPC = 80, Index = 1, Event = 0}         -- "Resurectra"
  77: SetNPCTopic  {NPC = 80, Index = 2, Event = 0}         -- "Resurectra"
  78: SetNPCTopic  {NPC = 80, Index = 3, Event = 223}         -- "Resurectra" : "Ancient Weapon Grandmaster"
  79: MoveNPC  {NPC = 81, HouseId = 423}         -- "Crag Hack" -> "Morningstar Residence"
  80: SetNPCTopic  {NPC = 81, Index = 0, Event = 0}         -- "Crag Hack"
  81: SetNPCTopic  {NPC = 81, Index = 1, Event = 0}         -- "Crag Hack"
  82: SetNPCTopic  {NPC = 81, Index = 2, Event = 0}         -- "Crag Hack"
  83: SetNPCTopic  {NPC = 81, Index = 3, Event = 221}         -- "Crag Hack" : "Ancient Weapon Expert"
  84: SetNPCTopic  {NPC = 82, Index = 1, Event = 222}         -- "Sir Caneghem" : "Ancient Weapon Master"
  85: SetNPCGreeting  {NPC = 81, Greeting = 196}         -- "Crag Hack" : "Welcome back  Heroes!   What can I do for you?"
  86: SetNPCGreeting  {NPC = 80, Greeting = 196}         -- "Resurectra" : "Welcome back  Heroes!   What can I do for you?"
  87: Exit  {}

  88: MoveNPC  {NPC = 80, HouseId = 182}         -- "Resurectra" -> "Throne Room"
  89: Subtract  {"QBits", Value = 302}         -- Small House only Once
  90: Exit  {}
end

event 129  -- "Congratulations!"
  0:  Exit  {}
end

event 130  -- "Artifact"
  0:  CanShowTopic.Cmp  {"Inventory", Value = 634,   jump = 3}         -- "Gryphonheart's Trumpet"
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 287}         -- "My loyal subjects!  You were the ones who took the Trumpet!  Good work.  We thought it lost forever.  Once again, my purser will deposit gold in your account.  5,000 gold, to be exact."
  6:  Add  {"BankGold", Value = 5000}
  7:  Subtract  {"Reputation", Value = 5}
  8:  ForPlayer  ("All")
  9:  Add  {"Experience", Value = 10000}
  10: Subtract  {"Inventory", Value = 634}         -- "Gryphonheart's Trumpet"
  11: Subtract  {"QBits", Value = 79}         -- "Retrieve Gryphonheart's Trumpet from the battle in the Tularean Forest and return it to whichever side you choose."
  12: Set  {"QBits", Value = 84}         -- Gave artifact to humans
  13: SetNPCTopic  {NPC = 69, Index = 4, Event = 0}         -- "Queen Catherine"
end

event 131  -- "You're the new lords,huh?"
  0:  SetMessage  {Str = 275}         -- "Welcome.  I understand you've been appointed Lords of Harmondale by that idiot Markham.  You know, I WILL restore Avlee's rule over Harmondale--the only question is whether you are with me, or against me.  If you're with me, I will ensure that you retain your post.  Against me, and I will have done with you once my armies occupy your lands.    [King Parson smiles affably] So, of course you're with me!  If I have a need for your services, I'll summon you.  You are dismissed."
  1:  Exit  {}
end

event 132  -- "Map"
  0:  SetMessage  {Str = 277}         --[[ "Well, Seekers, I see you’ve finally arrived.  I’ve been waiting for this moment for ages! 

What?!  You think that all of us have wings and just fly around the countryside impressing the Young?  We can take any form we desire.  We often appear as peasants and beggars so that we may move freely amongst your kind.  Besides, I rather enjoy the shocked look of these foul winged beasts as their perceived ‘easy prey’ sends them to their deaths!  If you have some time on your hands, lure some of these beasties to me, stand back, and watch me in action.  I'm very good, you know!  Besides, I need some entertainment! 

But enough about me.  You came in search of The Map, I guess.  Here it is.  Return it to my kin in Castle Harmondale for your promotion and reward.  Adou. " ]]
  1:  ForPlayer  ("Current")
  2:  Add  {"Inventory", Value = 739}         -- "Map to Treasure"
  3:  SetNPCTopic  {NPC = 454, Index = 0, Event = 0}         -- "Map Giver"
  4:  Exit  {}
end

event 133  -- "Most Excellent!!"
  0:  SetMessage  {Str = 315}         -- "YOU ARE HEROES!!!  Your work against the devils was masterful!  And the rescue of King Roland was as delightful as it was unexpected.  History will never forget your names for doing what you just did!  I, for one, am very proud to know you.  "
  1:  Add  {"Gold", Value = 50000}
  2:  Subtract  {"Reputation", Value = 10}
  3:  ForPlayer  ("All")
  4:  Add  {"Experience", Value = 500000}
  5:  Subtract  {"QBits", Value = 104}         -- "Go to Colony Zod in the Land of the Giants and slay Xenofex then return to Resurectra in Castle Lambent in Celeste."
  6:  Set  {"QBits", Value = 120}         -- Got Hive part
  7:  SetNPCTopic  {NPC = 80, Index = 1, Event = 169}         -- "Resurectra" : "Final Task"
  8:  Add  {"Awards", Value = 48}         -- "Slayed Xenofex"
  9:  Subtract  {"QBits", Value = 105}         -- Slayed Xenofex
  10: Add  {"SkillPoints", Value = 100}
  11: Exit  {}
end

event 134  -- "Let's Go!"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 675,   jump = 4}         -- "Control Cube"
  2:  SetMessage  {Str = 340}         -- "We cannot leave until we have the Control Cube."
  3:  Exit  {}

  4:  SetMessage  {Str = 325}         -- "Gladly, friends!"
  5:  SetMonGroupBit  {NPCGroup = 9, Bit = const.MonsterBits.Invisible, On = true}         -- "Group for Malwick's Assc."
  6:  Set  {"NPCs", Value = 37}         -- "Pascal the Mad Mage"
  7:  SetNPCTopic  {NPC = 37, Index = 1, Event = 0}         -- "Pascal the Mad Mage"
end

event 135  -- "Let's Go!"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 675,   jump = 4}         -- "Control Cube"
  2:  SetMessage  {Str = 340}         -- "We cannot leave until we have the Control Cube."
  3:  Exit  {}

  4:  SetMessage  {Str = 325}         -- "Gladly, friends!"
  5:  SetMonGroupBit  {NPCGroup = 10, Bit = const.MonsterBits.Invisible, On = true}         -- "Southern Village Group in Harmondy"
  6:  Set  {"NPCs", Value = 20}         -- "Baron BunGleau"
  7:  SetNPCTopic  {NPC = 20, Index = 1, Event = 0}         -- "Baron BunGleau"
end

event 136  -- "Let's Go!"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 675,   jump = 4}         -- "Control Cube"
  2:  SetMessage  {Str = 340}         -- "We cannot leave until we have the Control Cube."
  3:  Exit  {}

  4:  SetMessage  {Str = 325}         -- "Gladly, friends!"
  5:  SetMonGroupBit  {NPCGroup = 8, Bit = const.MonsterBits.Invisible, On = true}         -- "Group for M3"
  6:  Set  {"NPCs", Value = 18}         -- "Lord Godwinson"
  7:  SetNPCTopic  {NPC = 18, Index = 1, Event = 0}         -- "Lord Godwinson"
end

event 137  -- "Artifact"
  0:  CanShowTopic.Cmp  {"Inventory", Value = 634,   jump = 3}         -- "Gryphonheart's Trumpet"
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 288}         -- "Ah, the Trumpet!  You captured it!  We weren't sure how things turned out when news of the human raid reached us.  Thank you again, my friends.  My factor will deposit 5,000 gold in your account for your services."
  6:  Add  {"BankGold", Value = 5000}
  7:  Subtract  {"Reputation", Value = 5}
  8:  ForPlayer  ("All")
  9:  Add  {"Experience", Value = 10000}
  10: Subtract  {"Inventory", Value = 634}         -- "Gryphonheart's Trumpet"
  11: Subtract  {"QBits", Value = 79}         -- "Retrieve Gryphonheart's Trumpet from the battle in the Tularean Forest and return it to whichever side you choose."
  12: Set  {"QBits", Value = 85}         -- Gave artifact to elves
  13: SetNPCTopic  {NPC = 70, Index = 4, Event = 0}         -- "ElfKing"
end

event 138  -- "Hint"
  0:  Cmp  {"QBits", Value = 98,   jump = 3}         -- Built Castle to Level 2 (rescued dwarf guy)
  1:  SetMessage  {Str = 289}         --[[ "If there is one piece of advice I could give you, it would be to fix your castle.  I don't know how you're going to find the gold and workers to do it, as only wealthy nobles and kings can afford such large scale projects.  I suppose it's the old chicken and egg question...you must appear noble to gain wealth and respect, but you must have wealth and respect in order to appear noble.  

In any event, if you expect to be lords of Harmondale for more than a few months, you need to find a way to prove you're not just lucky peasants.  You must prove that you're fit to rule." ]]
  2:  Exit  {}

  3:  SetMessage  {Str = 290}         --[[ "Once again, the Human kingdom of Erathia and the Elvish kingdom of Harmondale are fighting.  As the local Judge, it has fallen to me to patch up their differences and bring the two sides to the negotiating table.  The two sides are so evenly matched that either could prevail.  [The judge leans closer to you, lowering his voice] And I'll tell you something else--I don't much care anymore who wins.  They are like children fighting over a toy.  Neither really wants Harmondale--they just want to deny it to the other.  

So, you're on your own.  Whatever actions you take now in support of one side or another could really make a difference.  Just remember that they couldn't possibly care less what happens to you or who rules in Harmondale.  Protect yourselves and your people first.  We didn't have this conversation." ]]
  4:  Exit  {}
end

event 139  -- "I lost it"
  0:  SetMessage  {Str = 668}         -- "That's too bad, children.  You really ought to take better care of your toys!  It looks like you are S.O.L."
  1:  Exit  {}
end

event 140  -- "Artifact"
  0:  CanShowTopic.Cmp  {"Inventory", Value = 634,   jump = 3}         -- "Gryphonheart's Trumpet"
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  ForPlayer  ("All")
  6:  Cmp  {"Inventory", Value = 634,   jump = 8}         -- "Gryphonheart's Trumpet"
  7:  Exit  {}

  8:  SetMessage  {Str = 291}         -- "You were wise to return the Trumpet to me.  Now I can use it to help shore up the weak side in this conflict and promote peace.  Thank you.  "
  9:  Set  {"QBits", Value = 147}         -- Gave artifact to arbiter
  10: Add  {"Experience", Value = 12500}
  11: Subtract  {"Inventory", Value = 634}         -- "Gryphonheart's Trumpet"
  12: Subtract  {"QBits", Value = 79}         -- "Retrieve Gryphonheart's Trumpet from the battle in the Tularean Forest and return it to whichever side you choose."
  13: SetNPCTopic  {NPC = 74, Index = 2, Event = 0}         -- "Judge Grey"
end

event 141  -- "I choose you!"
  0:  Subtract  {"NPCs", Value = 77}         -- "Judge Fairweather"
  1:  MoveNPC  {NPC = 77, HouseId = 112}         -- "Judge Fairweather" -> "Familiar Place"
  2:  SetNPCGreeting  {NPC = 77, Greeting = 104}         -- "Judge Fairweather" : "We need to go to Judge Grey's old house in Harmondale.  Only then can I start my new job and begin to ""sort out this mess"".  [Heh!]"
  3:  SetNPCGreeting  {NPC = 78, Greeting = 102}         -- "Judge Sleen" : "We need to go to Judge Grey's old house in Harmondale.  Only then can I start my new job and begin to ""sort out this mess"".  [Heh!]"
  4:  Set  {"NPCs", Value = 78}         -- "Judge Sleen"
  5:  SetMessage  {Str = 292}         -- "A wise decision.  You won't regret this--believe me.  I knew you were going to make this decision, and my bags are already packed and ready to go.  All you need to do now is get me to my new home, and I'll take care of the rest."
  6:  SetNPCTopic  {NPC = 78, Index = 0, Event = 0}         -- "Judge Sleen"
  7:  SetNPCTopic  {NPC = 77, Index = 0, Event = 143}         -- "Judge Fairweather" : "I choose you!"
end

event 142  -- "Hint"
  0:  ForPlayer  ("All")
  1:  Cmp  {"QBits", Value = 110,   jump = 4}         -- Finished Necro Proving Grounds
  2:  SetMessage  {Str = 293}         -- "Your first order of business is to talk to Lord Ironfist and complete his 'mission.'  Once your ability and loyalty are proven, you will be allowed to help in more…interesting… ways."
  3:  Exit  {}

  4:  Cmp  {"QBits", Value = 111,   jump = 7}         -- Finished Necro Task 2 - Temple of Light
  5:  SetMessage  {Str = 294}         -- "Each of the advisors to Lord Ironfist has a task for you, complete each one.  Talk to Kastore, Dark Shade, and Maaximus for more information.  The completion of these tasks is vital for our future."
  6:  Exit  {}

  7:  Cmp  {"QBits", Value = 112,   jump = 10}         -- Finished Necro Task 3 - Soul Jars
  8:  SetMessage  {Str = 294}         -- "Each of the advisors to Lord Ironfist has a task for you, complete each one.  Talk to Kastore, Dark Shade, and Maaximus for more information.  The completion of these tasks is vital for our future."
  9:  Exit  {}

  10: Cmp  {"QBits", Value = 113,   jump = 13}         -- Finished Necro Task 4 - Clanker's Lab
  11: SetMessage  {Str = 294}         -- "Each of the advisors to Lord Ironfist has a task for you, complete each one.  Talk to Kastore, Dark Shade, and Maaximus for more information.  The completion of these tasks is vital for our future."
  12: Exit  {}

  13: Cmp  {"QBits", Value = 118,   jump = 16}         -- Killed Good MM3 Person
  14: SetMessage  {Str = 295}         -- "Judas the Geek has a mission of great importance.  Everything we've staked so far rests on its completion.  Prepare well for his task or you will certainly fail."
  15: Exit  {}

  16: Cmp  {"QBits", Value = 120,   jump = 19}         -- Got Hive part
  17: SetMessage  {Str = 296}         -- "Xenofex and the rest of the Kreegan must be put down; go to their 'hive' in the Land of the Giants and put a stop to Xenofex and his minions once and for all."
  18: Exit  {}

  19: Cmp  {"QBits", Value = 121,   jump = 22}         -- Got the sci-fi part
  20: SetMessage  {Str = 297}         -- "You will need to visit the craft that brought Kastore and his men to Erathia to continue.  Go west of Avlee, and make sure to be properly outfitted."
  21: Exit  {}

  22: SetMessage  {Str = 298}         -- "Bring the Oscillation Overthruster back to Kastore with all possible speed!  Every moment you dally allows a chance for failure!"
  23: Exit  {}
end

event 143  -- "I choose you!"
  0:  Subtract  {"NPCs", Value = 78}         -- "Judge Sleen"
  1:  MoveNPC  {NPC = 78, HouseId = 111}         -- "Judge Sleen" -> "The Snobbish Goblin"
  2:  SetNPCGreeting  {NPC = 78, Greeting = 101}         -- "Judge Sleen" : "Free"
  3:  SetNPCGreeting  {NPC = 77, Greeting = 105}         -- "Judge Fairweather" : "We need to go to Judge Grey's old house in Harmondale.  Only then can I start my new job and put this horrible war to an end."
  4:  Set  {"NPCs", Value = 77}         -- "Judge Fairweather"
  5:  SetMessage  {Str = 292}         -- "A wise decision.  You won't regret this--believe me.  I knew you were going to make this decision, and my bags are already packed and ready to go.  All you need to do now is get me to my new home, and I'll take care of the rest."
  6:  SetNPCTopic  {NPC = 77, Index = 0, Event = 0}         -- "Judge Fairweather"
  7:  SetNPCTopic  {NPC = 78, Index = 0, Event = 141}         -- "Judge Sleen" : "I choose you!"
end

event 144  -- "Hint"
  0:  ForPlayer  ("All")
  1:  Cmp  {"QBits", Value = 114,   jump = 4}         -- Finished Wizard Proving Grounds
  2:  SetMessage  {Str = 300}         -- "First, you need to speak to Gavin Magnus in Celeste and complete his training.  After you have proven your ability and loyalty you will learn more about your role in the future of Erathia."
  3:  Exit  {}

  4:  Cmp  {"QBits", Value = 115,   jump = 7}         -- Finished Wizard Task 2 - Temple of Dark
  5:  SetMessage  {Str = 301}         -- "Each of Gavin's advisors has a task for you.  Talk to Resurectra, Sir Caneghem, and Crag Hack for more information.  Do not fail in these missions- in them rests the balance of the future."
  6:  Exit  {}

  7:  Cmp  {"QBits", Value = 116,   jump = 10}         -- Finished Wizard Task 3 - Wine Cellar
  8:  SetMessage  {Str = 301}         -- "Each of Gavin's advisors has a task for you.  Talk to Resurectra, Sir Caneghem, and Crag Hack for more information.  Do not fail in these missions- in them rests the balance of the future."
  9:  Exit  {}

  10: Cmp  {"QBits", Value = 117,   jump = 13}         -- Finished Wizard Task 4 - Soul Jars
  11: SetMessage  {Str = 301}         -- "Each of Gavin's advisors has a task for you.  Talk to Resurectra, Sir Caneghem, and Crag Hack for more information.  Do not fail in these missions- in them rests the balance of the future."
  12: Exit  {}

  13: Cmp  {"QBits", Value = 119,   jump = 16}         -- Killed Evil MM3 Person
  14: SetMessage  {Str = 302}         -- "Robert the Wise has a regrettable, but necessary, mission for you to complete.  For any of our plans to continue, this mission must succeed.  Prepare most carefully for the task, or you invite certain failure."
  15: Exit  {}

  16: Cmp  {"QBits", Value = 120,   jump = 19}         -- Got Hive part
  17: SetMessage  {Str = 303}         -- "The Kreegan, the Devils, and their leader Xenofex must be destroyed completely for the plan to have any long-term benefit.  You will find their 'hive' in the Land of the Giants."
  18: Exit  {}

  19: Cmp  {"QBits", Value = 121,   jump = 22}         -- Got the sci-fi part
  20: SetMessage  {Str = 304}         -- "To the west of Avlee lies the craft that Resurectra and her associates used to come to Erathia.  Visit the ship and retrieve the Oscillation Overthruster to insure our victory.  Make sure to be properly outfitted for the journey."
  21: Exit  {}

  22: SetMessage  {Str = 305}         -- "Bring the Oscillation Overthruster back to Resurectra immediately!  Every moment wastes valuable time!"
  23: Exit  {}
end

event 145  -- "Proving Grounds"
  0:  SetMessage  {Str = 306}         -- "The Test involves entering the 'front door' of the Walls of Mist, and exiting through the 'back door'.  I use the word 'door' loosely--you'll see when you get there.  You will not need your weapons.  You will fail the test if you kill any creature in the Walls of Mist.  If you can complete this task, you will be given membership in the Guild of Light. Good luck."
  1:  Set  {"QBits", Value = 101}         -- "Complete the Walls of Mist without killing a single opponent and return to Gavin Magnus in Castle Lambent in Celeste."
  2:  Subtract  {"QBits", Value = 152}         -- "Enter Celeste from the grand teleporter in the Bracada Desert, then talk to Gavin Magnus in Castle Lambent in Celeste."
  3:  SetNPCTopic  {NPC = 79, Index = 0, Event = 146}         -- "Gavin Magnus" : "Proving Grounds"
end

event 146  -- "Proving Grounds"
  0:  Cmp  {"QBits", Value = 102,   jump = 3}         -- Completed Proving Grounds without killing a single creature
  1:  SetMessage  {Str = 308}         -- "Remember, you must enter through the front door of the Walls of Mist, and exit through the back door.  You must not kill any creatures in the Walls of Mist.  When you have done this, return to me."
  2:  Exit  {}

  3:  SetMessage  {Str = 307}         -- "You passed the Test!  That's quite an achievement--few succeed as quickly as you did.  My advisors are now eager to speak to  you; they can be found in the four houses on the eastern side of Celeste.  Once again, congratulations!"
  4:  Subtract  {"QBits", Value = 101}         -- "Complete the Walls of Mist without killing a single opponent and return to Gavin Magnus in Castle Lambent in Celeste."
  5:  SetNPCTopic  {NPC = 79, Index = 0, Event = 0}         -- "Gavin Magnus"
  6:  Add  {"History10", Value = 0}
  7:  ForPlayer  ("All")
  8:  Add  {"Experience", Value = 50000}
  9:  Add  {"QBits", Value = 114}         -- Finished Wizard Proving Grounds
  10: Add  {"Awards", Value = 46}         -- "Completed Wizard Proving Grounds"
  11: SetNPCGreeting  {NPC = 79, Greeting = 108}         -- "Gavin Magnus" : "Welcome back, my friends.  My advisors are anxious to speak with you.  "
  12: MoveNPC  {NPC = 80, HouseId = 425}         -- "Resurectra" -> "Hostel"
  13: MoveNPC  {NPC = 81, HouseId = 426}         -- "Crag Hack" -> "Hostel"
  14: MoveNPC  {NPC = 82, HouseId = 427}         -- "Sir Caneghem" -> "Hostel"
  15: MoveNPC  {NPC = 82, HouseId = 427}         -- "Sir Caneghem" -> "Hostel"
  16: SetNPCGreeting  {NPC = 80, Greeting = 111}         -- "Resurectra" : "Always a pleasure to see you, Lords."
  17: SetNPCGreeting  {NPC = 81, Greeting = 114}         -- "Crag Hack" : "It's good to see you again, lords.  I hope all is well with you and your realm."
  18: SetNPCGreeting  {NPC = 82, Greeting = 117}         -- "Sir Caneghem" : "Ah, welcome back my lords.  I hope all is well."
  19: SetNPCGreeting  {NPC = 83, Greeting = 120}         -- "Robert the Wise" : "I'm happy you're still alive and working for the Light.  Come and see me when you've finished my friend's tasks."
  20: Add  {"Awards", Value = 59}         -- "Joined the Light Guild"
end

event 147  -- "Temple of the Dark"
  0:  CanShowTopic.Cmp  {"QBits", Value = 114,   jump = 3}         -- Finished Wizard Proving Grounds
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 309}         -- "We need your help retrieving half of a key to a very important place from our enemies, the Necromancers.  Like us, they have enshrined their half of the key in their highest temple--The Temple of the Dark.  I'm under no illusions this will be easy.  Take your time and act when you're prepared.  Also, bring our half of the key to us, as well.  It is enshrined in the Temple of the Light.  Since you're our ally, no one should trouble you when you go there to fetch the key.  By the same token, please don't harm any of them, either."
  6:  Set  {"QBits", Value = 103}         -- "Retrieve the altar piece from the Temple of Light in Celeste and the Temple of Dark in the Pit and return them to Resurectra in Castle Lambent in Celeste."
  7:  SetNPCTopic  {NPC = 80, Index = 0, Event = 148}         -- "Resurectra" : "Temple of the Dark"
end

event 148  -- "Temple of the Dark"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 676,   jump = 7}         -- "Altar Piece"
  2:  Cmp  {"Inventory", Value = 677,   jump = 5}         -- "Altar Piece"
  3:  SetMessage  {Str = 310}         -- "No key halves yet, I see.  Well, take your time.  It must be done eventually, and sooner is better than later, but later is better than being chained to an altar and sacrificed by the High Priest of the Dark in one of their bloody rituals.  Just bring back both halves of the key from the temples of Dark and Light, and try not to get yourselves killed doing it."
  4:  Exit  {}

  5:  SetMessage  {Str = 312}         -- "Good work on retrieving their half of the key, but you still need ours.  It is located in the Temple of the Light here in Celeste."
  6:  Exit  {}

  7:  Cmp  {"Inventory", Value = 677,   jump = 10}         -- "Altar Piece"
  8:  SetMessage  {Str = 311}         -- "Well, I'm glad you found our half of the key, but you still need their half.  Hold onto it until you get the other half.  When you have both halves, return to me.  I will make them whole."
  9:  Exit  {}

  10: SetMessage  {Str = 313}         -- "I knew you could do it!  Never doubted you for a second!  [You hand her the key halves, and she joins them by running a finger along the crack between them.  It mends before your eyes, good as new] Finally!  One piece of the plan is in place.  Your assistance has been invaluable.  We are already in your debt, and I expect we'll be even deeper in debt before our plan comes to fruition.  So have faith in us awhile longer--the future we're planning will astound you!"
  11: Subtract  {"Inventory", Value = 676}         -- "Altar Piece"
  12: Subtract  {"Inventory", Value = 677}         -- "Altar Piece"
  13: Subtract  {"QBits", Value = 232}         -- Altar Piece (Good) - I lost it
  14: Subtract  {"QBits", Value = 233}         -- Altar Piece (Evil) - I lost it
  15: Add  {"History12", Value = 0}
  16: Add  {"Experience", Value = 50000}
  17: SetNPCTopic  {NPC = 80, Index = 0, Event = 0}         -- "Resurectra"
  18: Subtract  {"QBits", Value = 103}         -- "Retrieve the altar piece from the Temple of Light in Celeste and the Temple of Dark in the Pit and return them to Resurectra in Castle Lambent in Celeste."
  19: Set  {"QBits", Value = 115}         -- Finished Wizard Task 2 - Temple of Dark
  20: Set  {"Awards", Value = 47}         -- "Retrieved Both Temple Pieces"
  21: SetNPCGreeting  {NPC = 80, Greeting = 112}         -- "Resurectra" : "Always a pleasure to see you, Lords."
  22: ForPlayer  ("Current")
  23: Subtract  {"Reputation", Value = 5}
end

event 149
  0:  Exit  {}
end

event 150
  0:  Exit  {}
end

event 151  -- "Vampires"
  0:  CanShowTopic.Cmp  {"QBits", Value = 114,   jump = 3}         -- Finished Wizard Proving Grounds
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 317}         -- "Our allies in Tatalia have been complaining for some time of a mysterious presence.  There have been numerous deaths and disappearances for the last few months, and they've asked us if we knew anything about it.  I think I do.  I suspect a vampire is preying on Tatalia.  I don't have time to pursue the question myself, but to keep our allies happy, I'm asking you to please look into it.  It's possible the monster's presence has deeper implications than just bad luck for Tatalia."
  6:  Set  {"QBits", Value = 106}         -- "Investigate the Wine Cellar in Tatalia and return to Crag Hack in Castle Lambent in Celeste."
  7:  SetNPCTopic  {NPC = 81, Index = 0, Event = 152}         -- "Crag Hack" : "Vampires"
end

event 152  -- "Vampires"
  0:  Cmp  {"QBits", Value = 107,   jump = 3}         -- Slayed the vampire
  1:  SetMessage  {Str = 319}         -- "Keep looking for that Vampire.  I'm sure that's our problem, and he must be somewhere in or near Tatalia.  "
  2:  Exit  {}

  3:  SetMessage  {Str = 318}         -- "Just as I suspected!  Good work.  With the death of the Vampire, Tatalia can sleep a bit easier now.  Queen Catherine is grateful as well, and has been making moves to further strengthen the ties between Bracada and Erathia."
  4:  Add  {"Gold", Value = 20000}
  5:  Add  {"History13", Value = 0}
  6:  Subtract  {"Reputation", Value = 5}
  7:  ForPlayer  ("All")
  8:  Add  {"Experience", Value = 50000}
  9:  Add  {"Awards", Value = 49}         -- "Solved the Mystery of the Wine Cellar"
  10: SetNPCTopic  {NPC = 81, Index = 0, Event = 0}         -- "Crag Hack"
  11: SetNPCGreeting  {NPC = 81, Greeting = 115}         -- "Crag Hack" : "It's good to see you again, lords.  I hope all is well with you and your realm."
  12: Subtract  {"QBits", Value = 106}         -- "Investigate the Wine Cellar in Tatalia and return to Crag Hack in Castle Lambent in Celeste."
  13: Add  {"QBits", Value = 116}         -- Finished Wizard Task 3 - Wine Cellar
end

event 153  -- "Soul Jars"
  0:  CanShowTopic.Cmp  {"QBits", Value = 114,   jump = 3}         -- Finished Wizard Proving Grounds
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 320}         -- "The plan involves stealing the soul jars the Necromancers rely on to prolong their miserable lives.  They have them hidden somewhere in their Guild Castle, and are probably not prepared for the kind of small scale assault you people are so good at.  A quick strike--in and out--should do the trick.  Don't hang around the castle too long, or reinforcements will arrive, and try to get it right the first time, or they will permanently double their patrols.  Once you have the soul jars, bring them back here so we can dispose of them properly."
  6:  Set  {"QBits", Value = 108}         -- "Retrieve the Case of Soul Jars from Castle Gloaming in the Pit and return to Sir Caneghem in Celeste."
  7:  SetNPCTopic  {NPC = 82, Index = 0, Event = 154}         -- "Sir Caneghem" : "Soul Jars"
end

event 154  -- "Soul Jars"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 602,   jump = 4}         -- "Case of Soul Jars"
  2:  SetMessage  {Str = 322}         -- "Be well prepared when you go for the jars.  Their security won't be so lax if you have to retreat and return.  "
  3:  Exit  {}

  4:  SetMessage  {Str = 321}         -- "[Sir Caneghem looks at the jars curiously, as though observing a poisonous snake behind glass] So these are soul jars.  I expected something more…impressive, I suppose.  Good job!  [he takes the case of jars] I will make sure these jars are never seen again."
  5:  Subtract  {"Inventory", Value = 602}         -- "Case of Soul Jars"
  6:  Subtract  {"QBits", Value = 231}         -- Lich Jar Case - I lost it
  7:  Add  {"History11", Value = 0}
  8:  Add  {"Experience", Value = 50000}
  9:  Subtract  {"QBits", Value = 108}         -- "Retrieve the Case of Soul Jars from Castle Gloaming in the Pit and return to Sir Caneghem in Celeste."
  10: Add  {"QBits", Value = 117}         -- Finished Wizard Task 4 - Soul Jars
  11: SetNPCTopic  {NPC = 82, Index = 0, Event = 19}         -- "Sir Caneghem" : "Erathia has been betrayed!"
  12: MoveNPC  {NPC = 85, HouseId = 434}         -- "Maximus" -> "Hostel"
  13: Add  {"Awards", Value = 80}         -- "Retrieved Soul Jars"
  14: ForPlayer  ("Current")
  15: Subtract  {"Reputation", Value = 5}
  16: SetNPCGreeting  {NPC = 88, Greeting = 136}         -- "Archibald Ironfist" : "Back for more target practice?  You know, if you wait long enough, my people will regenerate.  Bigger challenge then."
  17: MoveNPC  {NPC = 88, HouseId = 0}         -- "Archibald Ironfist"
  18: SetNPCTopic  {NPC = 88, Index = 1, Event = 0}         -- "Archibald Ironfist"
  19: SetNPCTopic  {NPC = 85, Index = 0, Event = 22}         -- "Maximus" : "Dangerous Mission"
end

event 155  -- "Strike the Devils"
  0:  Cmp  {"QBits", Value = 326,   jump = 5}         -- Resurectra
  1:  SetMessage  {Str = 314}         --[[ "Our plans rapidly approach their conclusion, but there is a hitch.  You have defeated the unholy alliance of The Corruption, but the traitor Judas has escaped and taken refuge with Xenofex and his Devil minions. They still represent a terrible threat, and though they are licking their wounds from our recent victory, will one day regain their strength and devastate the world.  If anything we do is to have lasting effect, we must first destroy these monsters for once and for all.

You are strong, but not strong enough to defeat the devils on your own.  They are vulnerable to the brand of magic most commonly wielded by the Necromancers, and less so by our own Wizards.  It is imperative that you infiltrate the Devil's base and kill their leader Xenofex and the traitor, Judas.  That should end their threat to this world for some time.  The Warlocks have dug a tunnel from their volcano to the Land of the Giants-- the land the Devils claim as their own.  Perhaps you can use that." ]]
  2:  Set  {"QBits", Value = 104}         -- "Go to Colony Zod in the Land of the Giants and slay Xenofex then return to Resurectra in Castle Lambent in Celeste."
  3:  Set  {"QBits", Value = 326}         -- Resurectra
  4:  Exit  {}

  5:  Cmp  {"QBits", Value = 105,   jump = 9}         -- Slayed Xenofex
  6:  SetMessage  {Str = 316}         -- "I guess there's no hurry getting this job done, but we don't want the Necromancers to grow bored waiting for us to do our part and destroy the blocker.  So, please, as soon as you feel ready you must attack the Devils.  Remember that the Warlocks have dug a tunnel from their volcano to the land of the Devils.  You should be able to use that to get yourselves there."
  7:  Exit  {}

  8:  ForPlayer  ("All")
  9:  SetMessage  {Str = 315}         -- "YOU ARE HEROES!!!  Your work against the devils was masterful!  And the rescue of King Roland was as delightful as it was unexpected.  History will never forget your names for doing what you just did!  I, for one, am very proud to know you.  "
  10: Add  {"Gold", Value = 50000}
  11: Subtract  {"Reputation", Value = 10}
  12: ForPlayer  ("All")
  13: Add  {"Experience", Value = 500000}
  14: Subtract  {"QBits", Value = 104}         -- "Go to Colony Zod in the Land of the Giants and slay Xenofex then return to Resurectra in Castle Lambent in Celeste."
  15: Set  {"QBits", Value = 120}         -- Got Hive part
  16: SetNPCTopic  {NPC = 80, Index = 1, Event = 169}         -- "Resurectra" : "Final Task"
  17: Add  {"Awards", Value = 83886128}         -- not found!
end

event 0
  1:  Cmd00  {}
end

event 2304
  1:  Cmd00  {}
end

event 512  -- "Beacon Fires"
  45: Cmd00  {}
end

event 0
end

event 2560
  160: Cmd00  {}
end

event 40970
  0:  SetSnow  {EffectId = 18, On = true}
end

event 160  -- "Strike the Devils"
  10: Set  {"QBits", Value = 120}         -- Got Hive part
  11: SetNPCTopic  {NPC = 84, Index = 1, Event = 171}         -- "Kastore" : "Final Task"
  12: Add  {"Awards", Value = 48}         -- "Slayed Xenofex"
end

event 161  -- "Soul Jars"
  0:  CanShowTopic.Cmp  {"QBits", Value = 110,   jump = 3}         -- Finished Necro Proving Grounds
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 334}         -- "Archibald has asked us to find a source of soul jars for his necromancers.  These are the jars that are needed to complete the Ritual that gives them eternal life, and we're almost out.  There are far more candidates for Lichdom than we have jars, so some of our necromancers are facing the grim possibility of real death.  The makers of the jars are the Warlocks.  Go to them and convince them to give us the jars.  If they won't hand them over, take the jars by force-- I'm done negotiating prices with them."
  6:  Set  {"QBits", Value = 124}         -- "Retrieve the Case of Soul Jars from the Warlocks in Thunderfist Mountain and bring them to Maximus in the Pit."
  7:  SetNPCTopic  {NPC = 85, Index = 0, Event = 162}         -- "Maximus" : "Soul Jars"
end

event 162  -- "Soul Jars"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 602,   jump = 4}         -- "Case of Soul Jars"
  2:  SetMessage  {Str = 336}         -- "You don't have to be nice about getting the jars from them--just get the jars any way you can.  We can renegotiate peace with them if we must, just like we renegotiate the price for each purchase of soul jars."
  3:  Exit  {}

  4:  SetMessage  {Str = 335}         -- "[Maximus takes the case of jars with obvious delight] Nice work.  I won't even ask what you had to do to get them.  Success speaks for itself.  "
  5:  Subtract  {"Inventory", Value = 602}         -- "Case of Soul Jars"
  6:  Subtract  {"QBits", Value = 231}         -- Lich Jar Case - I lost it
  7:  Add  {"History18", Value = 0}
  8:  Add  {"Experience", Value = 50000}
  9:  Subtract  {"QBits", Value = 124}         -- "Retrieve the Case of Soul Jars from the Warlocks in Thunderfist Mountain and bring them to Maximus in the Pit."
  10: Add  {"QBits", Value = 112}         -- Finished Necro Task 3 - Soul Jars
  11: Add  {"Awards", Value = 80}         -- "Retrieved Soul Jars"
  12: SetNPCTopic  {NPC = 85, Index = 0, Event = 20}         -- "Maximus" : "Erathia has been betrayed!"
  13: MoveNPC  {NPC = 82, HouseId = 427}         -- "Sir Caneghem" -> "Hostel"
  14: ForPlayer  ("Current")
  15: Subtract  {"Reputation", Value = 5}
  16: SetNPCTopic  {NPC = 82, Index = 0, Event = 21}         -- "Sir Caneghem" : "Dangerous Mission"
end

event 163  -- "Clanker's Laboratory"
  0:  CanShowTopic.Cmp  {"QBits", Value = 110,   jump = 3}         -- Finished Necro Proving Grounds
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 337}         -- "Lord Archibald has another request--the creatures that have inhabited Clanker's laboratory must be evicted--and the teleport shield brought down.  The laboratory is on an island east of Pierpont in the Tularean Forest.  Be careful--the monsters in that lab were created by Clanker himself, and some of them are much more powerful than their more common fellows elsewhere in the world.  Take whatever you like from the place.  Lord Archibald is only interested in the real estate and the laboratory equipment.  Once the shield is down, Lord Archibald will be able to begin moving necromancers and equipment inside via Lloyd's Beacon. "
  6:  Set  {"QBits", Value = 125}         -- "Destroy the magical defenses inside Clanker's Laboratory and return to Dark Shade in the Pit."
  7:  SetNPCTopic  {NPC = 86, Index = 0, Event = 164}         -- "Dark Shade" : "Clanker's Laboratory"
end

event 164  -- "Clanker's Laboratory"
  0:  Cmp  {"QBits", Value = 126,   jump = 3}         -- Destroyed the magical defenses in Clanker's Lab
  1:  SetMessage  {Str = 339}         -- "This is a simple task--get a move on!  Once again, the laboratory on an island east of Pierpont in the Tularean Forest.  Get the shield lowered, and your part of the job is done."
  2:  Exit  {}

  3:  SetMessage  {Str = 338}         -- "It's good to see we can count on you.  So few of our allies are as reliable and capable as yourselves.  Thank you very much for your aid."
  4:  Add  {"History21", Value = 0}
  5:  Subtract  {"Reputation", Value = 5}
  6:  ForPlayer  ("All")
  7:  Add  {"Experience", Value = 50000}
  8:  Subtract  {"QBits", Value = 125}         -- "Destroy the magical defenses inside Clanker's Laboratory and return to Dark Shade in the Pit."
  9:  Add  {"QBits", Value = 113}         -- Finished Necro Task 4 - Clanker's Lab
  10: SetNPCTopic  {NPC = 86, Index = 0, Event = 0}         -- "Dark Shade"
  11: SetNPCGreeting  {NPC = 86, Greeting = 130}         -- "Dark Shade" : "Welcome, allies.  Always good to have you back."
  12: Add  {"Awards", Value = 82}         -- "Cleaned out Clanker's Laboratory"
end

event 165  -- "Robert the Wise"
  0:  CanShowTopic.Cmp  {"QBits", Value = 110,   jump = 3}         -- Finished Necro Proving Grounds
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Cmp  {"QBits", Value = 111,   jump = 6}         -- Finished Necro Task 2 - Temple of Light
  4:  CanShowTopic.Set  {Visible = false}
  5:  CanShowTopic.Exit  {}
  6:  CanShowTopic.Cmp  {"QBits", Value = 112,   jump = 9}         -- Finished Necro Task 3 - Soul Jars
  7:  CanShowTopic.Set  {Visible = false}
  8:  CanShowTopic.Exit  {}
  9:  CanShowTopic.Cmp  {"QBits", Value = 113,   jump = 12}         -- Finished Necro Task 4 - Clanker's Lab
  10: CanShowTopic.Set  {Visible = false}
  11: CanShowTopic.Exit  {}
  12: CanShowTopic.Set  {Visible = true}
  13: CanShowTopic.Exit  {}

  14: SetMessage  {Str = 340}         -- "We cannot leave until we have the Control Cube."
  15: Set  {"QBits", Value = 127}         -- "Assassinate Robert the Wise in his house in Celeste and return to Tolberti in the Pit."
  16: SetNPCTopic  {NPC = 87, Index = 0, Event = 166}         -- "Tolberti" : "Robert the Wise"
end

event 166  -- "Robert the Wise"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 675,   jump = 4}         -- "Control Cube"
  2:  SetMessage  {Str = 342}         --[[ "I understand your enthusiasm adventurers.  But you are far too inexperienced for the required promotion task.  Travel about on the mainland, gain some real-world experience, and return to the ‘EI’.  Then we’ll discuss the promotion.

So I’ll await your return?  Good.  See you soon." ]]
  3:  Exit  {}

  4:  SetMessage  {Str = 341}         -- "The only teacher that I know of is the renown Zedd True Shot.  You can find him on Emerald Island.  He's also the Warrior Mage promoter. "
  5:  Subtract  {"Inventory", Value = 675}         -- "Control Cube"
  6:  Add  {"History23", Value = 0}
  7:  Add  {"Experience", Value = 250000}
  8:  Subtract  {"QBits", Value = 127}         -- "Assassinate Robert the Wise in his house in Celeste and return to Tolberti in the Pit."
  9:  Add  {"QBits", Value = 118}         -- Killed Good MM3 Person
  10: Add  {"Awards", Value = 83}         -- "Assassinated Robert the Wise"
  11: ForPlayer  (0)
  12: Cmp  {"BlasterSkill", Value = 1,   jump = 14}
  13: Set  {"BlasterSkill", Value = 1}
  14: ForPlayer  (1)
  15: Cmp  {"BlasterSkill", Value = 1,   jump = 17}
  16: Set  {"BlasterSkill", Value = 1}
  17: ForPlayer  (2)
  18: Cmp  {"BlasterSkill", Value = 1,   jump = 20}
  19: Set  {"BlasterSkill", Value = 1}
  20: ForPlayer  (3)
  21: Cmp  {"BlasterSkill", Value = 1,   jump = 23}
  22: Set  {"BlasterSkill", Value = 1}
  23: SetNPCTopic  {NPC = 84, Index = 3, Event = 223}         -- "Kastore" : "Ancient Weapon Grandmaster"
  24: SetNPCTopic  {NPC = 85, Index = 1, Event = 222}         -- "Maximus" : "Ancient Weapon Master"
  25: SetNPCTopic  {NPC = 86, Index = 1, Event = 221}         -- "Dark Shade" : "Ancient Weapon Expert"
  26: SetNPCGreeting  {NPC = 87, Greeting = 0}         -- "Tolberti" : ""
  27: Subtract  {"Reputation", Value = 5}
  28: SetNPCTopic  {NPC = 87, Index = 0, Event = 0}         -- "Tolberti"
end

event 167  -- "Breeding Pit"
  0:  CanShowTopic.Cmp  {"QBits", Value = 99,   jump = 3}         -- Chose the path of Light
  1:  CanShowTopic.Set  {Visible = true}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = false}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 343}         -- "Yes, the test.  It's simple.  Near the center of the city is a place we call the Breeding Zone.  There's a lot of foul monsters in the pit, and they regenerate constantly.  It makes for a good source of slaves, spare parts, and target practice.  All of our necromancers are tested there when they want to rise above the level of initiate.  I'm sure you'll pass the test.  Just jump in the pit and find a way out.  Kill anything you want down there.  Show no mercy.  When you escape, crawl out of the pit and come see me again.  If you complete this, I will give you membership in the Guild of Dark. *If* you complete this..."
  6:  Set  {"QBits", Value = 128}         -- "Complete the Breeding Zone and return to Archibald in the Pit."
  7:  Subtract  {"QBits", Value = 151}         -- "Enter the Pit from the Hall of the Pit in the Deyja Moors, then talk to Archibald in Castle Gloaming in the Pit."
  8:  SetNPCTopic  {NPC = 88, Index = 0, Event = 168}         -- "Archibald Ironfist" : "Breeding Pit"
end

event 168  -- "Breeding Pit"
  0:  Cmp  {"QBits", Value = 129,   jump = 3}         -- Completed Breeding Pit.
  1:  SetMessage  {Str = 345}         -- "I am beginning to suspect my allies were right about you.  Can't you pass this simple test?  Are you too afraid, or too feeble to succeed?  Perhaps we need new allies?"
  2:  Exit  {}

  3:  SetMessage  {Str = 344}         -- "You show promise, my friends.  A fine performance.  I think it will be sufficient proof of your skill for my advisors.  They are quite eager to assign tasks to you now; they can be found in the four houses in the western side of the Pit.  And don't worry.  Rewards will follow, of course."
  4:  Add  {"History17", Value = 0}
  5:  ForPlayer  ("All")
  6:  Add  {"Experience", Value = 50000}
  7:  Add  {"Awards", Value = 84}         -- "Completed Necromancer Breeding Pit"
  8:  Subtract  {"QBits", Value = 128}         -- "Complete the Breeding Zone and return to Archibald in the Pit."
  9:  Add  {"QBits", Value = 110}         -- Finished Necro Proving Grounds
  10: SetNPCTopic  {NPC = 88, Index = 0, Event = 0}         -- "Archibald Ironfist"
  11: SetNPCGreeting  {NPC = 88, Greeting = 137}         -- "Archibald Ironfist" : "Welcome back, allies.  My advisors are eager to speak with you."
  12: MoveNPC  {NPC = 84, HouseId = 442}         -- "Kastore" -> "Hostel"
  13: MoveNPC  {NPC = 85, HouseId = 434}         -- "Maximus" -> "Hostel"
  14: MoveNPC  {NPC = 86, HouseId = 441}         -- "Dark Shade" -> "Hostel"
  15: MoveNPC  {NPC = 85, HouseId = 434}         -- "Maximus" -> "Hostel"
  16: SetNPCGreeting  {NPC = 84, Greeting = 123}         -- "Kastore" : "[Kastore smiles] Welcome back, allies.  I trust you are well?"
  17: SetNPCGreeting  {NPC = 85, Greeting = 126}         -- "Maximus" : "Glad to have you back, allies."
  18: SetNPCGreeting  {NPC = 86, Greeting = 129}         -- "Dark Shade" : "Welcome, allies.  Always good to have you back."
  19: SetNPCGreeting  {NPC = 87, Greeting = 132}         -- "Tolberti" : "Glad you're still on our side!  Come and see me when you're done with my associates' missions."
  20: Add  {"Awards", Value = 60}         -- "Joined the Dark Guild"
end

event 169  -- "Final Task"
  0:  SetMessage  {Str = 346}         --[[ "The time has come to achieve our Goal.  The reason we have sent you on all these missions is simple:  we have been busy gathering the parts needed to open a gate to the Ancients--the ones who colonized this world ages ago.  Unfortunately, our former compatriots also seek those parts for their own dark dreams.  They wish to rebuild the Heavenly Forge from the times before the Silence, and use it to duplicate the weapons we brought with us to your world.  We have been competing with them for these parts, but at last we have what we need.  

Except for one thing.  We have been unable to find the Oscillation Overthruster on your world.  All would be lost, but there is one such device aboard the Lincoln--the vehicle that brought us to your world.  It is in the sea west of Avlee and secured against entry, even from ourselves.  Now you must wear our environment suits, enter the ship, and return with the Overthruster; you will find these suits in the chest outside this throne room.  For the suit to function properly you must not be wearing any equipment.  As for us, we must stand watch at the gate, and battle our former comrades.  " ]]
  1:  Add  {"History26", Value = 0}
  2:  Set  {"QBits", Value = 130}         -- "Go to the Lincoln in the sea west of Avlee and retrieve the Oscillation Overthruster and return it to Resurectra in Celeste."
  3:  SetNPCTopic  {NPC = 80, Index = 1, Event = 170}         -- "Resurectra" : "Final Task"
end

event 170  -- "Final Task"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 605,   jump = 4}         -- "Oscillation Overthruster"
  2:  SetMessage  {Str = 348}         -- "Don't forget you'll need the wetsuits to get to the Lincoln.  These suits are in the chest outside this throne room and the Lincoln is in the sea west of Avlee.  Return here with the Overthruster as soon as possible."
  3:  Exit  {}

  4:  Subtract  {"Inventory", Value = 605}         -- "Oscillation Overthruster"
  5:  Subtract  {"QBits", Value = 235}         -- Wetsuit - I lost it
  6:  Set  {"QBits", Value = 374}         -- End Game
  7:  SetNPCTopic  {NPC = 80, Index = 1, Event = 0}         -- "Resurectra"
  8:  ShowMovie  {DoubleSize = 1, ExitCurrentScreen = true, Name = "\"Endgame 1 Good\" "}
  9:  SetNPCGroupNews  {NPCGroup = 10, NPCNews = 33}         -- "Southern Village Group in Harmondy" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  10: SetNPCGroupNews  {NPCGroup = 11, NPCNews = 33}         -- "Main village in Harmondy" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  11: SetNPCGroupNews  {NPCGroup = 12, NPCNews = 33}         -- "Tent camp in Erathia" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  12: SetNPCGroupNews  {NPCGroup = 13, NPCNews = 33}         -- "Stedwick Group" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  13: SetNPCGroupNews  {NPCGroup = 14, NPCNews = 33}         -- "Stilt city dwellers in the Tularean Forest" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  14: SetNPCGroupNews  {NPCGroup = 15, NPCNews = 33}         -- "Group walkers in the Tularean forest" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  15: SetNPCGroupNews  {NPCGroup = 16, NPCNews = 33}         -- "Northern town on Deyja" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  16: SetNPCGroupNews  {NPCGroup = 17, NPCNews = 33}         -- "Southern town in Deyja" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  17: SetNPCGroupNews  {NPCGroup = 18, NPCNews = 35}         -- "Stable and Tele dwellers in Bracada" : "Congratulations on completing the gate!  Erathia is in your debt!"
  18: SetNPCGroupNews  {NPCGroup = 19, NPCNews = 35}         -- "Eastern village and boat dwellers in Bracada" : "Congratulations on completing the gate!  Erathia is in your debt!"
  19: SetNPCGroupNews  {NPCGroup = 20, NPCNews = 35}         -- "Ridge walkers in Bracada" : "Congratulations on completing the gate!  Erathia is in your debt!"
  20: SetNPCGroupNews  {NPCGroup = 21, NPCNews = 35}         -- "Peasents up till town fountain in Celeste" : "Congratulations on completing the gate!  Erathia is in your debt!"
  21: SetNPCGroupNews  {NPCGroup = 22, NPCNews = 35}         -- "Peasents after town fountain in Celeste" : "Congratulations on completing the gate!  Erathia is in your debt!"
  22: SetNPCGroupNews  {NPCGroup = 23, NPCNews = 33}         -- "Peasents in first area of the pit" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  23: SetNPCGroupNews  {NPCGroup = 24, NPCNews = 33}         -- "Peasents in the second area of the pit" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  24: SetNPCGroupNews  {NPCGroup = 25, NPCNews = 33}         -- "Peasents in the third area of the pit" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  25: SetNPCGroupNews  {NPCGroup = 26, NPCNews = 33}         -- "Peasents in main town of nighon" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  26: SetNPCGroupNews  {NPCGroup = 27, NPCNews = 33}         -- "Peasents in western town of Nighon" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  27: SetNPCGroupNews  {NPCGroup = 28, NPCNews = 33}         -- "Peasents in Eastern village of Nighon" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  28: SetNPCGroupNews  {NPCGroup = 29, NPCNews = 33}         -- "Peasents in the Mercenary guild village" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  29: SetNPCGroupNews  {NPCGroup = 30, NPCNews = 33}         -- "Peasents in the wharf town" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  30: SetNPCGroupNews  {NPCGroup = 31, NPCNews = 33}         -- "Peasents in the village area" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  31: SetNPCGroupNews  {NPCGroup = 32, NPCNews = 33}         -- "Peasents in the Dock area" : "I heard there was a gate built to the Ancients!  I wonder what they look like."
  32: Set  {"Awards", Value = 108}         -- not found!
  33: EnterHouse  {Id = 600}         -- Win Good
end

event 171  -- "Final Task"
  0:  SetMessage  {Str = 349}         --[[ "Our finest hour is upon us.  While you have been taking care of all those important tasks, my compatriots and I have been struggling with our former friends for the parts we need to rebuild the Heavenly Forge of legend.  By former friends, I mean the four chief advisors to King Magnus of the Wizards.  They have a plan to build a gate to the Ancients.  They could have stood with us, but threw it all away on some vague hope of a 'better future'.  But you!  You have stood with us all this time.

Only one task remains--we need the Oscillation Overthruster from our old vehicle, the Lincoln.  We have been unable to find one on your world.  The ship is in the sea west of Avlee and secured against entry, even from ourselves.  Now you must wear our environment suits, enter the ship, and return with the Overthruster.  Our old environments suits have been prepared for you in the chest outside this throne room.  For the suit to function properly you must not be wearing any equipment.We will stand watch over the Forge, and defend it against our enemies.  Bring us the Overthruster, my friends, and together, we shall rule the world!" ]]
  1:  Add  {"History27", Value = 0}
  2:  Set  {"QBits", Value = 131}         -- "Go to the Lincoln in the sea west of Avlee and retrieve the Oscillation Overthruster and return it to Kastore in the Pit."
  3:  SetNPCTopic  {NPC = 84, Index = 1, Event = 172}         -- "Kastore" : "Final Task"
end

event 172  -- "Final Task"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 605,   jump = 4}         -- "Oscillation Overthruster"
  2:  SetMessage  {Str = 351}         -- "Don't forget you'll need the environmental suits to get to the Lincoln.  These suits are in the chest outside the throne room, and the Lincoln is in the sea west of Avlee.  What else do you need to know?"
  3:  Exit  {}

  4:  Subtract  {"Inventory", Value = 605}         -- "Oscillation Overthruster"
  5:  Subtract  {"QBits", Value = 235}         -- Wetsuit - I lost it
  6:  Subtract  {"QBits", Value = 236}         -- Final Part - I lost it
  7:  SetNPCTopic  {NPC = 84, Index = 1, Event = 0}         -- "Kastore"
  8:  ShowMovie  {DoubleSize = 1, ExitCurrentScreen = true, Name = "\"Endgame 2 Evil\" "}
  9:  SetNPCGroupNews  {NPCGroup = 10, NPCNews = 34}         -- "Southern Village Group in Harmondy" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  10: SetNPCGroupNews  {NPCGroup = 11, NPCNews = 34}         -- "Main village in Harmondy" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  11: SetNPCGroupNews  {NPCGroup = 12, NPCNews = 34}         -- "Tent camp in Erathia" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  12: SetNPCGroupNews  {NPCGroup = 13, NPCNews = 34}         -- "Stedwick Group" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  13: SetNPCGroupNews  {NPCGroup = 14, NPCNews = 34}         -- "Stilt city dwellers in the Tularean Forest" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  14: SetNPCGroupNews  {NPCGroup = 15, NPCNews = 34}         -- "Group walkers in the Tularean forest" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  15: SetNPCGroupNews  {NPCGroup = 16, NPCNews = 36}         -- "Northern town on Deyja" : "Congratulations on completing the forge!  Victory will surely be ours!"
  16: SetNPCGroupNews  {NPCGroup = 17, NPCNews = 36}         -- "Southern town in Deyja" : "Congratulations on completing the forge!  Victory will surely be ours!"
  17: SetNPCGroupNews  {NPCGroup = 18, NPCNews = 34}         -- "Stable and Tele dwellers in Bracada" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  18: SetNPCGroupNews  {NPCGroup = 19, NPCNews = 34}         -- "Eastern village and boat dwellers in Bracada" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  19: SetNPCGroupNews  {NPCGroup = 20, NPCNews = 34}         -- "Ridge walkers in Bracada" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  20: SetNPCGroupNews  {NPCGroup = 21, NPCNews = 34}         -- "Peasents up till town fountain in Celeste" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  21: SetNPCGroupNews  {NPCGroup = 22, NPCNews = 34}         -- "Peasents after town fountain in Celeste" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  22: SetNPCGroupNews  {NPCGroup = 23, NPCNews = 36}         -- "Peasents in first area of the pit" : "Congratulations on completing the forge!  Victory will surely be ours!"
  23: SetNPCGroupNews  {NPCGroup = 24, NPCNews = 36}         -- "Peasents in the second area of the pit" : "Congratulations on completing the forge!  Victory will surely be ours!"
  24: SetNPCGroupNews  {NPCGroup = 25, NPCNews = 36}         -- "Peasents in the third area of the pit" : "Congratulations on completing the forge!  Victory will surely be ours!"
  25: SetNPCGroupNews  {NPCGroup = 26, NPCNews = 34}         -- "Peasents in main town of nighon" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  26: SetNPCGroupNews  {NPCGroup = 27, NPCNews = 34}         -- "Peasents in western town of Nighon" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  27: SetNPCGroupNews  {NPCGroup = 28, NPCNews = 34}         -- "Peasents in Eastern village of Nighon" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  28: SetNPCGroupNews  {NPCGroup = 29, NPCNews = 34}         -- "Peasents in the Mercenary guild village" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  29: SetNPCGroupNews  {NPCGroup = 30, NPCNews = 34}         -- "Peasents in the wharf town" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  30: SetNPCGroupNews  {NPCGroup = 31, NPCNews = 34}         -- "Peasents in the village area" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  31: SetNPCGroupNews  {NPCGroup = 32, NPCNews = 34}         -- "Peasents in the Dock area" : "I've heard rumors of goblins and undead armed with ancient weapons threatening to conquer Erathia!  How dreadful!"
  32: EnterHouse  {Id = 601}         -- Win Evil
end

event 173  -- "Enter Temple of Light"
  0:  MoveToMap  {X = -6784, Y = -2832, Z = 1649, Direction = 512, LookAngle = 0, SpeedZ = 0, HouseId = 0, Icon = 0, Name = "T01.blv"}
end

event 174  -- "Enter Temple of Dark"
  0:  MoveToMap  {X = 0, Y = -4059, Z = 513, Direction = 512, LookAngle = 0, SpeedZ = 0, HouseId = 0, Icon = 0, Name = "T02.blv"}
end

event 175  -- "Thomas Grey"
  0:  SetMessage  {Str = 480}         -- "Thomas Grey runs the School of Sorcery.  If you're looking for promotion to Wizard or Honorary Wizard, he's your man.  His room is right through the door behind me."
end

event 176  -- "Book Shop"
  0:  CanShowTopic.Cmp  {"QBits", Value = 145,   jump = 3}         -- Membership to the School of Sorcery Scroll Shop
  1:  CanShowTopic.Set  {Visible = true}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = false}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 481}         -- "Would you like a membership to the School of Sorcery Scroll Shop?  A membership allows you free access to the scrolls available in our library.  It costs 5000 gold for a six month membership, but the shop stocks once per week."
  6:  SetNPCTopic  {NPC = 281, Index = 1, Event = 177}         -- "Eric Swarrel" : "Book Shop"
end

event 177  -- "Book Shop"
  0:  Cmp  {"Gold", Value = 5000,   jump = 3}
  1:  SetMessage  {Str = 483}         -- "You don't have enough gold-- it's no use trying to fool a Wizard."
  2:  Exit  {}

  3:  SetMessage  {Str = 482}         -- "Here's the membership, remember it only lasts for six months.  Check the shelves in the front rooms here to see what is available."
  4:  Set  {"QBits", Value = 145}         -- Membership to the School of Sorcery Scroll Shop
  5:  Subtract  {"Gold", Value = 5000}
  6:  SetNPCTopic  {NPC = 281, Index = 1, Event = 0}         -- "Eric Swarrel"
end

event 178  -- "Zokarr's Bones"
  0:  CanShowTopic.Cmp  {"QBits", Value = 54,   jump = 3}         -- "Retrieve the bones of the Dwarf King from the tunnels between Stone City and Nighon and place them in their proper resting place in the Barrow Downs, then return to Anthony Green in the Tularean Forest."
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 484}         -- "You want to bury the bones of Zokarr IV in our old barrows?  No dwarf here will brave the dangers, but Zokarr deserves to be laid to rest in the right place.  Look for the secret barrow, the one with only one entrance.  In there is a coffin waiting for Zokarr's bones."
  6:  Add  {"Inventory", Value = 626}         -- "Zokarr IV's Skull"
  7:  Add  {"QBits", Value = 228}         -- Dwarf Bones - I lost it
  8:  SetNPCTopic  {NPC = 59, Index = 1, Event = 0}         -- "Hothfarr IX"
end

event 179  -- "Quest"
  0:  SetMessage  {Str = 485}         -- "We have no one to turn to but you, the new Lords of Harmondale. The Lantern of Light is a treasured holy relic, used by the temples of Erathia.  Its value is more symbolic than of power-- without it the temples servants lose faith.  This Lantern disappeared while being brought to this temple from the temple in Stone City.  We believe it was lost somewhere in the maze-like Barrows.  Please find it and return it to us."
  1:  SetNPCTopic  {NPC = 93, Index = 0, Event = 180}         -- "Tarin Withern" : "Quest"
  2:  Set  {"QBits", Value = 155}         -- "Retrieve the Lantern of Light from the Barrow Downs and return it to Tarin Withern in Harmondale."
end

event 180  -- "Quest"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 648,   jump = 4}         -- "Lantern of Light"
  2:  SetMessage  {Str = 486}         -- "Have you found the Lantern of Light?  We're certain it was lost in the maze of Barrows in the Barrow Downs."
  3:  Exit  {}

  4:  SetMessage  {Str = 487}         -- "Thank you, Lords of Harmondale.  The Lantern's return will bolster our faith and allows us to continue our services.  Please take this small reward as a token of our gratitude."
  5:  Subtract  {"Inventory", Value = 648}         -- "Lantern of Light"
  6:  Add  {"Awards", Value = 92}         -- "Returned Withern's Lantern"
  7:  Add  {"Experience", Value = 5000}
  8:  ForPlayer  ("Current")
  9:  Add  {"Gold", Value = 1000}
  10: Subtract  {"QBits", Value = 155}         -- "Retrieve the Lantern of Light from the Barrow Downs and return it to Tarin Withern in Harmondale."
  11: SetNPCTopic  {NPC = 93, Index = 0, Event = 0}         -- "Tarin Withern"
  12: SetNPCGreeting  {NPC = 93, Greeting = 152}         -- "Tarin Withern" : "Thanks for returning the Lantern of Light.  Ceremonies can continue normally at the temple!"
  13: Subtract  {"Reputation", Value = 5}
end

event 181  -- "Quest"
  0:  SetMessage  {Str = 488}         -- "My, brother, Haldar passed away last month.  The family was sending his remains to me to be put to final rest.  Something happened to those delivering these remains to me; they disappeared in Nighon and not been heard from since. I fear my brothers soul will never rest unless they are found!  Please return Haldar to me if you find him? I will reward you well for this!"
  1:  SetNPCTopic  {NPC = 94, Index = 0, Event = 182}         -- "Mazim Dusk" : "Quest"
  2:  Set  {"QBits", Value = 156}         -- "Retrieve Haldar's Remains from the Maze in Nighon and return them to Mazim Dusk in Nighon."
end

event 182  -- "Quest"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 628,   jump = 4}         -- "Haldar's Remains"
  2:  SetMessage  {Str = 489}         -- "Did you find Haldar's Remains?  His soul must be in sheer agony!  Please find the jar with his remains!"
  3:  Exit  {}

  4:  SetMessage  {Str = 490}         -- "Thank you for returning my ""brother's"" remains!  He was a promising Warlock and his life was ended to soon.  Now that I have his remains, I will attempt to bring him back as a Lich, and together we will seek greater power and glory!"
  5:  Subtract  {"Inventory", Value = 628}         -- "Haldar's Remains"
  6:  Add  {"Awards", Value = 93}         -- "Returned Haldar's Remains"
  7:  Add  {"Experience", Value = 50000}
  8:  ForPlayer  ("Current")
  9:  Add  {"Gold", Value = 35000}
  10: Subtract  {"QBits", Value = 156}         -- "Retrieve Haldar's Remains from the Maze in Nighon and return them to Mazim Dusk in Nighon."
  11: SetNPCTopic  {NPC = 94, Index = 0, Event = 0}         -- "Mazim Dusk"
  12: SetNPCGreeting  {NPC = 94, Greeting = 154}         -- "Mazim Dusk" : "My thanks for returning Haldar's remains!"
  13: Subtract  {"Reputation", Value = 5}
end

event 183  -- "Quest"
  0:  SetMessage  {Str = 491}         -- "My lords, I was beset by foul bandits when I returned from Avlee and they took everything I had brought with me from the Elves.  They even took my signet ring!  Without it I cannot continue my business because I cannot seal contracts between myself and other merchants.  I've heard the bandits base themselves out of a camp in Erathia, but I'm no warrior-- I'd not last a minute against them.  Please go to Erathia and see this justice done!"
  1:  SetNPCTopic  {NPC = 95, Index = 0, Event = 184}         -- "Davrik Peladium" : "Quest"
  2:  Set  {"QBits", Value = 157}         -- "Retrieve Davrik's Signet ring from the Bandit Caves in the northeast of Erathia and return it to Davrik Peladium in Erathia."
end

event 184  -- "Quest"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 606,   jump = 4}         -- "Signet Ring"
  2:  SetMessage  {Str = 492}         -- "You don't have my ring yet?  The bandits are south of Castle Gryphonheart in Erathia.  Please help me, I don't have anyone else to turn to."
  3:  Exit  {}

  4:  SetMessage  {Str = 493}         --[[ "My ring!  Thank you lords.  I can now continue my business and recover my losses, and you have made the trading routes safer for all the merchants! 

Take this key as your reward." ]]
  5:  Subtract  {"Inventory", Value = 606}         -- "Signet Ring"
  6:  Add  {"Awards", Value = 94}         -- "Returned Lord Davrik's signet Ring"
  7:  Add  {"Experience", Value = 5000}
  8:  ForPlayer  ("Current")
  9:  Add  {"Inventory", Value = 670}         -- "Home Key"
  10: Add  {"Gold", Value = 5000}
  11: Subtract  {"QBits", Value = 157}         -- "Retrieve Davrik's Signet ring from the Bandit Caves in the northeast of Erathia and return it to Davrik Peladium in Erathia."
  12: SetNPCTopic  {NPC = 95, Index = 0, Event = 0}         -- "Davrik Peladium"
  13: MoveNPC  {NPC = 95, HouseId = 0}         -- "Davrik Peladium"
  14: Subtract  {"Reputation", Value = 5}
end

event 185  -- "Quest"
  0:  SetMessage  {Str = 494}         -- "So you are the Lords of Harmondale, eh?  You don’t look like much; we shall see how history judges you!  I myself am a historian and collector of rare historical items.  Lord Markham also collects such items of interest and there is one item in particular that would complete my collection, Parson's Quill-- the Quill used to sign the Treaty of Pierpont ending the first Timber War.  I know you have dealt with Lord Markham before, it's how you became Lords of this land after all, and if you would take this letter to Lord Markham in Tatalia, I'm sure he would respond favorably.  I would be even more in your debt if Lord Markham sends this item back with you!  I would be sure to favorably record your heroic acts and deeds!"
  1:  SetNPCTopic  {NPC = 96, Index = 0, Event = 186}         -- "Norbert Thrush" : "Thrush's Letter"
  2:  Set  {"QBits", Value = 158}         -- "Take Sealed Letter to Lord Markham in Lord Markham's Manor in Tatalia for collector Norbert Thrush."
  3:  Add  {"Inventory", Value = 614}         -- "Letter from Norbert Thrush to Lord Markham"
end

event 186  -- "Thrush's Letter"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 603,   jump = 4}         -- "Parson's Quill"
  2:  SetMessage  {Str = 495}         -- "Did Lord Markham refuse to give you the Quill, or have you not even visited him yet?  His Manor is in Tatalia, please don't forget to help me."
  3:  Exit  {}

  4:  SetMessage  {Str = 496}         -- "The actual Peacock feather that was used to sign the Treaty of Pierpont.  My collection is complete!  I will be sure to record your activities and deeds correctly and justly so that all will know you as the true Lords of Harmondale!"
  5:  Subtract  {"Inventory", Value = 603}         -- "Parson's Quill"
  6:  Add  {"Awards", Value = 95}         -- "Returned Parson's Quill to Norbert Thrush"
  7:  Add  {"Experience", Value = 5000}
  8:  ForPlayer  ("Current")
  9:  Add  {"Gold", Value = 2000}
  10: Subtract  {"QBits", Value = 159}         -- "Return Parson's Quill to Norbert Thrush in Erathia."
  11: SetNPCTopic  {NPC = 96, Index = 0, Event = 0}         -- "Norbert Thrush"
  12: SetNPCGreeting  {NPC = 96, Greeting = 158}         -- "Norbert Thrush" : "Thank you for returning the Parson's Quill sent by Lord Markham.  You help has made my collection complete!"
  13: Subtract  {"Reputation", Value = 5}
end

event 187  -- "Quest"
  0:  ForPlayer  ("All")

  1:  CanShowTopic.Cmp  {"Inventory", Value = 614,   jump = 4}         -- "Letter from Norbert Thrush to Lord Markham"
  2:  CanShowTopic.Set  {Visible = false}
  3:  CanShowTopic.Exit  {}
  4:  CanShowTopic.Set  {Visible = true}
  5:  CanShowTopic.Exit  {}

  6:  SetMessage  {Str = 497}         -- "A letter from Norbert Thrush the Historian? Let me see it.  [Lord Markham scans the letter briefly] Hmmmmm…he wants the Peacock feather that was used to sign the Treaty of Pierpont, does he.  Well, seeing as though he has a supposed original of the Treaty, I guess the feather should go to him.  He has promised me anything else in his collection.  Take this to him and tell him that I will come collect from him shortly!"
  7:  Subtract  {"Inventory", Value = 614}         -- "Letter from Norbert Thrush to Lord Markham"
  8:  ForPlayer  ("Current")
  9:  Add  {"Inventory", Value = 603}         -- "Parson's Quill"
  10: Subtract  {"QBits", Value = 158}         -- "Take Sealed Letter to Lord Markham in Lord Markham's Manor in Tatalia for collector Norbert Thrush."
  11: Set  {"QBits", Value = 159}         -- "Return Parson's Quill to Norbert Thrush in Erathia."
  12: SetNPCTopic  {NPC = 1, Index = 4, Event = 0}         -- "Lord Markham"
end

event 188  -- "Quest"
  0:  SetMessage  {Str = 498}         -- "I hear you folk are the new Lords of Harmondale, eh?  Perhaps you could do me a large favor, and help yourselves in the process.  To the north, in Avlee, lies the Hall under the Hill, the domain of the Faerie King.  He owes me a debt from a previous service of mine, and I would like to collect it.  Unfortunately, the faeries in the Hall and the tricks they play frighten me to death.  If you would deliver this letter to the Faerie King, and return what he gives you to me, I'd be very grateful.  You would also have the chance to meet the Faerie King for yourselves."
  1:  Add  {"QBits", Value = 179}         -- "Take the sealed letter to the Faerie King in the Hall under the Hill in Avlee."
  2:  Add  {"Inventory", Value = 607}         -- "Letter from Johann Kerrid to the Faerie King"
  3:  SetNPCTopic  {NPC = 97, Index = 0, Event = 190}         -- "Johann Kerrid" : "Quest"
end

event 189  -- "Pipes"
  0:  ForPlayer  ("All")

  1:  CanShowTopic.Cmp  {"Inventory", Value = 607,   jump = 4}         -- "Letter from Johann Kerrid to the Faerie King"
  2:  CanShowTopic.Set  {Visible = false}
  3:  CanShowTopic.Exit  {}
  4:  CanShowTopic.Set  {Visible = true}
  5:  CanShowTopic.Exit  {}

  6:  SetMessage  {Str = 65}         -- "So, Johann be wanting the Faerie Pipes, eh?  I can't say I'm surprised--he wouldn't come here himself, the coward.  The Pipes will cost you, though… all your food.  Of course, I've got some delightful food down below, should thee be wanting to restock your packs."
  7:  Subtract  {"Inventory", Value = 607}         -- "Letter from Johann Kerrid to the Faerie King"
  8:  Add  {"Experience", Value = 2000}
  9:  ForPlayer  ("Current")
  10: Add  {"Inventory", Value = 633}         -- "Faerie Pipes"
  11: SetNPCTopic  {NPC = 52, Index = 1, Event = 0}         -- "Faerie King"
  12: Subtract  {"QBits", Value = 179}         -- "Take the sealed letter to the Faerie King in the Hall under the Hill in Avlee."
  13: Add  {"QBits", Value = 180}         -- "Take the Faerie Pipes to Johann Kerrid in the Tularean Forest."
  14: Set  {"Food", Value = 0}
end

event 190  -- "Quest"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 633,   jump = 4}         -- "Faerie Pipes"
  2:  SetMessage  {Str = 500}         -- "Don't forget to give the letter to the Faerie King.  Without it, he probably won't even want to talk to you."
  3:  Exit  {}

  4:  SetMessage  {Str = 499}         -- "Excellent!  The Pipes!  You don't know what this means to me.  Here, take this as a reward and thank you again for your help in this!"
  5:  Subtract  {"Inventory", Value = 633}         -- "Faerie Pipes"
  6:  Add  {"Experience", Value = 5000}
  7:  ForPlayer  ("Current")
  8:  Add  {"Awards", Value = 96}         -- "Returned Faerie Pipes to Johann Kerrid"
  9:  Add  {"Gold", Value = 1000}
  10: Subtract  {"QBits", Value = 180}         -- "Take the Faerie Pipes to Johann Kerrid in the Tularean Forest."
  11: SetNPCTopic  {NPC = 97, Index = 0, Event = 0}         -- "Johann Kerrid"
  12: SetNPCGreeting  {NPC = 97, Greeting = 160}         -- "Johann Kerrid" : "Thank you so much for returning the Faerie Pipes to me!  I would have never been able to brave the Hall under the Hill myself."
  13: Subtract  {"Reputation", Value = 5}
end

event 191  -- "Quest"
  0:  CanShowTopic.Cmp  {"QBits", Value = 183,   jump = 2}         -- Failed either goto or do guild quest
  1:  CanShowTopic.Cmp  {"QBits", Value = 99,   jump = 4}         -- Chose the path of Light
  2:  CanShowTopic.Set  {Visible = false}
  3:  CanShowTopic.Exit  {}
  4:  CanShowTopic.Set  {Visible = true}
  5:  CanShowTopic.Exit  {}

  6:  SetMessage  {Str = 501}         -- "We request your services for only one small task.  In Castle Lambent rests a valuable tapestry taken from an attack on Watchtower 3 years ago.  I would like you to get the tapestry for me, as you must have *some* access to the Castle-- my normal associates can't even come near the place.  I hear a large band of goblins and renegade swordsmen are about... it would be a shame if they happened to find a way to Harmondale.  You have one month to get the tapestry.  Don't be late."
  7:  Set  {"QBits", Value = 182}         -- "Steal the Tapestry from your associate's Castle and return it to Niles Stantley in the Mercenary Guild in Tatalia."
  8:  Set  {"Counter5", Value = 0}
  9:  SetNPCTopic  {NPC = 99, Index = 0, Event = 193}         -- "Niles Stantley" : "Quest"
end

event 192  -- "Quest"
  0:  CanShowTopic.Cmp  {"QBits", Value = 183,   jump = 2}         -- Failed either goto or do guild quest
  1:  CanShowTopic.Cmp  {"QBits", Value = 100,   jump = 4}         -- Chose the path of Dark
  2:  CanShowTopic.Set  {Visible = false}
  3:  CanShowTopic.Exit  {}
  4:  CanShowTopic.Set  {Visible = true}
  5:  CanShowTopic.Exit  {}

  6:  SetMessage  {Str = 502}         -- "We request your services for one task.  A rare and valuable tapestry rests in Castle Gloaming, an antique from near the Silence stolen from the wizards some time ago.  I would like you to get the tapestry for me, as my normal associates don't have access to Castle Gloaming.  In return, I'll make sure that the large band of renegade swordsmen and goblins near Harmondale don't accidentally stumble upon your quiet, little village.  You have one month; don't be late."
  7:  Set  {"QBits", Value = 182}         -- "Steal the Tapestry from your associate's Castle and return it to Niles Stantley in the Mercenary Guild in Tatalia."
  8:  Set  {"Counter5", Value = 0}
  9:  SetNPCTopic  {NPC = 99, Index = 1, Event = 193}         -- "Niles Stantley" : "Quest"
end

event 193  -- "Quest"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Counter5", Value = 672,   jump = 5}
  2:  Cmp  {"Inventory", Value = 620,   jump = 8}         -- "Big Tapestry"
  3:  SetMessage  {Str = 73}         -- "You don't have the tapestry yet, and the clock is ticking.  It would be prudent to keep to the task at hand rather than bothering me with your babble."
  4:  Exit  {}

  5:  SetMessage  {Str = 504}         -- "I see.  Well, it would appear that the band of renegades has indeed discovered your little town, and has begun looting.  You may find your bank account a little, well, pinched.  Consider this a lesson in punctuality.  Go now and have a pleasant, pleasant day."
  6:  Add  {"QBits", Value = 183}         -- Failed either goto or do guild quest
  7:  Exit  {}

  8:  SetMessage  {Str = 503}         -- "Excellent!  I see that you can be trusted to perform well when called upon.  I'll keep that in mind the next time I need a job done.  Your reward is nothing more than status quo-- things could be much worse than they already are.  Go now, I have no more time for you."
  9:  Subtract  {"Inventory", Value = 620}         -- "Big Tapestry"
  10: Add  {"Reputation", Value = 5}
  11: Add  {"QBits", Value = 190}         -- Finished with Malwick & Assc.
  12: Subtract  {"QBits", Value = 182}         -- "Steal the Tapestry from your associate's Castle and return it to Niles Stantley in the Mercenary Guild in Tatalia."
  13: SetNPCTopic  {NPC = 99, Index = 0, Event = 0}         -- "Niles Stantley"
  14: SetNPCTopic  {NPC = 99, Index = 1, Event = 0}         -- "Niles Stantley"
  15: SetNPCTopic  {NPC = 99, Index = 2, Event = 0}         -- "Niles Stantley"
end

event 194  -- "Quest"
  0:  SetMessage  {Str = 505}         -- "A few years back, while mining underneath Stone City, we came upon quite a shock.  It seems that the Warlocks from Nighon had burrowed under the sea to make a sneak attack upon the shores of Erathia.  Their careless tunneling has sunken the earth around here until now the areas around the old dwarven barrows and, of course, Stone City, rest far above the terrain.  We discovered a force of troglodytes in our mining areas, with a tunnel leading back to Nighon.  If you could help us by ridding the tunnels of the troglodytes, we could get back to mining.  Can you help us?"
  1:  Set  {"QBits", Value = 186}         -- "Kill all the Troglodytes underneath Stone City and return to Spark Burnkindle in Stone City."
  2:  SetNPCTopic  {NPC = 100, Index = 0, Event = 195}         -- "Spark Burnkindle" : "Quest"
end

event 195  -- "Quest"
  0:  CheckMonstersKilled  {CheckType = 2, Id = 213, Count = 0,   jump(>=) = 3}
  1:  SetMessage  {Str = 506}         -- "There are still troglodytes roaming the lower mine levels.  Please remove them!"
  2:  Exit  {}

  3:  CheckMonstersKilled  {CheckType = 2, Id = 214, Count = 0,   jump(>=) = 6}
  4:  SetMessage  {Str = 506}         -- "There are still troglodytes roaming the lower mine levels.  Please remove them!"
  5:  Exit  {}

  6:  CheckMonstersKilled  {CheckType = 2, Id = 215, Count = 0,   jump(>=) = 9}
  7:  SetMessage  {Str = 506}         -- "There are still troglodytes roaming the lower mine levels.  Please remove them!"
  8:  Exit  {}

  9:  SetMessage  {Str = 507}         -- "They're gone?  Routed back into the connecting tunnels to Nighon!  Excellent!  We can get back to mining immediately!  Thank you so much for your help; take this as a reward for your services."
  10: Add  {"Gold", Value = 2500}
  11: ForPlayer  ("All")
  12: Add  {"Experience", Value = 5000}
  13: Subtract  {"QBits", Value = 186}         -- "Kill all the Troglodytes underneath Stone City and return to Spark Burnkindle in Stone City."
  14: Set  {"Awards", Value = 97}         -- "Troglodyte Slayer"
  15: SetNPCTopic  {NPC = 100, Index = 0, Event = 0}         -- "Spark Burnkindle"
  16: Subtract  {"Reputation", Value = 10}
  17: SetNPCGreeting  {NPC = 100, Greeting = 164}         -- "Spark Burnkindle" : "Thank you for helping us by getting rid of those nasty Troglodytes!"
end

event 196  -- "The Kennel"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 782,   jump = 5}         -- "Journal of Experiments"
  2:  SetMessage  {Str = 91}         --[[ " During our recent disputes with the Elves, we began conducting experiments to produce the ultimate combat instrument, a creature with no fear and great predatory abilities.  These experiments were conducted in an abandoned tomb appropriately renamed ‘the Kennel’, located along the southeastern shore of the Erathian River.

Well, our experiments were far too successful and the creatures turned on their handlers and devoured them. I have sent small contingents of my personal retinue to dispense of these creatures, but none has returned.  I assume them all dead.

I need you to proceed to the Kennel, eliminate all creatures, obtain the Journal of Experiments, and return to me.  The reward will be commensurate with your efforts.

Oh! before I forget.  The entrance to the Kennel is secured by a cipher lock.  The combination is Top, Right, Bottom, Left, Center.  Good luck!" ]]
  3:  Set  {"QBits", Value = 29}         -- "Kill the creatures in the Kennel and return to Queen Catherine with the Journal of Experiments.."
  4:  Exit  {}

  5:  SetMessage  {Str = 92}         -- "The Journal!!!  I knew you were up to the task.  You have done the crown a great service.  I hereby grant you the title of ‘The Queen’s Champions’."
  6:  Subtract  {"QBits", Value = 29}         -- "Kill the creatures in the Kennel and return to Queen Catherine with the Journal of Experiments.."
  7:  Add  {"Experience", Value = 50000}
  8:  Set  {"Awards", Value = 9}         -- "Declared the Queen’s Champions"
  9:  SetNPCTopic  {NPC = 69, Index = 0, Event = 0}         -- "Queen Catherine"
  10: SetNPCGreeting  {NPC = 69, Greeting = 20}         -- "Queen Catherine" : "The door to the west leads to the local Tavern.  The tavern is a safe place to sleep at night, and to buy food so you can sleep outdoors.  You can often meet interesting people in taverns, or catch the local gossip if you're looking for something to do.  To enter the tavern, just click on the front door."
  11: Subtract  {"Inventory", Value = 782}         -- "Journal of Experiments"
  12: Exit  {}
end

event 197  -- "Control Cube"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 675,   jump = 7}         -- "Control Cube"
  2:  Cmp  {"QBits", Value = 362,   jump = 6}         -- " Enter the Treasury in Deja, find the key and enter the Vault, retrieve the Control Cube, and return to Robert the Wise in Celeste."
  3:  SetMessage  {Str = 23}         --[[ "Our preparations are nearing completion.  However we first need to obtain an artifact known as the ‘Control Cube’.  This artifact is guarded by Jester’s Folly, a dragon of such power that all other creatures flee from its presence!  This dragon resides in the Vault, a cavern deep within the bowls of Deja. The entrance to the Vault is guarded by the Treasury, a bulwark fortress built by the Necromancers to protect the artifact.

We need your party to break into the Treasury, find the key, enter the Vault, slay Jester’s Folly, retrieve the Control Cube, and return to me.

Duke Bimbasto and Sir Vilx.., Erathia's Greatest Champions, have offered their assistance.  They will meet you at the entrance to the Treasury.

Be careful on this quest.  The dangers are many, and the foes are plenty." ]]
  4:  Set  {"QBits", Value = 362}         -- " Enter the Treasury in Deja, find the key and enter the Vault, retrieve the Control Cube, and return to Robert the Wise in Celeste."
  5:  SetNPCGreeting  {NPC = 83, Greeting = 22}         -- "Robert the Wise" : "You must bring the Control Cube to me."
  6:  Exit  {}

  7:  GoTo  {jump = 17}

  8:  SetMessage  {Str = 251}         -- "Excellent!  Now that we have the Control Cube, you need to see Resurectra in Castle Lambent.  She will provide details on your next assignment."
  9:  Subtract  {"QBits", Value = 362}         -- " Enter the Treasury in Deja, find the key and enter the Vault, retrieve the Control Cube, and return to Robert the Wise in Celeste."
  10: Subtract  {"Inventory", Value = 675}         -- "Control Cube"
  11: SetNPCTopic  {NPC = 83, Index = 0, Event = 0}         -- "Robert the Wise"
  12: MoveNPC  {NPC = 83, HouseId = 0}         -- "Robert the Wise"
  13: Set  {"Awards", Value = 14}         -- "Retrieved Control Cube"
  14: Add  {"Experience", Value = 500000}
  15: SetNPCTopic  {NPC = 80, Index = 1, Event = 155}         -- "Resurectra" : "Strike the Devils"
  16: Exit  {}

  17: Cmp  {"Awards", Value = 32,   jump = 22}         -- "Declared Friends of ‘The Game’"
  18: Set  {"Awards", Value = 33}         -- "Hall of Shame Award ‘Unfaithful Friends’"
  19: Subtract  {"Inventory", Value = 675}         -- "Control Cube"
  20: Set  {"Eradicated", Value = 0}
  21: Exit  {}

  22: Subtract  {"NPCs", Value = 21}         -- "Zedd True Shot"
  23: Subtract  {"NPCs", Value = 18}         -- "Lord Godwinson"
  24: Subtract  {"NPCs", Value = 20}         -- "Baron BunGleau"
  25: Subtract  {"NPCs", Value = 35}         -- "Sir Vilx of Stone City"
  26: Subtract  {"NPCs", Value = 34}         -- "Duke Bimbasto"
  27: Subtract  {"NPCs", Value = 37}         -- "Pascal the Mad Mage"
  28: GoTo  {jump = 8}
end

event 198  -- "Mourning"
  0:  SetMessage  {Str = 741}         -- "Pardon me, strangers, but I'm not feeling very sociable right now.  My brother Elrond has recently departed this world and my grief is great at his passing."
  1:  SetNPCTopic  {NPC = 285, Index = 0, Event = 516}         -- "Darron Temper" : "Can we help?"
end

event 199  -- "Quest"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 651,   jump = 4}         -- "Arcomage Deck"
  2:  SetMessage  {Str = 451}         -- "Still no sign of him?  I understand.  If you do happen to find out what happened to him, please let me know."
  3:  Exit  {}

  4:  SetMessage  {Str = 452}         -- "Dead?  Oh dear!  Those are certainly his cards, though.  I don't want the cards; you can have them-- that game has cost me enough now.  Oh, poor Elron!  I have a little money you can keep for your help, and thank you for finding out what happened to Elron."
  5:  Add  {"Experience", Value = 2000}
  6:  ForPlayer  ("Current")
  7:  Subtract  {"QBits", Value = 194}         -- "Find the fate of Darron's brother in the White Cliff Caves, then return to Darron Temper in Harmondale."
  8:  Add  {"Gold", Value = 750}
  9:  SetNPCTopic  {NPC = 285, Index = 0, Event = 0}         -- "Darron Temper"
  10: Subtract  {"Reputation", Value = 5}
end

event 313  -- "Quest"
  0:  CanShowTopic.Cmp  {"QBits", Value = 99,   jump = 3}         -- Chose the path of Light
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 453}         -- "The School of Sorcery here in the Bracada Desert collects a number of odd magical paraphernalia.  A few years ago an item of particular interest was stolen from the School by raiders from Deyja.  This item, the Seasons' Stole, was worn by Priests of the Sun during religious ceremonies at the turn of the seasons.  As a representative of the School of Sorcery, I'm authorized to reward you for its return.  Our last information placed the stolen Stole in the Hall of the Pit; I would suggest checking there first."
  6:  Add  {"QBits", Value = 195}         -- "Retrieve the Seasons' Stole from the Hall of the Pit and return it to Gary Zimm in the Bracada Desert."
  7:  SetNPCTopic  {NPC = 286, Index = 0, Event = 314}         -- "Gary Zimm" : "Quest"
end

event 314  -- "Quest"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 638,   jump = 4}         -- "Season's Stole"
  2:  SetMessage  {Str = 454}         -- "Don't forget there is a reward for the Seasons' Stole if you are able to find it and return it to me."
  3:  Exit  {}

  4:  SetMessage  {Str = 455}         -- "Excellent!  This most certainly is the Seasons' Stole.  Here is your reward; you've done both the School of Sorcery and myself a great service."
  5:  Subtract  {"Inventory", Value = 638}         -- "Season's Stole"
  6:  Add  {"Experience", Value = 7500}
  7:  ForPlayer  ("Current")
  8:  Add  {"Gold", Value = 7500}
  9:  Subtract  {"QBits", Value = 195}         -- "Retrieve the Seasons' Stole from the Hall of the Pit and return it to Gary Zimm in the Bracada Desert."
  10: Add  {"Awards", Value = 99}         -- "Retrieved the Seasons' Stole"
  11: Subtract  {"Reputation", Value = 5}
  12: SetNPCTopic  {NPC = 286, Index = 0, Event = 0}         -- "Gary Zimm"
end

event 315  -- "Elsie Pederton"
  0:  SetMessage  {Str = 514}         -- "The Master instructor of the Staff, Elsie Pederton, can be found in the Bracada Desert, on a ridge in the southwest region."
  1:  Set  {"AutonotesBits", Value = 128}         -- "The Master instructor of the Staff, Elsie Pederton, can be found in the Bracada Desert, on a ridge in the southwest region."
end

event 316  -- "Jillian Mithrit"
  0:  SetMessage  {Str = 515}         -- "The ultimate teacher in the ways of the Staff, Jillian Mithrit, can be found in the elven territory of Avlee.  Her home is in the city in the northeast."
  1:  Set  {"AutonotesBits", Value = 129}         -- "The ultimate teacher in the ways of the Staff, Jillian Mithrit, can be found in the elven territory of Avlee.  Her home is in the city in the northeast."
end

event 317  -- "Swordsmanship"
  0:  SetMessage  {Str = 516}         -- "As you can see, the Master instructor of the Sword, Tugor Slicer, maintains his residence with my brother and myself here on Emerald Island.  Return to us when you need advancement with the blade."
  1:  Set  {"AutonotesBits", Value = 130}         -- "The Master instructor of the Sword, Tugor Slicer, lives with the Telmar brothers on Emerald Island."
end

event 318  -- "Chadric Townsaver"
  0:  SetMessage  {Str = 517}         -- "The Grandmaster of the Sword, Chadric Townsaver, can be found in a small village in Welnin, just south of the city of Harmondale."
  1:  Set  {"AutonotesBits", Value = 131}         -- "The Grandmaster of the Sword, Chadric Townsaver, can be found in a small village in Welnin, just south of the city of Harmondale."
end

event 319  -- "Aznog Slasher"
  0:  SetMessage  {Str = 518}         -- "The Master tutor of the Dagger, Aznog Slasher, can be found in the northern region of Nighon."
  1:  Set  {"AutonotesBits", Value = 132}         -- "The Master tutor of the Dagger, Aznog Slasher, can be found in the northern region of Nighon."
end

event 320  -- "Tonken Fist"
  0:  SetMessage  {Str = 519}         -- "The Grandmaster of the Dagger, Token Fist, can be found in city of Tidewater in Tatalia.  Rumor has it that the Master Thief in the depths of the Erathian Sewers beneath the capitol city of Steadwick can also instruct at this level."
  1:  Set  {"AutonotesBits", Value = 133}         -- "The Grandmaster of the Dagger, Token Fist, can be found in city of Tidewater in Tatalia.  Rumor has it that the Master Thief in the depths of the Erathian Sewers beneath the capitol city of Steadwick can also instruct at this level."
end

event 321  -- "Dalin Keenedge"
  0:  SetMessage  {Str = 520}         -- "The Master Instructor of all that is the Axe, Dalin Keenedge, can be found in the northeast corner of Stone City."
  1:  Set  {"AutonotesBits", Value = 134}         -- "The Master Instructor of all that is the Axe, Dalin Keenedge, can be found in the northeast corner of Stone City."
end

event 322  -- "Karn Stonecleaver"
  0:  SetMessage  {Str = 521}         -- "The ultimate teacher of the uses of the Axe, Karn Stonecleaver, can be found in the snowy heights of the northeast region of Tatalia."
  1:  Set  {"AutonotesBits", Value = 135}         -- "The ultimate teacher of the uses of the Axe, Karn Stonecleaver, can be found in the snowy heights of the northeast region of Tatalia."
end

event 323  -- "Claderin Silverpoint"
  0:  SetMessage  {Str = 522}         -- "The Master teacher, Claderin Silverpoint, can be found in the northeast section of the city of Pierpont in the elven region of the Tularean Forest. There he will further you knowledge of the Spear."
  1:  Set  {"AutonotesBits", Value = 136}         -- "The Master teacher, Claderin Silverpoint, can be found in the northeast section of the city of Pierpont in the elven region of the Tularean Forest. There he will further you knowledge of the Spear."
end

event 324  -- "Seline Falconeye"
  0:  SetMessage  {Str = 523}         -- "The Grandmaster of the Spear, Selene Falconeye, makes her home in the northeast corner of Stone City."
  1:  Set  {"AutonotesBits", Value = 137}         -- "The Grandmaster of the Spear, Selene Falconeye, makes her home in the northeast corner of Stone City."
end

event 325  -- "Lanshee Ravensight"
  0:  SetMessage  {Str = 524}         -- "The Master tutor of the Bow, Lanshee Ravensight, lives in the northern regions of Nighon."
  1:  Set  {"AutonotesBits", Value = 138}         -- "The Master tutor of the Bow, Lanshee Ravensight, lives in the northern regions of Nighon."
end

event 326  -- "Cardric the Steady"
  0:  SetMessage  {Str = 525}         -- "The Grandmaster of the Bow, Cardric the Steady, can be found just to the southeast of the castle in the city of Harmondale."
  1:  Set  {"AutonotesBits", Value = 139}         -- "The Grandmaster of the Bow, Cardric the Steady, can be found just to the southeast of the castle in the city of Harmondale."
end

event 327  -- "Brother Rothham"
  0:  SetMessage  {Str = 526}         -- "The Master instructor of the Mace, Brother Rothham, can be found in the southern region of the swamps of Tatalia."
  1:  Set  {"AutonotesBits", Value = 140}         -- "The Master instructor of the Mace, Brother Rothham, can be found in the southern region of the swamps of Tatalia."
end

event 328  -- "Patwin Fellbern"
  0:  SetMessage  {Str = 527}         -- "The Grandmaster of the Mace, Patwin Felburn, teaches from his home in the goblin village found in the eastern area of the Deyja. "
  1:  Set  {"AutonotesBits", Value = 141}         -- "The Grandmaster of the Mace, Patwin Felburn, teaches from his home in the goblin village found in the eastern area of Deyja."
end

event 329  -- "Isram Gallowswell"
  0:  SetMessage  {Str = 528}         -- "My Master, Isram Gallowswell, can be found in the snowy heights of the northeast area of Tatalia. You will gain further instruction in the Shield there."
  1:  Set  {"AutonotesBits", Value = 142}         -- "My Master, Isram Gallowswell, can be found in the snowy heights of the northeast area of Tatalia. You will gain further instruction in the Shield there."
end

event 330  -- "Fedwin Smithson"
  0:  SetMessage  {Str = 529}         -- "The Grandmaster of the Shield, Fedwin Smithson, can be found on the eastern island of the Evenmorn Islands."
  1:  Set  {"AutonotesBits", Value = 143}         -- "The Grandmaster of the Shield, Fedwin Smithson, can be found on the eastern island of the Evenmorn Islands."
end

event 331  -- "Rabisa Nedlon"
  0:  SetMessage  {Str = 530}         -- "The Master tutor of Leather Armor, Rabisa Neldon, lives in the northern regions of Nighon."
  1:  Set  {"AutonotesBits", Value = 144}         -- "The Master tutor of Leather Armor, Rabisa Neldon, lives in the northern regions of Nighon."
end

event 332  -- "Miyon the Quick"
  0:  SetMessage  {Str = 531}         -- "The Grandmaster of Leather Armor, Miyon the Quick, can be found in the eastern section of the city of Pierpont in the elven region of the Tularean Forest."
  1:  Set  {"AutonotesBits", Value = 145}         -- "The Grandmaster of Leather Armor, Miyon the Quick, can be found in the eastern section of the city of Pierpont in the elven region of the Tularean Forest."
end

event 333  -- "Medwari Dragontracker"
  0:  SetMessage  {Str = 532}         -- "The Master instructor of uses of Chain Armor, Medwari Dragontracker, can be found in the elven territory of Avlee.  His home is in the city in the northeast."
  1:  Set  {"AutonotesBits", Value = 146}         -- "The Master instructor of uses of Chain Armor, Medwari Dragontracker, can be found in the elven territory of Avlee.  His home is in the city in the northeast."
end

event 334  -- "Halian Nevermore"
  0:  SetMessage  {Str = 533}         -- "The Grandmaster instructor of Chain Armor, Halian Nevermore, maintains his residence in a large city in the northwest region of Deyja."
  1:  Set  {"AutonotesBits", Value = 147}         -- "The Grandmaster instructor of Chain Armor, Halian Nevermore, maintains his residence in a large city in the northwest region of Deyja."
end

event 335  -- "Dekian Forgewright"
  0:  SetMessage  {Str = 534}         -- "My Master, Dekian Forgewright, makes his home in Erathia in the capitol city of Steadwick. He can provide further instruction in the uses of Plate Armor."
  1:  Set  {"AutonotesBits", Value = 148}         -- "My Master, Dekian Forgewright, makes his home in Erathia in the capitol city of Steadwick. He can provide further instruction in the uses of Plate Armor."
end

event 336  -- "Brand the Maker"
  0:  SetMessage  {Str = 535}         -- "The Grandmaster of Plate Armor, Brand the Maker, can be found in the Bracada desert, on a ridge in the central region."
  1:  Set  {"AutonotesBits", Value = 149}         -- "The Grandmaster of Plate Armor, Brand the Maker, can be found in the Bracada desert, on a ridge in the central region."
end

event 337  -- "Ashen Temper"
  0:  SetMessage  {Str = 536}         -- "The Master tutor of Fire Magic, Ashen Temper, can be found in  her home in the Tularean Forest ."
  1:  Set  {"AutonotesBits", Value = 150}         -- "The Master tutor of Fire Magic, Ashen Temper, can be found in her home in the Tularean Forest "
end

event 338  -- "Blayze "
  0:  SetMessage  {Str = 537}         -- "The Grandmaster of Fire Magic, Blayze, makes his home on Emerald Island."
  1:  Set  {"AutonotesBits", Value = 151}         -- "The Grandmaster of Fire Magic, Blayze, makes his home in Emerald Island."
end

event 339  -- "Rislyn Greenstorm"
  0:  SetMessage  {Str = 538}         -- "The Master tutor of Air Magic, Rislyn Greenstorm, lives in the elven territory of Avlee.  His home is in the city in the northeast."
  1:  Set  {"AutonotesBits", Value = 152}         -- "The Master tutor of Air Magic, Rislyn Greenstorm, lives in the elven territory of Avlee.  His home is in the city in the northeast."
end

event 340  -- "Gayle"
  0:  SetMessage  {Str = 539}         -- "The Grandmaster of Air Magic, Gayle, can be found in a tower in the Bracada desert, on a ridge in the northern region."
  1:  Set  {"AutonotesBits", Value = 153}         -- "The Grandmaster of Air Magic, Gayle, can be found in a tower in the Bracada desert, on a ridge in the northern region."
end

event 341  -- "Tobren Rainshield"
  0:  SetMessage  {Str = 540}         -- "The Master tutor of the uses of Water Magic, Tobren Rainshield, travels with the Lady Margaret which docks in Emerald Island."
  1:  Set  {"AutonotesBits", Value = 154}         -- "The Master tutor of the uses of Water Magic, Tobren Rainshield, travels with the Lady Margaret.  The fine Lady docks in Emerald Island."
end

event 342  -- "Torrent"
  0:  SetMessage  {Str = 541}         -- "The Grandmaster of Water Magic, Torrent, lives on a ridge, south of Harmondale, overlooking the city."
  1:  Set  {"AutonotesBits", Value = 155}         -- "The Grandmaster of Water Magic, Torrent, lives on a ridge, south of Harmondale, overlooking the city."
end

event 343  -- "Lara Stonewright"
  0:  SetMessage  {Str = 542}         -- "The Master tutor of Earth Magic, Lara Stonewright, makes her home in the elven territory of the Tularean Forest.  Her residence is in the city of Pierpont."
  1:  Set  {"AutonotesBits", Value = 156}         -- "The Master tutor of Earth Magic, Lara Stonewright, makes her home in the elven territory of the Tularean Forest.  Her residence is in the city of Pierpont."
end

event 344  -- "Avalanche"
  0:  SetMessage  {Str = 543}         -- "The Grandmaster instructor of Earth Magic, Avalanche, maintains his residence in the western region of the Deyja."
  1:  Set  {"AutonotesBits", Value = 157}         -- "The Grandmaster instructor of Earth Magic, Avalanche, maintains his residence in the western region of the Deyja."
end

event 345  -- "Heather Dreamwright"
  0:  SetMessage  {Str = 544}         -- "The Master who taught me, Heather Dreamwright, makes her home in Erathia, somewhere in the capitol city of Steadwick.  Further knowledge of Spirit Magic can be gained there."
  1:  Set  {"AutonotesBits", Value = 158}         -- "The Master who taught me, Heather Dreamwright, makes her home in Erathia, somewhere in the capitol city of Steadwick.  Further knowledge of Spirit Magic can be gained there."
end

event 346  -- "Benjamin the Balanced"
  0:  SetMessage  {Str = 545}         -- "The ultimate teacher in the ways of Spirit Magic, Benjamin the Balanced, can be found in the elven territory of the Tularean Forest.  His home is in the city of Pierpont."
  1:  Set  {"AutonotesBits", Value = 159}         -- "The ultimate teacher in the ways of Spirit Magic, Benjamin the Balanced, can be found in the elven territory of the Tularean Forest.  His home is in the city of Pierpont."
end

event 347  -- "Myles Featherwind"
  0:  SetMessage  {Str = 546}         -- "The Master teacher in the ways of Mind Magic, Myles Featherwind, can be found in the elven territory of Avlee.  His home is in the city to the northeast."
  1:  Set  {"AutonotesBits", Value = 160}         -- "The Master teacher in the ways of Mind Magic, Myles Featherwind, can be found in the elven territory of Avlee.  His home is in the city to the northeast."
end

event 348  -- "Xavier Bremen"
  0:  SetMessage  {Str = 547}         -- "The Grandmaster of Mind Magic, Xavier Bremen, can be found in the snowy heights of the northeast area of Tatalia. "
  1:  Set  {"AutonotesBits", Value = 161}         -- "The Grandmaster of Mind Magic, Xavier Bremen, can be found in the snowy heights of the northeast area of Tatalia. "
end

event 349  -- "Brother Bombah"
  0:  SetMessage  {Str = 548}         -- "The Master teacher in the ways of Body Magic, Brother Bombah, can be found in the swampy regions of Tatalia.  His home is somewhere in the southern region."
  1:  Set  {"AutonotesBits", Value = 162}         -- "The Master teacher in the ways of Body Magic, Brother Bombah, can be found in the swampy regions of Tatalia.  His home is somewhere in the southern region."
end

event 350  -- "Tempus"
  0:  SetMessage  {Str = 549}         -- "The Grandmaster teacher in the ways of Body Magic, Tempus, can be found in the elven territory of Avlee.  His home is on an island somewhere in the central bay."
  1:  Set  {"AutonotesBits", Value = 163}         -- "The Grandmaster teacher in the ways of Body Magic, Tempus, can be found in the elven territory of Avlee.  His home is on an island somewhere in the central bay."
end

event 351  -- "Samuel Benson"
  0:  SetMessage  {Str = 550}         -- "The Master of the Identify Item skill, Samuel Benson, can be found on a ridge in the central region of the Bracada desert."
  1:  Set  {"AutonotesBits", Value = 164}         -- "The Master of the Identify Item skill, Samuel Benson, can be found on a ridge in the central region of the Bracada desert."
end

event 352  -- "Payge Blueswan"
  0:  SetMessage  {Str = 551}         -- "The Grandmaster of the Identify Item skill, Payge Blueswan, can be found in the elven territory of Avlee.  His home is just northwest of the elven city of Spaward."
  1:  Set  {"AutonotesBits", Value = 165}         -- "The Grandmaster of the Identify Item skill, Payge Blueswan, can be found in the elven territory of Avlee.  His home is just northwest of the elven city of Spaward."
end

event 353  -- "Bethold Caverhill"
  0:  SetMessage  {Str = 552}         -- "The Master of the Merchant skill, Berthold Caverhill, can be found on the eastern most island of the Evenmorn Islands."
  1:  Set  {"AutonotesBits", Value = 166}         -- "The Master of the Merchant skill, Berthold Caverhill, can be found on the eastern most island of the Evenmorn Islands."
end

event 354  -- "Brigham the Frugal"
  0:  SetMessage  {Str = 553}         -- "The Grandmaster of the Merchant skill, Brigham the Frugal, can be found in a tower in the Bracada desert, on a ridge in the northern region."
  1:  Set  {"AutonotesBits", Value = 167}         -- "The Grandmaster of the Merchant skill, Brigham the Frugal, can be found in a tower in the Bracada desert, on a ridge in the northern region."
end

event 355  -- "Thomas Moore"
  0:  SetMessage  {Str = 554}         -- "The Master teacher of the Repair Item Skill, Thomas Moore, can be found in the swampy delta of the southern region of Tatalia."
  1:  Set  {"AutonotesBits", Value = 168}         -- "The Grandmaster of the Merchant skill, Brigham the Frugal, can be found in a tower in the Bracada desert, on a ridge in the northern region."
end

event 356  -- "Gareth the Fixer"
  0:  SetMessage  {Str = 555}         -- "The Grandmaster of the Repair Item Skill, Gareth the Fixer, teaches from his home in the capitol city of Steadwick in Erathia."
  1:  Set  {"AutonotesBits", Value = 169}         -- "The Grandmaster of the Repair Item Skill, Gareth the Fixer, teaches from his home in the capitol city of Steadwick in Erathia."
end

event 357  -- "Wanda Foestryke"
  0:  SetMessage  {Str = 556}         -- "The Master of the of the art of Body Building, Wanda Foestryke, can be found in the goblin village in eastern DeyJa Moor."
  1:  Set  {"AutonotesBits", Value = 170}         -- "The Master of the of the art of Body Building, Wanda Foestryke, can be found in the goblin village in eastern Deyja."
end

event 358  -- "Evandar Thomas"
  0:  SetMessage  {Str = 557}         -- "The Grandmaster of the Body Building skill, Evander Thomas, makes his home in the eastern regions of Nighon."
  1:  Set  {"AutonotesBits", Value = 171}         -- "The Grandmaster of the Body Building skill, Evander Thomas, makes his home in the eastern regions of Nighon."
end

event 359  -- "Tessa Greensward"
  0:  SetMessage  {Str = 558}         -- "The Master of Meditation, Tessa Greensward, can be found on a ridge in the southeast region of the Bracada desert."
  1:  Set  {"AutonotesBits", Value = 172}         -- "The Master of Meditation, Tessa Greensward, can be found on a ridge in the southeast region of the Bracada desert."
end

event 360  -- "Kaine"
  0:  SetMessage  {Str = 559}         -- "The Grandmaster of Meditation, Kaine, can be found in the elven territory of Avlee.  His home is on an island somewhere in the central bay."
  1:  Set  {"AutonotesBits", Value = 173}         -- "The Grandmaster of Meditation, Kaine, can be found in the elven territory of Avlee.  His home is on an island somewhere in the central bay."
end

event 361  -- "Garret Dotes"
  0:  SetMessage  {Str = 560}         -- "The Master of the Perception Skill, Garret Dotes, can be found in the elven area of the Tularean Forest.  His home is in the Elven city of Pierpont."
  1:  Set  {"AutonotesBits", Value = 174}         -- "The Master of the Perception Skill, Garret Dotes, can be found in the elven area of the Tularean Forest.  His home is in the Elven city of Pierpont."
end

event 362  -- "Petra Cleareye"
  0:  SetMessage  {Str = 561}         -- "The Grandmaster of the Skill of Perception, Petra Cleareye, can be found in the city in the northwest region of the Deyja."
  1:  Set  {"AutonotesBits", Value = 175}         -- "The Grandmaster of the Skill of Perception, Petra Cleareye, can be found in the city in the northwest region of Deyja."
end

event 363  -- "Lenord Skinner"
  0:  SetMessage  {Str = 562}         -- "The Master of Disarm Trap Skill, Lenord Skinner, lives on a ridge, south of Harmondale, overlooking the city."
  1:  Set  {"AutonotesBits", Value = 176}         -- "The Master of Disarm Trap Skill, Lenord Skinner, lives on a ridge, south of Harmondale, overlooking the city."
end

event 364  -- "Silk Quicktoungue"
  0:  SetMessage  {Str = 563}         -- "The Grandmaster of the Disarm Trap Skill, Silk Quicktoungue, makes his home in the southern region of Nighon."
  1:  Set  {"AutonotesBits", Value = 177}         -- "The Grandmaster of the Disarm Trap Skill, Silk Quicktoungue, makes his home in the southern region of Nighon."
end

event 365  -- "Oberic Crane"
  0:  SetMessage  {Str = 564}         -- "The Master of the Dodging Skill, Oberic Crane, can be found on the eastern most island of the Evenmorn Islands"
  1:  Set  {"AutonotesBits", Value = 178}         -- "The Master of the Dodging Skill, Oberic Crane, can be found on the eastern most island of the Evenmorn Islands"
end

event 366  -- "Kenneth Wain"
  0:  SetMessage  {Str = 565}         -- "The Grandmaster of the Dodging Skill, Kenneth Wain, can be found in the capitol city of Steadwick, in Erathia."
  1:  Set  {"AutonotesBits", Value = 179}         -- "The Grandmaster of the Dodging Skill, Kenneth Wain, can be found in the capitol city of Steadwick, in Erathia."
end

event 367  -- "Ulbrecht the Brawler"
  0:  SetMessage  {Str = 566}         -- "The Master of Unarmed Combat, Ulbrecht the Brawler, can be found on the eastern most island of the Evenmorn Islands."
  1:  Set  {"AutonotesBits", Value = 180}         -- "The Master of Unarmed Combat, Ulbrecht the Brawler, can be found on the eastern most island of the Evenmorn Islands."
end

event 368  -- "Norris "
  0:  SetMessage  {Str = 567}         -- "The Grandmaster of Unarmed Combat, Norris, can be found in the capitol city of Steadwick, in Erathia."
  1:  Set  {"AutonotesBits", Value = 181}         -- "The Grandmaster of Unarmed Combat, Norris, can be found in the capitol city of Steadwick, in Erathia."
end

event 369  -- "Jeni Swiftfoot"
  0:  SetMessage  {Str = 568}         -- "The Master instructor of the Identify Monster Skill, Jeni Swiftfoot, lives in the elven territory of Avlee.  Her home is in the city in the northeast."
  1:  Set  {"AutonotesBits", Value = 182}         -- "The Master instructor of the Identify Monster Skill, Jeni Swiftfoot, lives in the elven territory of Avlee.  Her home is in the city in the northeast."
end

event 370  -- "Raven the Hunter"
  0:  SetMessage  {Str = 569}         -- "The Grandmaster of the Identify Monster Skill, Raven the Hunter, can be found in a small village to the south of Harmondale."
  1:  Set  {"AutonotesBits", Value = 183}         -- "The Grandmaster of the Identify Monster Skill, Raven the Hunter, can be found in a small village to the south of Harmondale."
end

event 371  -- "Paula Brightspear"
  0:  SetMessage  {Str = 570}         -- "The Master tutor of the Armsmaster Skill, Paula Brightspear, lives in the elven territory of Avlee.  Her home is in the city in the northeast."
  1:  Set  {"AutonotesBits", Value = 184}         -- "The Master tutor of the Armsmaster Skill, Paula Brightspear, lives in the elven territory of Avlee.  Her home is in the city in the northeast."
end

event 372  -- "Lasiter the Slayer"
  0:  SetMessage  {Str = 571}         -- "The Grandmaster of the Armsmaster Skill, Lasiter the Slayer, makes his home in the eastern region of Eeofol."
  1:  Set  {"AutonotesBits", Value = 185}         -- "The Grandmaster of the Armsmaster Skill, Lasiter the Slayer, makes his home in the eastern region of Eeofol."
end

event 373  -- "Leane Shadowrunner"
  0:  SetMessage  {Str = 572}         -- "The Master tutor of the Stealing Skill, Leane Shadowrunner, makes her home in the goblin village in the eastern region of the Deyja."
  1:  Set  {"AutonotesBits", Value = 186}         -- "The Master tutor of the Stealing Skill, Leane Shadowrunner, makes her home in the goblin village in the eastern region of the Deyja."
end

event 374  -- "Everil Nightwalker"
  0:  SetMessage  {Str = 573}         -- "The Grandmaster teacher of the art of Stealing, Everil Nightwalker, can be found in the swampy delta of the southern region of Tatalia."
  1:  Set  {"AutonotesBits", Value = 187}         -- "The Grandmaster teacher of the art of Stealing, Everil Nightwalker, can be found in the swampy delta of the southern region of Tatalia."
end

event 375  -- "Elzbet Winterspoon"
  0:  SetMessage  {Str = 574}         -- "The Master of Alchemy, Elzbet Winterspoon, can be found in the western region of Nighon."
  1:  Set  {"AutonotesBits", Value = 188}         -- "The Master of Alchemy, Elzbet Winterspoon, can be found in the western region of Nighon."
end

event 376  -- "Lucid Apple"
  0:  SetMessage  {Str = 575}         -- "The Grandmaster instructor of Alchemy, Lucid Apple, can be found in the elven territory of Avlee.  His home is on an island somewhere in the central bay."
  1:  Set  {"AutonotesBits", Value = 189}         -- "The Grandmaster instructor of Alchemy, Lucid Apple, can be found in the elven territory of Avlee.  His home is on an island somewhere in the central bay."
end

event 377  -- "Dorothy Senjac"
  0:  SetMessage  {Str = 576}         -- "The Master of Learning, Dorothy Senjac, can be found in the southeast region of Nighon."
  1:  Set  {"AutonotesBits", Value = 190}         -- "The Master of Learning, Dorothy Senjac, can be found in the southeast region of Nighon."
end

event 378  -- "William Davies"
  0:  SetMessage  {Str = 577}         -- "The Grandmaster of Learning, William Smithson, instructs from his home on the eastern island of the Evenmorn Islands."
  1:  Set  {"AutonotesBits", Value = 191}         -- "The Grandmaster of Learning, William Smithson, instructs from his home on the eastern island of the Evenmorn Islands."
end

event 379  -- "Helena Morningstar"
  0:  SetMessage  {Str = 578}         -- "The Master of Light Magic, Helena Mornigstar, can be found in the cloud city of Celeste!"
  1:  Set  {"AutonotesBits", Value = 192}         -- "The Master of Light Magic, Helena Mornigstar, can be found in the cloud city of Celeste!"
end

event 380  -- "Gavin Magnus"
  0:  SetMessage  {Str = 579}         -- "The Grand Master of Light Magic can be found in the wizards castle, Castle Lambent."
  1:  Set  {"AutonotesBits", Value = 193}         -- "The Grand Master of Light Magic can be found in the wizards castle, Castle Lambent."
end

event 381  -- "Seth Darkenmore"
  0:  SetMessage  {Str = 580}         -- "The Master of Dark, Seth Darkenmore, can be found in The Pit beneath Deyja!"
  1:  Set  {"AutonotesBits", Value = 194}         -- "The Master of Dark, Seth Darkenmore, can be found in The Pit beneath Deyja!"
end

event 382  -- "Archibald"
  0:  SetMessage  {Str = 581}         -- "The Grand Master of Dark Magic can be found in the necromancer castle, Castle Gloaming.  At times Archibald has been know to take the journey to Clankers Lab."
  1:  Set  {"AutonotesBits", Value = 195}         -- "The Grand Master of Dark Magic can be found in the necromancer castle, Castle Gloaming.  At times Archibald has been know to take the journey to Clankers Lab."
end

event 383  -- "Empty Barrel"
  0:  StatusText  {Str = 582}         -- "Empty Barrel"
end

event 384  -- "Red Barrel"
  0:  StatusText  {Str = 583}         -- "+5 Might permanent"
  1:  Add  {"BaseMight", Value = 5}
  2:  Set  {"AutonotesBits", Value = 33}         -- "Red liquid grants Might."
  3:  ChangeEvent  {NewEvent = 383}         -- "Empty Barrel"
end

event 385  -- "Yellow Barrel"
  0:  StatusText  {Str = 584}         -- "+5 Accuracy permanent"
  1:  Add  {"BaseAccuracy", Value = 5}
  2:  Set  {"AutonotesBits", Value = 37}         -- "Yellow liquid grants Accuracy."
  3:  ChangeEvent  {NewEvent = 383}         -- "Empty Barrel"
end

event 386  -- "Blue Barrel"
  0:  StatusText  {Str = 585}         -- "+5 Personality permanent"
  1:  Add  {"BasePersonality", Value = 5}
  2:  Set  {"AutonotesBits", Value = 35}         -- "Blue liquid grants Personality."
  3:  ChangeEvent  {NewEvent = 383}         -- "Empty Barrel"
end

event 387  -- "Orange Barrel"
  0:  StatusText  {Str = 586}         -- "+5 Intellect permanent"
  1:  Add  {"BaseIntellect", Value = 5}
  2:  Set  {"AutonotesBits", Value = 34}         -- "Orange liquid grants Intellect."
  3:  ChangeEvent  {NewEvent = 383}         -- "Empty Barrel"
end

event 388  -- "Green Barrel"
  0:  StatusText  {Str = 587}         -- "+5 Endurance permanent"
  1:  Add  {"BaseEndurance", Value = 5}
  2:  Set  {"AutonotesBits", Value = 36}         -- "Green liquid grants Endurance."
  3:  ChangeEvent  {NewEvent = 383}         -- "Empty Barrel"
end

event 389  -- "Purple Barrel"
  0:  StatusText  {Str = 588}         -- "+5 Speed permanent"
  1:  Add  {"BaseSpeed", Value = 5}
  2:  Set  {"AutonotesBits", Value = 38}         -- "Purple liquid grants Speed."
  3:  ChangeEvent  {NewEvent = 383}         -- "Empty Barrel"
end

event 390  -- "White Barrel"
  0:  StatusText  {Str = 589}         -- "+5 Luck permanent"
  1:  Add  {"BaseLuck", Value = 5}
  2:  Set  {"AutonotesBits", Value = 39}         -- "White liquid grants Luck."
  3:  ChangeEvent  {NewEvent = 383}         -- "Empty Barrel"
end

event 391  -- "Empty Cauldron"
  0:  StatusText  {Str = 590}         -- "Empty Cauldron"
end

event 392  -- "Steaming Cauldron"
  0:  StatusText  {Str = 591}         -- "+10 Fire Resistance permanent"
  1:  Add  {"FireResistance", Value = 10}
  2:  Set  {"AutonotesBits", Value = 40}         -- "Steaming liquid grants Fire Resistance."
  3:  ChangeEvent  {NewEvent = 391}         -- "Empty Cauldron"
end

event 393  -- "Frosty Cauldron"
  0:  StatusText  {Str = 592}         -- "+10 Water Resistance permanent"
  1:  Add  {"WaterResistance", Value = 10}
  2:  Set  {"AutonotesBits", Value = 41}         -- "Frosty liquid grants Water Resistance."
  3:  ChangeEvent  {NewEvent = 391}         -- "Empty Cauldron"
end

event 394  -- "Shocking Cauldron"
  0:  StatusText  {Str = 593}         -- "+10 Air Resistance permanent"
  1:  Add  {"AirResistance", Value = 10}
  2:  Set  {"AutonotesBits", Value = 42}         -- "Shocking liquid grants Air Resistance."
  3:  ChangeEvent  {NewEvent = 391}         -- "Empty Cauldron"
end

event 395  -- "Dirty Cauldron"
  0:  StatusText  {Str = 594}         -- "+10 Earth Resistance permanent"
  1:  Add  {"EarthResistance", Value = 10}
  2:  Set  {"AutonotesBits", Value = 43}         -- "Dirty liquid grants Earth Resistance."
  3:  ChangeEvent  {NewEvent = 391}         -- "Empty Cauldron"
end

event 396  -- "Trash Heap"
  0:  RandomGoTo  {jumpA = 1, jumpB = 6, jumpC = 11, jumpD = 0, jumpE = 0, jumpF = 0}
  1:  Cmp  {"PerceptionSkill", Value = 1,   jump = 4}
  2:  Set  {"DiseasedGreen", Value = 0}
  3:  StatusText  {Str = 595}         -- "Diseased!"
  4:  GiveItem  {Strength = 1, Type = const.ItemType.Armor_, Id = 0}
  5:  GoTo  {jump = 15}

  6:  Cmp  {"PerceptionSkill", Value = 1,   jump = 9}
  7:  Set  {"DiseasedGreen", Value = 0}
  8:  StatusText  {Str = 595}         -- "Diseased!"
  9:  GiveItem  {Strength = 2, Type = const.ItemType.Armor_, Id = 0}
  10: GoTo  {jump = 15}

  11: Cmp  {"PerceptionSkill", Value = 1,   jump = 14}
  12: Set  {"DiseasedYellow", Value = 0}
  13: StatusText  {Str = 595}         -- "Diseased!"
  14: GiveItem  {Strength = 3, Type = const.ItemType.Armor_, Id = 0}
  15: ChangeEvent  {NewEvent = 411}         -- "Trash Heap"
end

event 397  -- "Trash Heap"
  0:  RandomGoTo  {jumpA = 1, jumpB = 6, jumpC = 11, jumpD = 0, jumpE = 0, jumpF = 0}
  1:  Cmp  {"PerceptionSkill", Value = 1,   jump = 4}
  2:  Set  {"DiseasedGreen", Value = 0}
  3:  StatusText  {Str = 595}         -- "Diseased!"
  4:  GiveItem  {Strength = 1, Type = const.ItemType.Weapon_, Id = 0}
  5:  GoTo  {jump = 15}

  6:  Cmp  {"PerceptionSkill", Value = 1,   jump = 9}
  7:  Set  {"DiseasedGreen", Value = 0}
  8:  StatusText  {Str = 595}         -- "Diseased!"
  9:  GiveItem  {Strength = 2, Type = const.ItemType.Weapon_, Id = 0}
  10: GoTo  {jump = 15}

  11: Cmp  {"PerceptionSkill", Value = 1,   jump = 14}
  12: Set  {"DiseasedYellow", Value = 0}
  13: StatusText  {Str = 595}         -- "Diseased!"
  14: GiveItem  {Strength = 3, Type = const.ItemType.Weapon_, Id = 0}
  15: ChangeEvent  {NewEvent = 411}         -- "Trash Heap"
end

event 398  -- "Trash Heap"
  0:  RandomGoTo  {jumpA = 1, jumpB = 6, jumpC = 11, jumpD = 0, jumpE = 0, jumpF = 0}
  1:  Cmp  {"PerceptionSkill", Value = 1,   jump = 4}
  2:  Set  {"DiseasedGreen", Value = 0}
  3:  StatusText  {Str = 595}         -- "Diseased!"
  4:  GiveItem  {Strength = 1, Type = const.ItemType.Misc, Id = 0}
  5:  GoTo  {jump = 15}

  6:  Cmp  {"PerceptionSkill", Value = 1,   jump = 9}
  7:  Set  {"DiseasedGreen", Value = 0}
  8:  StatusText  {Str = 595}         -- "Diseased!"
  9:  GiveItem  {Strength = 2, Type = const.ItemType.Misc, Id = 0}
  10: GoTo  {jump = 15}

  11: Cmp  {"PerceptionSkill", Value = 1,   jump = 14}
  12: Set  {"DiseasedYellow", Value = 0}
  13: StatusText  {Str = 595}         -- "Diseased!"
  14: GiveItem  {Strength = 3, Type = const.ItemType.Misc, Id = 0}
  15: ChangeEvent  {NewEvent = 411}         -- "Trash Heap"
end

event 411  -- "Trash Heap"
  0:  RandomGoTo  {jumpA = 1, jumpB = 5, jumpC = 0, jumpD = 0, jumpE = 0, jumpF = 0}
  1:  Cmp  {"PerceptionSkill", Value = 1,   jump = 5}
  2:  Set  {"DiseasedGreen", Value = 0}
  3:  StatusText  {Str = 595}         -- "Diseased!"
  4:  Exit  {}

  5:  StatusText  {Str = 596}         -- "Nothing Here"
end

event 412  -- "Campfire"
  0:  Add  {"Food", Value = 2}
  1:  Cmp  {"PerceptionSkill", Value = 1,   jump = 4}
  2:  ChangeEvent  {NewEvent = 0}
  3:  Exit  {}

  4:  GiveItem  {Strength = 2, Type = const.ItemType.Ring_, Id = 0}
  5:  ChangeEvent  {NewEvent = 0}
end

event 413  -- "Campfire"
  0:  Add  {"Food", Value = 1}
  1:  Cmp  {"PerceptionSkill", Value = 1,   jump = 4}
  2:  ChangeEvent  {NewEvent = 0}
  3:  Exit  {}

  4:  GiveItem  {Strength = 1, Type = const.ItemType.Ring_, Id = 0}
  5:  ChangeEvent  {NewEvent = 0}
end

event 414  -- "Food Bowl"
  0:  Add  {"Inventory", Value = 630}         -- "Red Delicious Apple"
  1:  ChangeEvent  {NewEvent = 0}
end

event 415  -- "Empty Cask"
  0:  StatusText  {Str = 599}         -- "Empty Cask"
end

event 416  -- "Cask"
  0:  RandomGoTo  {jumpA = 1, jumpB = 1, jumpC = 1, jumpD = 8, jumpE = 8, jumpF = 8}
  1:  RandomGoTo  {jumpA = 2, jumpB = 2, jumpC = 2, jumpD = 5, jumpE = 5, jumpF = 5}
  2:  Set  {"PoisonedGreen", Value = 0}
  3:  StatusText  {Str = 597}         -- "Poisoned!"
  4:  GoTo  {jump = 17}

  5:  Set  {"Drunk", Value = 0}
  6:  StatusText  {Str = 598}         -- "Drunk!"
  7:  GoTo  {jump = 17}

  8:  RandomGoTo  {jumpA = 9, jumpB = 9, jumpC = 11, jumpD = 11, jumpE = 13, jumpF = 15}
  9:  Add  {"Inventory", Value = 202}         -- "Vial of Troll Blood"
  10: GoTo  {jump = 17}

  11: Add  {"Inventory", Value = 217}         -- "Vial of Ooze Endoplasm"
  12: GoTo  {jump = 17}

  13: Add  {"Inventory", Value = 218}         -- "Mercury"
  14: GoTo  {jump = 17}

  15: Add  {"Inventory", Value = 214}         -- "Vial of Devil Ichor"
  16: GoTo  {jump = 17}

  17: ChangeEvent  {NewEvent = 415}         -- "Empty Cask"
end

event 417  -- "Mushroom"
  0:  Add  {"Inventory", Value = 215}         -- "Mushroom"
  1:  ChangeEvent  {NewEvent = 0}
end

event 418  -- "Lord Markham"
  0:  SetMessage  {Str = 601}         -- "So YOU'RE the ones that won Lord Markham's contest!  How do you like your winnings so far?  Had enough winning?  If I were you, I'd give him a piece of my mind!  His mansion is in Tatalia, near the wharf."
end

event 419  -- "The Master Thief"
  0:  SetMessage  {Str = 602}         -- "Watch your wallet while you're here, my friends--Steadwick abounds in thieves.  As a matter of fact, we are the world capital of thieves!  It's common knowledge that Bill Lasker, the Master Thief, lives in the sewers beneath Steadwick."
end

event 420  -- "Watchtowers"
  0:  CanShowTopic.Cmp  {"QBits", Value = 196,   jump = 4}         -- Find second entrance to Watchtower6
  1:  CanShowTopic.Cmp  {"QBits", Value = 19,   jump = 4}         -- "Go to Watchtower 6 in the Deyja Moors, and move the weight from the top of the tower to the bottom of the tower.  Then return to William Lasker in the Erathian Sewers."
  2:  CanShowTopic.Set  {Visible = false}
  3:  CanShowTopic.Exit  {}
  4:  CanShowTopic.Set  {Visible = true}
  5:  CanShowTopic.Exit  {}

  6:  Cmp  {"QBits", Value = 196,   jump = 9}         -- Find second entrance to Watchtower6
  7:  SetMessage  {Str = 603}         -- "Back when I was in the army, I was assigned to scout out the watchtowers in Deyja.  <chuckling> It's no good trying to go through the front door, so I usually looked around for another way in.  Those Necromancers are so cowardly, they always have an escape route.  And a way out is also a way in..."
  8:  Exit  {}

  9:  SetMessage  {Str = 644}         -- "Glad you found the way in the back door.  You probably avoided a really nasty ambush that way.  I hope my advice was useful!"
end

event 421  -- "Quest"
  0:  SetMessage  {Str = 604}         -- "The sacred relic of the Order of Fire, the Scroll of Mage Wonka, has been lost for many years.  The caravan that was transporting this relic from Harmondale to Bracada never made it out of the Barrow Downs.  Find the Lost Scroll of Wonka and return it to me and I will grant all Elemental Magic users in your party Expert Fire Magic with a Skill of ‘8’."
  1:  Add  {"QBits", Value = 272}         -- "Find the Lost Scroll of Wonka and return it to Blayze on Emerald Island."
  2:  SetNPCTopic  {NPC = 139, Index = 1, Event = 573}         -- "Blayze " : "We've found the Lost Scroll!"
end

event 422  -- "Now that's what I call 'fun'!"
  0:  SetMessage  {Str = 252}         --[[ "Hope ya don’t mind that I left ya and went ahead to scout out the area.  Thanks for the help in dispatching them Water Elementals.

I guess we’re gonna hafta run this here ‘gauntlet’, huh?  We’ll I’m a little ‘long in the tooth’ to be runnin’, although thar’s nothin’ wrong with my sword arm.  So if ya don’t mind, I’ll stay here and keep this area safe for our exit.  When ya find the key, don’t wait for me.  I’ll join ya as you exit to the Coding Fortress.

Oh, by the way.  There’s a scroll in that chest over thar that lists some rules for this place.  I suggest ya read it so’s we don’t get into any more trouble than we need to in here.

See ya on the way back my friends." ]]
  1:  SetNPCTopic  {NPC = 18, Index = 1, Event = 0}         -- "Lord Godwinson"
  2:  Exit  {}
end

event 423  -- "Buy Speed Boost Potent"
  0:  ForPlayer  ("All")
  1:  RandomGoTo  {jumpA = 2, jumpB = 2, jumpC = 4, jumpD = 2, jumpE = 4, jumpF = 2}
  2:  SetMessage  {Str = 262}         -- "I just sold my only one.  Come back in an hour."
  3:  Exit  {}

  4:  Cmp  {"Gold", Value = 10000,   jump = 7}
  5:  SetMessage  {Str = 265}         -- "You don't have enough gold!"
  6:  Exit  {}

  7:  SetMessage  {Str = 266}         -- "Here's your Potent of Speed Boost.  It's good doing business with you!"
  8:  ForPlayer  ("Current")
  9:  Subtract  {"Gold", Value = 10000}
  10: Add  {"Inventory", Value = 244}         -- "Speed Boost"
  11: Exit  {}
end

event 43016
  1:  Cmd00  {}
end

event 424  -- "A word of Caution!"
  0:  SetMessage  {Str = 727}         --[[ "Oh! and stay clear of Pascal and his minions of conjured Trolls!  Pascal is really quite ‘mad’ and his minions are somewhat stupid.  If you get too close to them in the heat of Battle, they may attack you!  If this occurs, all of your allies will become your enemies and you will fail the Test of Friendship!

And remember your objective!  Get the cube and gather your friends back into your party.  Once this is done you can dispatch the remaining foes if you like.

When it’s time to leave, you **must** use the exit to Celeste located immediately behind you in company with all six friends!  Don’t leave this cave by any other means or you will fail The Test and The Game!

Good luck, adventurers!" ]]
  1:  SetMonGroupBit  {NPCGroup = 6, Bit = const.MonsterBits.Hostile, On = false}         -- "Group for M1"
  2:  SetMonGroupBit  {NPCGroup = 7, Bit = const.MonsterBits.Hostile, On = false}         -- "Group fo M2"
  3:  SetMonGroupBit  {NPCGroup = 8, Bit = const.MonsterBits.Hostile, On = false}         -- "Group for M3"
  4:  SetMonGroupBit  {NPCGroup = 9, Bit = const.MonsterBits.Hostile, On = false}         -- "Group for Malwick's Assc."
  5:  SetMonGroupBit  {NPCGroup = 10, Bit = const.MonsterBits.Hostile, On = false}         -- "Southern Village Group in Harmondy"
  6:  SetMonGroupBit  {NPCGroup = 11, Bit = const.MonsterBits.Hostile, On = false}         -- "Main village in Harmondy"
  7:  Exit  {}
end

event 425  -- "EMPTY"
  0:  Exit  {}
end

event 426  -- "EMPTY"
  0:  Exit  {}
end

event 427  -- "EMPTY"
  0:  Exit  {}
end

event 44040
  1:  Cmd00  {}
end

event 428  -- "Monk Training"
  0:  SetMessage  {Str = 611}         -- "If you're looking for a teacher to begin serious monk training, speak with Bartholomew Hume--you can find him in the Bracada."
end

event 429  -- "Medusas"
  0:  SetMessage  {Str = 617}         -- "There is a breed of Medusa infesting the Red Dwarf Mines that is immune to magic.  These monsters are a real terror!  I can only thank the Gods that these creatures haven't escaped the mine.  What would we do then, beat them to death with our staves?"
end

event 430  -- "Temple of Baa"
  0:  CanShowTopic.Cmp  {"Awards", Value = 24,   jump = 5}         -- "Promoted to Master"
  1:  CanShowTopic.Cmp  {"Awards", Value = 25,   jump = 5}         -- "Promoted to Honorary Master"
  2:  CanShowTopic.Cmp  {"QBits", Value = 28,   jump = 5}         -- "Go to the Temple of Baa in Avlee and kill the High Priest of Baa, then return to Bartholomew Hume in Harmondale."
  3:  CanShowTopic.Set  {Visible = false}
  4:  CanShowTopic.Exit  {}
  5:  CanShowTopic.Set  {Visible = true}
  6:  CanShowTopic.Exit  {}

  7:  Cmp  {"Inventory", Value = 530,   jump = 12}         -- "Cloak of the Sheep"
  8:  Cmp  {"Awards", Value = 24,   jump = 12}         -- "Promoted to Master"
  9:  Cmp  {"Awards", Value = 25,   jump = 12}         -- "Promoted to Honorary Master"
  10: SetMessage  {Str = 613}         -- "A few years back, a weird cult called the Temple of Baa moved into the area.  At first they seemed popular, what with their free offers of healing, but it soon became clear they were devoted to darkness.  No one goes up there very much, now, and it seems that whatever evil gods were backing them have withdrawn their support.  But they're up there still, lurking in the shadows.  Creepy."
  11: Exit  {}

  12: SetMessage  {Str = 647}         -- "The Baa cult is gone?  Well that IS good news!  Everyone is in your debt, whether they know it or not.  "
end

event 431  -- "Missing Sheep"
  0:  CanShowTopic.Cmp  {"Awards", Value = 24,   jump = 5}         -- "Promoted to Master"
  1:  CanShowTopic.Cmp  {"Awards", Value = 25,   jump = 5}         -- "Promoted to Honorary Master"
  2:  CanShowTopic.Cmp  {"QBits", Value = 28,   jump = 5}         -- "Go to the Temple of Baa in Avlee and kill the High Priest of Baa, then return to Bartholomew Hume in Harmondale."
  3:  CanShowTopic.Set  {Visible = false}
  4:  CanShowTopic.Exit  {}
  5:  CanShowTopic.Set  {Visible = true}
  6:  CanShowTopic.Exit  {}

  7:  Cmp  {"Inventory", Value = 530,   jump = 12}         -- "Cloak of the Sheep"
  8:  Cmp  {"Awards", Value = 24,   jump = 12}         -- "Promoted to Master"
  9:  Cmp  {"Awards", Value = 25,   jump = 12}         -- "Promoted to Honorary Master"
  10: SetMessage  {Str = 614}         -- "Lots of sheep have gone missing since the Baa cult moved in--and I mean lots.  No doubt they were taken to the Baa temple for sacrifice.  I'm going to go broke if someone doesn't do something about those cultists!"
  11: Exit  {}

  12: SetMessage  {Str = 648}         -- "Glad to hear the Baa cult has gone missing, instead of my sheep!  Good job!"
end

event 432  -- "Ciphers"
  0:  SetMessage  {Str = 615}         -- "Ssspies abound in places like this, my friendsss.  If you wish your letters and communiqués to remain sssecret, you should use a cipher when you write.  There is a book in the Castle library that will explain everything, my friendsss."
end

event 433  -- "The nature of ooze"
  0:  SetMessage  {Str = 616}         --[[ "Eight years ago, we sent a team of scholars to what is now the Red Dwarf Mine to study the strange creatures that would occasionally show up there.  

The first thing we noticed was that Ooze ectoplasm makes an excellent potion catalyst.  The second was that ooze just can't be physically damaged--they split apart or squish, then run back together. If you want to kill one, you'll have to do it with magic." ]]
end

event 434  -- "Medusas"
  0:  SetMessage  {Str = 617}         -- "There is a breed of Medusa infesting the Red Dwarf Mines that is immune to magic.  These monsters are a real terror!  I can only thank the Gods that these creatures haven't escaped the mine.  What would we do then, beat them to death with our staves?"
end

event 435  -- "Titans' Stronghold"
  0:  SetMessage  {Str = 618}         -- "If you head south past the Wyvern Plains, don't go knocking at the door of that huge fortress you'll see standing in the middle of the water.  It's the Titan's Stronghold, and they don't much like visitors."
end

event 436  -- "The Arena"
  0:  SetMessage  {Str = 619}         -- "Arena fighting is available to anyone who wants to practice against any kind of opponent.  You can get to the arena by visiting a stable on any Sunday and asking them to take you there.  "
end

event 437  -- "Arena Championships"
  0:  SetMessage  {Str = 620}         -- "Arena Champships are held on each Sunday.  They are open to all--but be careful!  Your opponents are chosen by the Arena management, not you!"
end

event 438  -- "Haunted Mansion"
  0:  SetMessage  {Str = 621}         -- "Every graveyard or ancestral burial place seems to have a haunted house nearby--and ours is no exception.  There is a mansion near one of the plateaus on the surface in the northwest.  It is most certainly haunted."
end

event 439  -- "Ghosts"
  0:  SetMessage  {Str = 622}         -- "Fear the touch of the Ghost as you fear the loss of your life.  It inflicts terrible spiritual wounds and drains your youth before your eyes!"
end

event 440  -- "Secret passage"
  0:  SetMessage  {Str = 623}         -- "A few wars ago, my great grandfather worked on an escape tunnel from the Elvish castle to the Tularean Caves.  I don't think it's ever been used--no attack on the castle has ever brought it down--but it sure is an interesting piece of history, don't you think?"
end

event 441  -- "Faeries"
  0:  Cmp  {"QBits", Value = 197,   jump = 3}         -- Entered Faerie Mound
  1:  SetMessage  {Str = 624}         -- "They say that elves are faeries, but in truth we are only distantly related.  The true faeries don't live in civilization, and they're just like the stories say--playful, cruel, magical, and dangerous.  But if you really want to meet them, you could visit them in their Hall under the Hill, as they call it.  It is just outside of the village, to the North and West.  It will be challenging to get to the front door... "
  2:  Exit  {}

  3:  SetMessage  {Str = 649}         -- "I'm impressed--very few actually make it inside the fairy mound, or get very far."
end

event 442  -- "Mad Forest"
  0:  Cmp  {"Inventory", Value = 600,   jump = 6}         -- "Heart of the Wood"
  1:  Cmp  {"Awards", Value = 30,   jump = 6}         -- "Promoted to Ranger Lord"
  2:  Cmp  {"Awards", Value = 31,   jump = 6}         -- "Promoted to Honorary Ranger Lord"
  3:  Cmp  {"Awards", Value = 61,   jump = 6}         -- "Retrieved the Heart of the Wood"
  4:  SetMessage  {Str = 625}         -- "A while ago, I saw some men come to the Tularean Forest at night with axes and torches, following some sort of map.  When they left, they were laughing and happy.  It looked like they were carrying a big green rock.  My brother says they were a band of mercenaries from Tatalia.  Anyway, the next day was when the forest went mad.  It's too dangerous to go there now."
  5:  Exit  {}

  6:  SetMessage  {Str = 650}         -- "The forest is much safer now, thanks you to!  The oldest tree is very happy with you, and has included you in its history recitals."
end

event 443  -- "Oldest Tree"
  0:  SetMessage  {Str = 626}         -- "The Tularean Forest is so old that it has developed a mind…sort of.  The forest is vaguely aware of who walks through it, but only one part of the forest can communicate with people.  That's the oldest tree.  If you want to have a very long and slow conversation, it will be happy to oblige.  Look for it on an island to the south east of the forest.  It's larger than the rest of the trees.  You can't miss it."
end

event 444  -- "Bounty Hunting"
  0:  SetMessage  {Str = 627}         -- "Anyone needing to earn some spare cash can visit a town hall in any major city to pick up a bounty hunting assignment.  City councils are always fearful of the latest man eating monster or bandit or mad wizard, and set bounties on the creature that is bothering them most this month.  There's no rhyme or reason to their choices, so don't try to figure it out.  They often pay quite well."
end

event 445  -- "Warrior Mage Promotion"
  0:  ForPlayer  ("Current")
  1:  Cmp  {"Experience", Value = 15000,   jump = 4}
  2:  SetMessage  {Str = 342}         --[[ "I understand your enthusiasm adventurers.  But you are far too inexperienced for the required promotion task.  Travel about on the mainland, gain some real-world experience, and return to the ‘EI’.  Then we’ll discuss the promotion.

So I’ll await your return?  Good.  See you soon." ]]
  3:  Exit  {}

  4:  ForPlayer  ("All")
  5:  SetMessage  {Str = 736}         -- "I knew there was something 'special' about you, adventurers!   And I see you have the experience necessary to tackle the Warrior Mage promotion task.  So let's begin, shall we?"
  6:  SetNPCTopic  {NPC = 21, Index = 1, Event = 67}         -- "Zedd True Shot" : "Warrior Mage"
  7:  Exit  {}
end

event 446  -- "Tidewater Caverns"
  0:  SetMessage  {Str = 629}         -- "Pirates been operating out of the tidewater caverns for twenty years.  They're not Regnans, and they aren't part of Bill Lasker's men, but they're still pretty mean.  You want to get in there, just get yourself out to the islands to the west."
end

event 447  -- "Evenmorn Islands"
  0:  Cmp  {"Inventory", Value = 683,   jump = 5}         -- "Map to Evenmorn Island"
  1:  Cmp  {"Awards", Value = 62,   jump = 5}         -- "Promoted to Priest"
  2:  Cmp  {"Awards", Value = 63,   jump = 5}         -- "Promoted to Honorary Priest"
  3:  SetMessage  {Str = 630}         -- "Evenmorn Island isn't lost, so much as hard to get to.  It is surrounded by treacherous reefs, sandbars, whirlpools, and sharks.  If it's dangerous, the Island is surrounded by it.  There are only one or two safe ways in, and the map for those ways was stolen by pirates during the chaos of the recent wars.  They probably still have the map in their caves.  "
  4:  Exit  {}

  5:  SetMessage  {Str = 651}         -- "Oh, so the map is found?  What will you do with your newfound treasure?  Share it, I hope!"
end

event 448  -- "Reef Maps"
  0:  Cmp  {"Inventory", Value = 683,   jump = 5}         -- "Map to Evenmorn Island"
  1:  Cmp  {"Awards", Value = 62,   jump = 5}         -- "Promoted to Priest"
  2:  Cmp  {"Awards", Value = 63,   jump = 5}         -- "Promoted to Honorary Priest"
  3:  SetMessage  {Str = 631}         -- "The boat captains would be happy to take any paying fare to Evenmorn island, but they don't have proper maps.  There's no way anyone is going to risk their ship in the reefs around the Island unless they have the map!"
  4:  Exit  {}

  5:  SetMessage  {Str = 652}         -- "Now that you have the map, I guess you'll be going there soon.  Be careful--they say the island is cursed!"
end

event 449  -- "The Curse"
  0:  SetMessage  {Str = 653}         -- "If you don't mind the swamp and fog, Evenmorn Island is a great place to live.  Of course, the Curse doesn't help--ghosts and skeletons roam the island freely--but other than that, the neighbors keep to themselves.  The Churches of the Sun and the Moon don't even fight each other very much anymore.  <Heh!> probably means they're running out of adherents..."
end

event 450  -- "Golem parts"
  0:  SetMessage  {Str = 632}         -- "Well, I don't have any golem parts--I never took that class--but there are students all over Bracada who have spare golem parts lying around.  They aren't worth anything unless you have them all, so they'll probably just give them to you for free."
end

event 451  -- "Golems"
  0:  SetMessage  {Str = 633}         -- "You see all those golems walking around Bracada?  Every single one of them was made by the School.  Not bad for students, eh?  They don't have much to say, but they're tough guardians and can tell when a follower of Darkness is near.  You should see them go into action when one of those Necromancers or Warlocks wanders into our lands.  Zowwwwwieeee!"
end

event 452  -- "We need your help!"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 244,   jump = 4}         -- "Speed Boost"
  2:  SetMessage  {Str = 258}         --[[ "What’s the problem, adventurers? [You tell Lucid the conditions in Stone City].  Plague!  This is not good, not good at all!  And of course I’ll help.  Give me a minute to see what I have on hand.[Lucid begins to rummage through her inventory, searching through bottles, boxes, barrels, shelves and drawers, all-the-while humming a tune from CCR.]

I can mix-up a Plague Elixir that can be added to the water supply.  It will cure the population of Stone City within one day.  However, I am missing one ‘ingredient’ – a Speed Boost potent.  Bring me this potent with all haste.

[You ask Lucid where you can obtain this potent.]

If you have the skill and ingredients, you can mix one up yourself from a Haste Potent combined with an Orange Potent.  Otherwise, check out the local shops.  As a last resort, find a Wandering Peddler.  Sometimes they carry various potents. This time of year they seem to ‘congregate’ in Steadwick.

Good luck!" ]]
  3:  Exit  {}

  4:  SetMessage  {Str = 259}         --[[ "The Speed Boost potent!  Good!  Give me a minute to complete the elixir.

[]
[]
[]

There you go!  Here’s the Plague Elixir.

Now hurry back to Stone City!" ]]
  5:  Subtract  {"Inventory", Value = 244}         -- "Speed Boost"
  6:  SetNPCTopic  {NPC = 208, Index = 1, Event = 0}         -- "Lucid Apple"
  7:  ForPlayer  ("Current")
  8:  Add  {"Inventory", Value = 273}         -- "Plague Elixir"
  9:  SetNPCTopic  {NPC = 59, Index = 0, Event = 453}         -- "Hothfarr IX" : "We have the Plague Elixir!"
  10: Exit  {}
end

event 453  -- "We have the Plague Elixir!"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 273,   jump = 3}         -- "Plague Elixir"
  2:  Exit  {}

  3:  SetMessage  {Str = 264}         --[[ "The Plague Elixir!

[You relate the information from Lucid about how to use this elixir.  The King turns to his personal advisor.]

Have the guards pour this elixir into the underground stream immediately!  Don’t waste a single drop!

[The King turns back to you]

Bless the fates, you have saved my people and my kingdom!  Your bravery, courage and resourcefulness have earned you the title ‘Friend of Hothfarr, King of Dwarves, and Savior of Stone City’!

For this service to The Crown, I present you with a set of four rings of rather plain stature, but of powerful enchantment. You may claim these rings in the two chests outside of my Throne Room.

Oh. Be careful.  The chests are ‘trapped’." ]]
  4:  Add  {"Experience", Value = 100000}
  5:  Add  {"Gold", Value = 5000}
  6:  Set  {"Awards", Value = 21}         -- "Proclaimed Friend of Hothfarr, King of Dwarves and Savior of Stone City"
  7:  Subtract  {"QBits", Value = 370}         -- "Obtain Plague Elixir from Lucid Apple in Avlee and deliver it to King Hothffar in Stone City within two days."
  8:  Set  {"QBits", Value = 368}         -- Barrow Normal
  9:  Subtract  {"Inventory", Value = 273}         -- "Plague Elixir"
  10: SetNPCTopic  {NPC = 59, Index = 0, Event = 0}         -- "Hothfarr IX"
  11: SetNPCGreeting  {NPC = 59, Greeting = 30}         -- "Hothfarr IX" : "Welcome back Friends of Hothfarr and Saviors of Stone City!  The city is at your disposal."
  12: Exit  {}
end

event 454  -- "Soul Jars"
  0:  SetMessage  {Str = 636}         -- "The only people in the world who make soul jars are the Warlocks of Nighon.  It is a secret of their profession--which is strange, since they have absolutely no use for them.  Still, we are forced to bargain for the jars in order to advance our craft.  Of course, we have wrested the jars from them, from time to time...but then they raise their prices in revenge.  It must be our fate to suffer so."
end

event 455  -- "The Rituals"
  0:  SetMessage  {Str = 637}         -- "Every Necromancer aspires to be a Lich one day.  All you need is a Soul Jar, knowledge of the Ritual, and the magical skill to survive the journey to the Land of the Dead and return.  The body withers while the soul lives on in a glorious state free from hunger, disease, and injury.  Only shallow and superficial people would mind what the Ritual does to one's appearance.  True practitioners hardly notice."
end

event 456  -- "Circle of stone"
  0:  Cmp  {"Awards", Value = 68,   jump = 4}         -- "Promoted to Great Druid"
  1:  Cmp  {"Awards", Value = 69,   jump = 4}         -- "Promoted to Honorary Great Druid"
  2:  SetMessage  {Str = 638}         -- "Three circles of stones were built by the Druids long ago.  Since hearing of their locations ruins ascension attempts for would be Great Druids, I can only give you a general clue--All are in the open, unhidden and bare, and all are distant from settlements.  To tell you more would spoil your Ascension."
  3:  Exit  {}

  4:  SetMessage  {Str = 656}         -- "Since you've discovered the circles on your own they have worked their magic on you.  I hope you will refrain from telling others of their whereabouts, as I have done for you."
end

event 457  -- "Summer Circle"
  0:  SetMessage  {Str = 639}         -- "Originally, there were four Circles of Stone, one for each Cardinal direction and season, but the Eastern Circle was destroyed somewhere in Nighon during the wars between the Churches of the Sun and the Moon."
end

event 458  -- "The graveyard"
  0:  SetMessage  {Str = 640}         -- "The graveyard does indeed hold the bones of the ancient King, but the hallowed land will curse any who disturb it.  I don't envy you this task.  Each grave you open will unleash its curse, and possibly some other trap.  Best be sure you're opening the correct grave when you begin to dig."
end

event 459  -- "Barrow Navigation"
  0:  SetMessage  {Str = 641}         -- "Though the barrows were built to deter thieves, a way was needed to navigate them during burials and ceremonies.  Near each of the gates you'll find a plaque.  These plaques are cryptic, but they will keep you from losing your way, as long as you use them.  No thief yet has realized their significance, so once they enter the barrows, they never leave."
end

event 460  -- "Land of the Titans"
  0:  SetMessage  {Str = 642}         -- "We built a tunnel leading from our Thunderfist Mountain to the Land of the Giants during the War.  It was there we discovered the Kreegan, and more titans and dragons then you can imagine.  I suppose one who's familiar is to be a dragon could find eggs in one of the dragon caves of that terrible land.  'Ware the mother..."
end

event 461  -- "The Mega Dragon"
  0:  SetMessage  {Str = 643}         -- "I've heard legends that there is a dragon in the Land of the Titans greater than any that have come before.  Lesser dragons and titans do battle on the slopes of the mountain in which its cave resides.  This dragon is so huge, and so mighty that the other dragons feed it for fear it will one day leave its cave and devour them all in its fury.  The dragons believe it is a god.  If that is so, imagine its treasure..."
end

event 462  -- "Quest"
  0:  SetMessage  {Str = 657}         -- "During the wars between the Temples of the Sun and Moon, three statuettes were stolen from the shrines in the Bracada Desert, Tatalia, and Avlee.  I represent a group of Druids that want these shrines back to their original form-- it is critical for their worship.  To this end, I am offering a substantial reward for anyone that will find the statuettes and place them on the shrines."
  1:  Set  {"QBits", Value = 200}         -- "Retrieve the three statuettes and place them on the shrines in the Bracada Desert, Tatalia, and Avlee, then return to Thom Lumbra in the Tularean Forest."
  2:  SetNPCTopic  {NPC = 288, Index = 0, Event = 463}         -- "Thom Lumbra" : "Quest"
end

event 463  -- "Quest"
  0:  Cmp  {"QBits", Value = 201,   jump = 2}         -- Placed item 617 in out14(statue)
  1:  GoTo  {jump = 5}

  2:  Cmp  {"QBits", Value = 202,   jump = 4}         -- Place item 618 in out13(statue)
  3:  GoTo  {jump = 5}

  4:  Cmp  {"QBits", Value = 203,   jump = 7}         -- Place item 619 in out06(statue)
  5:  SetMessage  {Str = 658}         -- "All three statuettes are not placed.  I cannot reward partial success.  Return when you have placed all three."
  6:  Exit  {}

  7:  SetMessage  {Str = 659}         -- "Great work!  The Druids are so pleased, they threw in a little extra for your fine performance.  Take this… you most certainly deserve it."
  8:  Add  {"Gold", Value = 50000}
  9:  Subtract  {"Reputation", Value = 10}
  10: ForPlayer  ("All")
  11: Subtract  {"QBits", Value = 200}         -- "Retrieve the three statuettes and place them on the shrines in the Bracada Desert, Tatalia, and Avlee, then return to Thom Lumbra in the Tularean Forest."
  12: Add  {"Experience", Value = 50000}
  13: Add  {"Awards", Value = 100}         -- "Found and placed all the statuettes"
  14: SetNPCGreeting  {NPC = 288, Greeting = 174}         -- "Thom Lumbra" : "Excellent work; my associates are quite pleased."
  15: SetNPCTopic  {NPC = 288, Index = 0, Event = 0}         -- "Thom Lumbra"
end

event 464  -- "Quest"
  0:  SetMessage  {Str = 660}         -- "As you may have already guessed, I'm a collector of fine art.  Currently, I am looking for a set of paintings, one of King Roland, one of his brother Archibald, and one of the angel statue in the courtyard of Castle Ironfist.  This set is of great value, and, as a collector, I'm willing to pay quite handsomely for it.  If you should gather the entire set of paintings bring them back to me and I'll be sure to compensate you well for your effort."
  1:  Set  {"QBits", Value = 204}         -- "Retrieve the three paintings and return them to Ferdinand Visconti in Tatalia."
  2:  SetNPCTopic  {NPC = 289, Index = 0, Event = 465}         -- "Ferdinand Visconti" : "Quest"
end

event 465  -- "Quest"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 621,   jump = 3}         -- "Angel Statue Painting"
  2:  GoTo  {jump = 6}

  3:  Cmp  {"Inventory", Value = 622,   jump = 5}         -- "Archibald Ironfist Painting"
  4:  GoTo  {jump = 6}

  5:  Cmp  {"Inventory", Value = 623,   jump = 8}         -- "Roland Ironfist Painting"
  6:  SetMessage  {Str = 662}         -- "Remember, I need the complete set of paintings-- they aren't worth much by themselves.  When you have the rest, bring them all to me."
  7:  Exit  {}

  8:  SetMessage  {Str = 663}         -- "Wonderful!  This set has eluded me for years!  You more than deserve the reward I promised; here, hopefully this will be sufficient."
  9:  Subtract  {"Inventory", Value = 621}         -- "Angel Statue Painting"
  10: Subtract  {"Inventory", Value = 622}         -- "Archibald Ironfist Painting"
  11: Subtract  {"Inventory", Value = 623}         -- "Roland Ironfist Painting"
  12: ForPlayer  ("Current")
  13: Add  {"Gold", Value = 50000}
  14: Subtract  {"Reputation", Value = 10}
  15: ForPlayer  ("All")
  16: Subtract  {"QBits", Value = 204}         -- "Retrieve the three paintings and return them to Ferdinand Visconti in Tatalia."
  17: Add  {"Experience", Value = 50000}
  18: Add  {"Awards", Value = 101}         -- "Retrieved the complete set of paintings"
  19: SetNPCGreeting  {NPC = 289, Greeting = 176}         -- "Ferdinand Visconti" : "Thank you for your assistance in completing my collection.  You have my gratitude forever!"
  20: SetNPCTopic  {NPC = 289, Index = 0, Event = 0}         -- "Ferdinand Visconti"
end

event 466  -- "Arcomage Tounament"
  0:  SetMessage  {Str = 664}         -- "To be declared ArcoMage Champion, you must win a game of ArcoMage in every tavern on, in, and under the continent of Erathia.  There are 13 such taverns sponsoring ArcoMage events.  When you have accomplished this in Elrond's name, return to me and I shall bestow upon you great rewards."
  1:  Set  {"QBits", Value = 205}         -- "Honor Elrond's memory by winning the Arcomage Championship, then return to Darron Temper in Pierpont."
  2:  SetNPCTopic  {NPC = 285, Index = 0, Event = 467}         -- "Darron Temper" : "Quest"
end

event 467  -- "Quest"
  0:  Cmp  {"QBits", Value = 238,   jump = 3}         -- Won all Arcomage games
  1:  SetMessage  {Str = 665}         -- "You must claim a victory at ALL 13 taverns.  Until you do, you cannot be declared ArcoMage Champion."
  2:  Exit  {}

  3:  SetMessage  {Str = 666}         -- "Congratulations!  You have brought honor to Elrond's name by becoming the ArcoMage Champion!  Your reward is waiting in a chest outside of our summer home in Erathia."
  4:  Subtract  {"QBits", Value = 205}         -- "Honor Elrond's memory by winning the Arcomage Championship, then return to Darron Temper in Pierpont."
  5:  Add  {"Gold", Value = 100000}
  6:  Subtract  {"Reputation", Value = 10}
  7:  ForPlayer  ("All")
  8:  Add  {"Experience", Value = 50000}
  9:  Add  {"QBits", Value = 244}         -- Finished ArcoMage Quest - Get the treasure
  10: Add  {"Awards", Value = 102}         -- "ArcoMage Champion"
  11: SetNPCGreeting  {NPC = 285, Greeting = 178}         -- "Darron Temper" : "Welcome ArcoMage Champions!"
  12: SetNPCTopic  {NPC = 285, Index = 0, Event = 0}         -- "Darron Temper"
end

event 468  -- "Stone City"
  0:  SetMessage  {Str = 669}         -- "People say the Dwarves live in the barren lands south of Harmondale, but that's not exactly true--They live UNDER them.  Look for their front gate in the center of the Barrow Downs where three bridges meet."
end

event 469  -- "Stone City"
  0:  SetMessage  {Str = 670}         -- "Ever since the Warlocks of Nighon tunneled through Stone City from their island, travelers have been asking to pass through the city to get to Nighon.  The Dwarf King hates this, and would like to charge a hefty fee for people seeking to enter Stone City.  He has not started charging however, fearing political and possible violent repercussions with the Warlocks of Nighon."
end

event 470  -- "Passage to Nighon"
  0:  SetMessage  {Str = 671}         -- "The Warlocks of Nighon live in Thunderfist Mountain--an extinct volcano on a large island a few miles from the mainland.  During the recent wars, the Warlocks tunneled through Stone City to transport their forces across the channel.  Those tunnels are still open and can be traversed."
end

event 471  -- "Warlock's Tunnels"
  0:  SetMessage  {Str = 672}         -- "During the War, the Warlocks tunneled from Nighon through Stone City to get to the mainland and seize territory.  Even though they were pushed back to their island by Erathia, the tunnels remain."
end

event 472  -- "Barrows"
  0:  SetMessage  {Str = 673}         -- "Dwarves live under the ground of the Barrow Downs--a barren collection of ancient gravesites built by their race centuries ago to honor fallen kings and heroes.  Not all of the barrows can be reached on the surface--many are magically connected to each other through a system of teleporters and traps that protect the graves from those who would rob them.  If you look closely at the walls you should see markings that might help you navigate."
end

event 473  -- "Medusas"
  0:  Cmp  {"QBits", Value = 98,   jump = 3}         -- Built Castle to Level 2 (rescued dwarf guy)
  1:  SetMessage  {Str = 674}         -- "We were making a fortune in the Red Dwarf Mines until the Medusas came!  We had to run before they turned everyone to stone.  Without our mining, we have almost no way to make a living.  Not the way for a proper Dwarf to live, I say!"
  2:  Exit  {}

  3:  SetMessage  {Str = 703}         -- "The Lords of Harmondale!  Heroes, I say!  My cousin was one of the ones you rescued!  We are in your debt!"
end

event 474  -- "Red Dwarf Mines"
  0:  Cmp  {"QBits", Value = 98,   jump = 3}         -- Built Castle to Level 2 (rescued dwarf guy)
  1:  SetMessage  {Str = 675}         -- "Bracada leased the land where we started the Red Dwarf Mine to us a few years ago.  That was until the Medusas came and took the mines from our people.  Only the Gods know what horrors go on in there now.  The mines were in the Northeast corner of Bracada."
  2:  Exit  {}

  3:  SetMessage  {Str = 704}         -- "Thank you for delivering our people from the medusas!  The Dwarves of Stone City will not forget you!"
end

event 475  -- "The Statues"
  0:  Cmp  {"QBits", Value = 98,   jump = 3}         -- Built Castle to Level 2 (rescued dwarf guy)
  1:  SetMessage  {Str = 676}         -- "When the Medusas took the Red Dwarf Mines from us, not everyone escaped.  There are still several statues in the mines.  They can be rescued if their statues haven't been broken yet, but you would have to fight through the Medusas to do it."
  2:  Exit  {}

  3:  SetMessage  {Str = 705}         -- "We owe you much for your daring rescue of our people.  Rebuilding your castle was the least we could do for you."
end

event 476  -- "Stone City"
  0:  SetMessage  {Str = 677}         -- "Do you like our city?  It's not just a hole in the ground--it's a home in the ground!  Dwarves have been working this mountain for centuries!  There isn't much mining left here, though, and what there is happens to be in unstable and unsafe tunnels.  Be careful if you go to the lower levels."
end

event 477  -- "Harmondale"
  0:  Cmp  {"QBits", Value = 99,   jump = 4}         -- Chose the path of Light
  1:  Cmp  {"QBits", Value = 100,   jump = 4}         -- Chose the path of Dark
  2:  SetMessage  {Str = 678}         -- "Respectfully, my lords, I must say that no one expects you to last long because no other lords of Harmondale have lasted long.  The fighting and politics between Erathia and Avlee will claim you sooner or later.  Probably sooner."
  3:  Exit  {}

  4:  SetMessage  {Str = 706}         -- "Good day, my lords.  I must say the people are changing their minds about your chances of survival.  Everyone is saying how wonderful it is to have stable rulers in the Castle!"
end

event 478  -- "Rebellions"
  0:  SetMessage  {Str = 679}         -- "Rebellions here in Harmondale are rare, but we've had a couple of big ones!  Most of the time lords here don't last long enough to rebel against, but there've been some wicked ones!  Not that I think you're wicked, my lords."
end

event 479  -- "Castle Harmondale"
  0:  Cmp  {"QBits", Value = 98,   jump = 3}         -- Built Castle to Level 2 (rescued dwarf guy)
  1:  SetMessage  {Str = 680}         -- "It's good to see someone in Harmondale again, my lords.  The castle's been standing empty since the War, except for the goblins.  But they don't count, I suppose."
  2:  Exit  {}

  3:  SetMessage  {Str = 707}         -- "It's good to see the Castle rebuilt and those loathsome goblin bandits evicted.  Things are looking better around here since you took over!"
end

event 480  -- "Tularean Caves"
  0:  SetMessage  {Str = 681}         -- "What with all the wars that Avlee gets itself into all the time, and all the high taxes, I've moved to Harmondale to stay.  Harmondale sees a lot of violence, but at least they don't conscript.  You know, there's been so many wars in Avlee that one of the kings had a tunnel dug from his castle to the caves in the North just in case the castle was taken AGAIN."
end

event 481  -- "White Cliff Caves"
  0:  SetMessage  {Str = 682}         -- "A ways outside of Harmondale there's a cave system called the White Cliff Caves.  The entrance has been magically warded for as long as I can remember.  Recently, the Mad Mage Pascal, Diviner of Strange Flesh, has removed the ward and sent an entire army of Trolls into the cave.  Travelers report that they have heard sounds of a fierce battle being waged near the entrance.  I'd avoid that area, if I were you!"
end

event 482  -- "Fort Riverstride"
  0:  Cmp  {"QBits", Value = 83,   jump = 3}         -- Gave false Loren to Catherine (betray)
  1:  SetMessage  {Str = 683}         -- "Did you notice that covered bridge on the way from Harmondale to Steadwick?  It's called Fort Riverstride, and it protects us from surprise Elvish attacks coming through Harmondale.  There's so many traps and tricks inside there, they say it will never fall without the help of treachery.  "
  2:  Exit  {}

  3:  SetMessage  {Str = 708}         -- "I've heard Fort Riverstride was taken with the aid of treachery!  What a shame that those wretches were able to wring concessions from the Queen in exchange for the return of what was already ours!"
end

event 483  -- "The Arena"
  0:  SetMessage  {Str = 684}         -- "There's a Fountain just outside of the School of Sorcery in Bracada that will immediately teleport you to the Arena.   It's a good way to get some experience under your belt; ....  if you survive the encounters!"
  1:  Exit  {}
end

event 484  -- "The Arbiter"
  0:  CanShowTopic.Cmp  {"QBits", Value = 98,   jump = 3}         -- Built Castle to Level 2 (rescued dwarf guy)
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  Cmp  {"QBits", Value = 134,   jump = 8}         -- Arbiter Messenger only happens once
  6:  SetMessage  {Str = 685}         -- "Because of all the tension in the air, Erathia and Avlee hired an arbiter to help them work out their differences.  He's staying in the ""House of Stars"" on the eastern edge of Harmondale territory.  Maybe he has some advice for you."
  7:  Exit  {}

  8:  SetMessage  {Str = 712}         -- "The death of Judge Grey was a blow to all of us.  I hope his replacement does his legacy justice."
end

event 485  -- "Lost and Found"
  0:  SetMessage  {Str = 686}         -- "If you ever feel like you need advice on what next to do, or you've lost something important, go visit the Arbiter in the House of Stars near the Eastern edge of Harmondale territory.  He often knows where lost items went, or has advice on what you need to do.  I'm sure you'll find him helpful."
end

event 486  -- "The Choice"
  0:  CanShowTopic.Cmp  {"QBits", Value = 134,   jump = 3}         -- Arbiter Messenger only happens once
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  Cmp  {"QBits", Value = 99,   jump = 9}         -- Chose the path of Light
  6:  Cmp  {"QBits", Value = 100,   jump = 9}         -- Chose the path of Dark
  7:  SetMessage  {Str = 687}         -- "The death of Judge Grey, Arbiter of Harmondale, has put the War on hold.  It's like the whole world is holding its breath, waiting for you to make a choice.  Better be careful who you choose--this sounds like a big one, my Lords."
  8:  Exit  {}

  9:  SetMessage  {Str = 713}         -- "It looks like the consequences of your choice are just beginning, my lords.  I hope you chose wisely."
end

event 487  -- "Proving Grounds"
  0:  SetMessage  {Str = 688}         -- "The proving grounds, called the Walls of Mist,  is the place where all the wizards in Celeste have to go before they learn the High Art.  I hear it is much more of a moral test than a physical one.  You aren't allowed to kill any of the monsters in the maze."
end

event 488  -- "Celeste"
  0:  SetMessage  {Str = 689}         -- "The city of Celeste has been home to the Light for centuries.  It was established by King Magnus II  in 499 as the centerpiece to the Kingdom of Bracada, and as a beacon of hope to the rest of the world.  "
end

event 489  -- "The Pit"
  0:  SetMessage  {Str = 690}         -- "What you see on the surface in Deyja is only a small part of the true Kingdom of Death.  There is an underground city they call the Pit.  It can be reached from the surface only by way of the Hall of the Pit in Northern Deyja.  "
end

event 490  -- "Celeste"
  0:  SetMessage  {Str = 691}         -- "Celeste is the magical city built by the Wizards of Bracada centuries ago, and anchored half in the mountains, and half in mist high above Bracada.  You must use one of their teleporters to get there--you can find it near the center of Bracada."
end

event 491  -- "Mysterious Murders"
  0:  CanShowTopic.Cmp  {"QBits", Value = 98,   jump = 3}         -- Built Castle to Level 2 (rescued dwarf guy)
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  Cmp  {"QBits", Value = 107,   jump = 8}         -- Slayed the vampire
  6:  SetMessage  {Str = 692}         -- "There was another murder, recently, that's been all the talk around town.  Another body--young woman, so I hear--was found near the sewers.  Drained of blood, for the love of Light!  It's those thieves living' in the sewers I tell you!  Rats, they are.  Someone should go down there and put them out of business!"
  7:  Exit  {}

  8:  SetMessage  {Str = 714}         -- "So it was a vampire that was killing all those people!  I hear you're the ones to get rid of it, too!  Thanks!  Everyone feels much safer now."
end

event 492  -- "The Kreegan"
  0:  SetMessage  {Str = 693}         -- "During the War, the Warlocks had dealings with some strange creatures commonly known as devils in the mountains south of Avlee.  It's impossible to get there from the mainland, but the Warlocks dug a tunnel under the sea from their island that leads to the devil's home."
end

event 493  -- "Losing the War"
  0:  SetMessage  {Str = 694}         -- "We…overplayed our hand during the War, and failed to win any territory on the mainland.  Our ""allies"", the Kreegan, turned out to be very untrustworthy.  People from Enroth call them devils--now we know why.  At just the moment when we needed them most, they turned and ran, leaving us to face the wrath of the armies of Erathia and Avlee.  Next time, we won't be so trusting."
end

event 494  -- "Falling out in Deyja"
  0:  CanShowTopic.Cmp  {"QBits", Value = 198,   jump = 3}         -- Archibald in Clankers Lab now
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 695}         -- "There's been quite a bit of activity in Deyja, people are saying.  It seems that Archibald Ironfist, the leader of Deyja (and former King of Enroth) has left the Pit for an island off the Eastern shore of Avlee.  A lot of Necromancers followed him there--seems there's some sort of split going on."
end

event 495  -- "Roland of Enroth"
  0:  CanShowTopic.Cmp  {"QBits", Value = 99,   jump = 5}         -- Chose the path of Light
  1:  CanShowTopic.Cmp  {"QBits", Value = 100,   jump = 5}         -- Chose the path of Dark
  2:  CanShowTopic.Set  {Visible = false}
  3:  CanShowTopic.Exit  {}
  4:  CanShowTopic.Set  {Visible = true}
  5:  CanShowTopic.Exit  {}

  6:  Cmp  {"QBits", Value = 240,   jump = 9}         -- Talked to Roland
  7:  SetMessage  {Str = 696}         -- "Rumors have been trickling out of Nighon that King Roland of Enroth may still be alive.  Some Warlocks have said that they personally saw him when they met with the foul Kreegan.  The rumors also say that the Kreegan are keeping him in a cage and mistreating him horribly."
  8:  Exit  {}

  9:  SetMessage  {Str = 715}         -- "They say you are being credited with rescuing King Roland!  That's quite a feather in your cap, my lords!  QUITE a feather!"
end

event 496  -- "Soul Jars"
  0:  SetMessage  {Str = 697}         -- "A Soul Jar is what a Necromancer needs to complete the Ritual and become a Lich--an immortal undead monster that retains its mind and memories from life.  It's pretty obvious that this is not a desirable condition for most people, which is why the market for these artifacts isn't very good.  Nonetheless, Necromancers will do almost anything to get more--their profession's very existence depends on them."
end

event 497  -- "Warlocks"
  0:  SetMessage  {Str = 700}         -- "Although the Warlocks are technically servants of the Dark, they usually aren't violent.  They will defend themselves if attacked, of course, but they won't start a fight unless you start it first.  They're quite reasonable, as a matter of fact, and they take their business seriously.  I've found dealing with them to be quite pleasant."
end

event 498  -- "We Found a lost ONE!"
  0:  SetMessage  {Str = 255}         --[[ "Hey good buddies. That’s Super!  Great!  Peachy Keen!  Boss!  Radical!

Now you need to report these lost ONES, and any other problems, comments, and/or thoughts to Big Daddy Jim as a BLOG response at the following site:

http://hosted.filefront.com/BigDaddyJim

Muchas Gracias!  Many Thanks! And all that stuff ...." ]]
  1:  Exit  {}
end

event 499  -- "Expert Teachers"
  0:  SetMessage  {Str = 716}         -- "Looking for Expert instruction in one of your Skills?  Expert teachers for most Skills can be found in Harmondale, Erathia and the Tularean Forest. "
end

event 500  -- "Missing People"
  0:  SetMessage  {Str = 698}         -- "People have been disappearing recently.  Not just one or two, but several every day!  They go to bed at night, and the next day they aren't seen and their houses are empty!  I certainly wish someone would find out what it happening!"
end

event 501  -- "Make Weapon"
  0:  Cmp  {"Inventory", Value = 691,   jump = 8}         -- "Stalt-laced ore"
  1:  Cmp  {"Inventory", Value = 690,   jump = 12}         -- "Erudine-laced ore"
  2:  Cmp  {"Inventory", Value = 689,   jump = 16}         -- "Kergar-laced ore"
  3:  Cmp  {"Inventory", Value = 688,   jump = 20}         -- "Phylt-laced ore"
  4:  Cmp  {"Inventory", Value = 687,   jump = 24}         -- "Siertal-laced ore"
  5:  Cmp  {"Inventory", Value = 686,   jump = 28}         -- "Iron-laced ore"
  6:  SetMessage  {Str = 718}         -- "You need ore for me to create weapons.  The better the ore, the better the weapon I can make."
  7:  Exit  {}

  8:  Subtract  {"Inventory", Value = 691}         -- "Stalt-laced ore"
  9:  GiveItem  {Strength = 6, Type = const.ItemType.Weapon_, Id = 0}
  10: SetMessage  {Str = 717}         -- "Here's your weapon; if you find more ore, I'll be happy to make you more weapons."
  11: Exit  {}

  12: Subtract  {"Inventory", Value = 690}         -- "Erudine-laced ore"
  13: GiveItem  {Strength = 5, Type = const.ItemType.Weapon_, Id = 0}
  14: SetMessage  {Str = 717}         -- "Here's your weapon; if you find more ore, I'll be happy to make you more weapons."
  15: Exit  {}

  16: Subtract  {"Inventory", Value = 689}         -- "Kergar-laced ore"
  17: GiveItem  {Strength = 4, Type = const.ItemType.Weapon_, Id = 0}
  18: SetMessage  {Str = 717}         -- "Here's your weapon; if you find more ore, I'll be happy to make you more weapons."
  19: Exit  {}

  20: Subtract  {"Inventory", Value = 688}         -- "Phylt-laced ore"
  21: GiveItem  {Strength = 3, Type = const.ItemType.Weapon_, Id = 0}
  22: SetMessage  {Str = 717}         -- "Here's your weapon; if you find more ore, I'll be happy to make you more weapons."
  23: Exit  {}

  24: Subtract  {"Inventory", Value = 687}         -- "Siertal-laced ore"
  25: GiveItem  {Strength = 2, Type = const.ItemType.Weapon_, Id = 0}
  26: SetMessage  {Str = 717}         -- "Here's your weapon; if you find more ore, I'll be happy to make you more weapons."
  27: Exit  {}

  28: Subtract  {"Inventory", Value = 686}         -- "Iron-laced ore"
  29: GiveItem  {Strength = 1, Type = const.ItemType.Weapon_, Id = 0}
  30: SetMessage  {Str = 717}         -- "Here's your weapon; if you find more ore, I'll be happy to make you more weapons."
  31: Exit  {}
end

event 502  -- "Make Armor"
  0:  Cmp  {"Inventory", Value = 691,   jump = 8}         -- "Stalt-laced ore"
  1:  Cmp  {"Inventory", Value = 690,   jump = 12}         -- "Erudine-laced ore"
  2:  Cmp  {"Inventory", Value = 689,   jump = 16}         -- "Kergar-laced ore"
  3:  Cmp  {"Inventory", Value = 688,   jump = 20}         -- "Phylt-laced ore"
  4:  Cmp  {"Inventory", Value = 687,   jump = 24}         -- "Siertal-laced ore"
  5:  Cmp  {"Inventory", Value = 686,   jump = 28}         -- "Iron-laced ore"
  6:  SetMessage  {Str = 720}         -- "You need ore for me to create armor.  The better the ore, the better the armor I can make."
  7:  Exit  {}

  8:  Subtract  {"Inventory", Value = 691}         -- "Stalt-laced ore"
  9:  GiveItem  {Strength = 6, Type = const.ItemType.Armor_, Id = 0}
  10: SetMessage  {Str = 719}         -- "Here's your armor; if you find more ore, I'll be happy to make you more armor."
  11: Exit  {}

  12: Subtract  {"Inventory", Value = 690}         -- "Erudine-laced ore"
  13: GiveItem  {Strength = 5, Type = const.ItemType.Armor_, Id = 0}
  14: SetMessage  {Str = 719}         -- "Here's your armor; if you find more ore, I'll be happy to make you more armor."
  15: Exit  {}

  16: Subtract  {"Inventory", Value = 689}         -- "Kergar-laced ore"
  17: GiveItem  {Strength = 4, Type = const.ItemType.Armor_, Id = 0}
  18: SetMessage  {Str = 719}         -- "Here's your armor; if you find more ore, I'll be happy to make you more armor."
  19: Exit  {}

  20: Subtract  {"Inventory", Value = 688}         -- "Phylt-laced ore"
  21: GiveItem  {Strength = 3, Type = const.ItemType.Armor_, Id = 0}
  22: SetMessage  {Str = 719}         -- "Here's your armor; if you find more ore, I'll be happy to make you more armor."
  23: Exit  {}

  24: Subtract  {"Inventory", Value = 687}         -- "Siertal-laced ore"
  25: GiveItem  {Strength = 2, Type = const.ItemType.Armor_, Id = 0}
  26: SetMessage  {Str = 719}         -- "Here's your armor; if you find more ore, I'll be happy to make you more armor."
  27: Exit  {}

  28: Subtract  {"Inventory", Value = 686}         -- "Iron-laced ore"
  29: GiveItem  {Strength = 1, Type = const.ItemType.Armor_, Id = 0}
  30: SetMessage  {Str = 719}         -- "Here's your armor; if you find more ore, I'll be happy to make you more armor."
  31: Exit  {}
end

event 503  -- "Make Item"
  0:  Cmp  {"Inventory", Value = 691,   jump = 8}         -- "Stalt-laced ore"
  1:  Cmp  {"Inventory", Value = 690,   jump = 12}         -- "Erudine-laced ore"
  2:  Cmp  {"Inventory", Value = 689,   jump = 16}         -- "Kergar-laced ore"
  3:  Cmp  {"Inventory", Value = 688,   jump = 20}         -- "Phylt-laced ore"
  4:  Cmp  {"Inventory", Value = 687,   jump = 24}         -- "Siertal-laced ore"
  5:  Cmp  {"Inventory", Value = 686,   jump = 28}         -- "Iron-laced ore"
  6:  SetMessage  {Str = 722}         -- "You need ore for me to create items.  The better the ore, the better the items I can make."
  7:  Exit  {}

  8:  Subtract  {"Inventory", Value = 691}         -- "Stalt-laced ore"
  9:  GiveItem  {Strength = 6, Type = const.ItemType.Misc, Id = 0}
  10: SetMessage  {Str = 721}         -- "Here is your item; if you find more ore, I'll be happy to make you more items."
  11: Exit  {}

  12: Subtract  {"Inventory", Value = 690}         -- "Erudine-laced ore"
  13: GiveItem  {Strength = 5, Type = const.ItemType.Misc, Id = 0}
  14: SetMessage  {Str = 721}         -- "Here is your item; if you find more ore, I'll be happy to make you more items."
  15: Exit  {}

  16: Subtract  {"Inventory", Value = 689}         -- "Kergar-laced ore"
  17: GiveItem  {Strength = 4, Type = const.ItemType.Misc, Id = 0}
  18: SetMessage  {Str = 721}         -- "Here is your item; if you find more ore, I'll be happy to make you more items."
  19: Exit  {}

  20: Subtract  {"Inventory", Value = 688}         -- "Phylt-laced ore"
  21: GiveItem  {Strength = 3, Type = const.ItemType.Misc, Id = 0}
  22: SetMessage  {Str = 721}         -- "Here is your item; if you find more ore, I'll be happy to make you more items."
  23: Exit  {}

  24: Subtract  {"Inventory", Value = 687}         -- "Siertal-laced ore"
  25: GiveItem  {Strength = 2, Type = const.ItemType.Misc, Id = 0}
  26: SetMessage  {Str = 721}         -- "Here is your item; if you find more ore, I'll be happy to make you more items."
  27: Exit  {}

  28: Subtract  {"Inventory", Value = 686}         -- "Iron-laced ore"
  29: GiveItem  {Strength = 1, Type = const.ItemType.Misc, Id = 0}
  30: SetMessage  {Str = 721}         -- "Here is your item; if you find more ore, I'll be happy to make you more items."
  31: Exit  {}
end

event 504  -- "Signal "
  0:  SetMessage  {Str = 723}         -- "The signal rocket on the west side of the island should be set of to warn ships off from approaching to close to that side of the island.  The reefs off the west coast have proven deadly in the past."
end

event 505  -- "Dragon Flies"
  0:  SetMessage  {Str = 724}         -- "Beware the marshes of the southern tip of the island.  A tribe of Goblins has taken up residence there!  "
end

event 506  -- "Fallen Trees"
  0:  SetMessage  {Str = 725}         -- "Fallen or dead trees can sometimes be the hiding place of some treasure or trinket.  However, it can also be home to insects or worse!"
end

event 507  -- "Bracada Teleporters"
  0:  SetMessage  {Str = 726}         -- "The teleporters of central Bracada can get you to numerous locations in the desert.  Just check the pillar in front of the teleporter for the location it will take you to.  Be careful however, some of the teleporters haven't been working correctly and will not show the destination!"
end

event 508  -- "Castle Upgrade"
  0:  CanShowTopic.Cmp  {"QBits", Value = 98,   jump = 4}         -- Built Castle to Level 2 (rescued dwarf guy)
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}

  4:  Cmp  {"Awards", Value = 84,   jump = 8}         -- "Completed Necromancer Breeding Pit"
  5:  Cmp  {"Awards", Value = 46,   jump = 10}         -- "Completed Wizard Proving Grounds"
  6:  SetMessage  {Str = 732}         -- "My Lords. Castle Harmondale stands ready."
  7:  Exit  {}

  8:  SetMessage  {Str = 727}         --[[ "Oh! and stay clear of Pascal and his minions of conjured Trolls!  Pascal is really quite ‘mad’ and his minions are somewhat stupid.  If you get too close to them in the heat of Battle, they may attack you!  If this occurs, all of your allies will become your enemies and you will fail the Test of Friendship!

And remember your objective!  Get the cube and gather your friends back into your party.  Once this is done you can dispatch the remaining foes if you like.

When it’s time to leave, you **must** use the exit to Celeste located immediately behind you in company with all six friends!  Don’t leave this cave by any other means or you will fail The Test and The Game!

Good luck, adventurers!" ]]
  9:  Exit  {}

  10: SetMessage  {Str = 728}         -- "My Lords!  Gavin Magnus sent engineers and artisans to upgrade Castle Harmondale!  Now we have an upstairs and downstairs!  The artisans are setting up shop in the entry hall and will have many wonderful items for sale!  The workers, however, discovered an older area to the castle--a torture chamber and dungeon.  It isn't a pretty sight, I'm afraid."
end

event 509  -- "Pedestals"
  0:  SetMessage  {Str = 733}         -- "Pedestals can be found through out the land that can lend you temporary protection from certain types of magic. "
end

event 510  -- "Disputed Land"
  0:  SetMessage  {Str = 729}         -- "My Lords ::bows:: Now that you have cleared Castle Harmondale of the vandals and thieves, you should concentrate on removing the goblins from the area surrounding Harmondale.  To the east of here is the center of the disputed region.  Many great battles have been waged there between the forces of King Eldrich of the Elves and Queen Catherine of Erathia.  The goblins have taken the ruined fort in this area an use it to attack any travelers attempting to reach Harmondale!"
end

event 511  -- "Castle Harmondale"
  0:  SetMessage  {Str = 730}         -- "My Lords, remember Castle Harmondale is YOURS.  Feel free to relax while you're here.  Your sleep will never be disturbed by attacking monsters, nor will anything you decide to store in the castle's chests ever be stolen or removed.  You are home."
end

event 512  -- "Beacon Fires"
  0:  SetMessage  {Str = 731}         -- "If you seek aid from Erathia, light the beacon fires near the roads to the Barrow Downs, Erathia, and the Tularean Forest.  The Erathian forces near here will see the fires and rush to your aid!"
end

event 513  -- "Pay 1000 Gold"
  0:  Cmp  {"Gold", Value = 1000,   jump = 3}
  1:  SetMessage  {Str = 755}         -- "I can see your heart is in the right place, but your purse obviously isn't.  If you don't have the money, just say so.  In any event, good luck dealing with the zombies.  Ta-ta!"
  2:  GoTo  {jump = 6}

  3:  SetMessage  {Str = 738}         -- "This 1000 gold will go a long way to keeping zombies off the roads.  Thank you for your contribution."
  4:  Subtract  {"Gold", Value = 1000}
  5:  Set  {"QBits", Value = 249}         -- Don't get ambushed
  6:  SetNPCTopic  {NPC = 122, Index = 0, Event = 0}         -- "Lunius Shador"
  7:  SetNPCTopic  {NPC = 122, Index = 1, Event = 0}         -- "Lunius Shador"
end

event 514  -- "Don't Pay"
  0:  SetMessage  {Str = 739}         -- "That's a shame.  What a coincidence, I think I see some zombies on the roads.  Perhaps next time you'll be more inclined to contribute."
  1:  SetNPCTopic  {NPC = 122, Index = 0, Event = 0}         -- "Lunius Shador"
  2:  SetNPCTopic  {NPC = 122, Index = 1, Event = 0}         -- "Lunius Shador"
end

event 515  -- "Recent Loss"
  0:  SetMessage  {Str = 740}         -- "My husband Darron recently lost his brother in a freak accident.  So overwhelming is his grief that he spends his days wandering aimlessly about Pierpont.  Poor soul!"
end

event 516  -- "Can we help?"
  0:  SetMessage  {Str = 450}         -- "That's very kind of you.  But no .... I've got to deal with his absence in my own way and time.  Wait!!  perhaps you can assist me by honoring my brother's name.  You see, Elron, was an avid Arcomage player.  Horribly addicting game, if I do say so.  Here, take his Arcomage deck and win the Arcomage tournament in his name.  He'd like that.  Thank you."
  1:  ForPlayer  ("Current")
  2:  Add  {"Inventory", Value = 651}         -- "Arcomage Deck"
  3:  SetNPCTopic  {NPC = 285, Index = 0, Event = 466}         -- "Darron Temper" : "Arcomage Tounament"
end

event 517  -- "Disarm Trap Expert"
  0:  SetMessage  {Str = 742}         -- "Bill Lasker is the only one who can provide this advancement.  Seek him out in the Erathian Sewers."
end

event 518  -- "Courier Delivery"
  0:  ForPlayer  ("All")
  1:  Cmp  {"QBits", Value = 277,   jump = 50}         -- Courier Quest 4
  2:  Cmp  {"QBits", Value = 276,   jump = 30}         -- Courier Quest 3
  3:  Cmp  {"QBits", Value = 275,   jump = 18}         -- Courier Quest 2
  4:  Cmp  {"QBits", Value = 274,   jump = 6}         -- Courier Quest 1
  5:  Exit  {}

  6:  Cmp  {"Inventory", Value = 773,   jump = 12}         -- "Signed Contract"
  7:  Cmp  {"Inventory", Value = 772,   jump = 10}         -- "Unsigned Contract"
  8:  ForPlayer  ("Current")
  9:  Set  {"Inventory", Value = 772}         -- "Unsigned Contract"
  10: SetMessage  {Str = 743}         --[[ "Ahh, the new Courier Initiates arrive at last! I need to have a contract delivered to Mortie Ottin in Pierpont, signed by him, and returned to me post haste.  This is a very time sensitive task that needs to be completed within the month.  I will provide you with the customary payment when the contract is returned to me. 

Oh, before ya leave, maybe you can help me.  I'm 'stuck' on a crossword puzzle question.  Do you know the color of the Skeleton named 'Freddy the Freeloader'?  Didn't think so, but it was worth a try.  See you on your return trip." ]]
  11: Exit  {}

  12: SetMessage  {Str = 744}         --[[ "Thanks for returning this contract to me.  Here's your reward, as promised. 

Oh! and I found the crossword puzzle answer.  Freddie the Freeloader was a Red Skeleton." ]]
  13: Subtract  {"Inventory", Value = 773}         -- "Signed Contract"
  14: ForPlayer  ("Current")
  15: Add  {"Gold", Value = 5000}
  16: SetNPCTopic  {NPC = 241, Index = 0, Event = 0}         -- "Taren the Lifter"
  17: GoTo  {jump = 40}

  18: Cmp  {"Inventory", Value = 564,   jump = 24}         -- "Talisman (repaired)"
  19: Cmp  {"Inventory", Value = 563,   jump = 22}         -- "Talisman (broken)"
  20: ForPlayer  ("Current")
  21: Set  {"Inventory", Value = 563}         -- "Talisman (broken)"
  22: SetMessage  {Str = 780}         -- "Ahh,the Couriers in-training!  Your arrival is most propitious!   I need you to deliver this broken talisman to Douglas Iversen in Harmondale.  Wait while he repairs the item and return it to me.  Upon its return, I’ll give you the standard courier fee."
  23: Exit  {}

  24: SetMessage  {Str = 781}         -- "The talisman, good as new!  Thanks.  Here’s your payment."
  25: Subtract  {"Inventory", Value = 564}         -- "Talisman (repaired)"
  26: ForPlayer  ("Current")
  27: Add  {"Gold", Value = 5000}
  28: SetNPCTopic  {NPC = 38, Index = 0, Event = 0}         -- "Bartholomew Hume"
  29: GoTo  {jump = 48}

  30: Cmp  {"Inventory", Value = 774,   jump = 33}         -- "Recipe"
  31: SetMessage  {Str = 783}         -- "Welcome to Alice’s Restaurant … where you can get anything you want!  Well, that is, except me. I’m Alice.  Today’s special is broiled filet of Troll, smothered in toad stools with …  Oh, I’m sorry.  You’re the couriers, aren’t you!  What I need you to do is to pickup a recipe from Peni Pretty in Erathia and return it to me.  The standard delivery fee will be paid upon receipt of the recipe."
  32: Exit  {}

  33: SetMessage  {Str = 785}         -- "The recipe!  You made good time on this delivery.  Great service!  Thanks.  Here's your fee."
  34: Subtract  {"Inventory", Value = 774}         -- "Recipe"
  35: ForPlayer  ("Current")
  36: Add  {"Gold", Value = 5000}
  37: SetNPCTopic  {NPC = 451, Index = 0, Event = 0}         -- "Alice the Chef"
  38: Set  {"QBits", Value = 280}         -- Courier Quest 3 complete
  39: Exit  {}

  40: Set  {"QBits", Value = 278}         -- Courier Quest 1 complete
  41: Exit  {}

  48: Set  {"QBits", Value = 279}         -- Courier Quest 2 complete
  49: Exit  {}

  50: SetMessage  {Str = 786}         --[[ "My! Aren't you a fine-looking group of adventurers!  Zowie!  Fine, supple, strong; beauty at its best!  It’s always grand to meet others of the same calaibre as myself.  They should call ‘our kind’ the ‘Beautiful Ones’.  My name is Agatha.  Good to feast my eyes on you all. 

Now, onto the task at-hand.  My twin sister Rena lives here in Deja with her husband, Jayce Kedrin.  Rena and I are not identical twins and she was not ‘blessed’ with the ‘looks’ in our family as was I.  She’s, well, kind of plain.  Some might call her a real ‘Bow Wow’, if you know what I mean.  She’s the proverbial ‘two-bag date’.  Anywise, her birthday is upon us and I have purchased a special concoction called ‘Beauty Cream’ from Licia Rivenrock.  She’s indeed a Master Herbalist and her ‘cream’ is reported to do wonders with even the most ‘ordinary’ of subjects. I need you to pick up the order from Licia and deliver it to my sister.  Licia runs a business called ‘The House of Remedies’ in the Barrow Downs.

Oh! And my sister will provide you with the customary fee upon delivery. " ]]
  51: SetNPCTopic  {NPC = 209, Index = 0, Event = 0}         -- "Agatha Putnam"
  52: Exit  {}
end

event 519  -- "Courier Delivery"
  0:  ForPlayer  ("All")
  1:  Cmp  {"QBits", Value = 277,   jump = 31}         -- Courier Quest 4
  2:  Cmp  {"QBits", Value = 276,   jump = 25}         -- Courier Quest 3
  3:  Cmp  {"QBits", Value = 275,   jump = 18}         -- Courier Quest 2
  4:  Cmp  {"QBits", Value = 274,   jump = 6}         -- Courier Quest 1
end

event 518  -- "Courier Delivery"
  5:  Exit  {}
end

event 519  -- "Courier Delivery"
  6:  Cmp  {"Inventory", Value = 772,   jump = 9}         -- "Unsigned Contract"
  7:  SetMessage  {Str = 746}         -- "Where's the contract?  Oh, sorry ... I mistook you for the couriers from Taren in Tatalia."
  8:  Exit  {}

  9:  Subtract  {"Inventory", Value = 772}         -- "Unsigned Contract"
  10: ForPlayer  ("Current")
  11: Set  {"Inventory", Value = 773}         -- "Signed Contract"
  12: SetMessage  {Str = 745}         --[[ "The contract ... finally!  Here, let me look it over.  Looks good .. [Mortie signs the contract and returns it to you]  Return this contract to Taren with all haste.    Here's your first teleportal key.  It will save you some travel time in the delivery.

Oh, and a word about the Teleportal Hub.  The hub can take you to several locations.  Make sure that your party leader (active character) is equipped with only one key -that of your desired destination.  Otherwise you may be transported elsewhere."" ]]
  13: Set  {"Inventory", Value = 665}         -- "Tatalia Teleportal Key"
  14: SetNPCTopic  {NPC = 107, Index = 0, Event = 0}         -- "Mortie Ottin"
  15: Exit  {}

  16: Cmp  {"Inventory", Value = 563,   jump = 18}         -- "Talisman (broken)"
  17: Exit  {}

  18: Subtract  {"Inventory", Value = 563}         -- "Talisman (broken)"
  19: ForPlayer  ("Current")
  20: Set  {"Inventory", Value = 564}         -- "Talisman (repaired)"
  21: SetMessage  {Str = 782}         -- "What have we here?  Oh, I see.  This will be easy to fix.  [Iversen takes the talisman into the back room and returns in a few minutes]  There ya go, good as new!  Return this to Master Hume for your reward.  Here's your second teleportal key."
  22: Set  {"Inventory", Value = 669}         -- "Bracada Teleportal Key"
  23: SetNPCTopic  {NPC = 128, Index = 0, Event = 0}         -- "Douglas Iverson"
  24: Exit  {}

  25: ForPlayer  ("Current")
  26: Set  {"Inventory", Value = 774}         -- "Recipe"
  27: SetMessage  {Str = 784}         -- "Oh, the couriers!  I suspect you’re here for the recipe?  Here you are.  And here’s the Avlee Teleportal Key."
  28: Set  {"Inventory", Value = 667}         -- "Avlee Teleportal Key"
  29: SetNPCTopic  {NPC = 442, Index = 0, Event = 0}         -- "Peni Pretty"
  30: Exit  {}

  31: Cmp  {"QBits", Value = 282,   jump = 40}         -- Rena Quest
  32: SetMessage  {Str = 787}         --[[ "Hi, I’m Licia.  Can I interest you in some of my herbal remedies?  Perhaps some Love Potent #9?  Or a bottle of my patented ‘potency formula’ named ‘Argaiv’?  

Oh, of course not.  You’re the couriers here for a pick up, aren’t you.  Well here’s the bottle of Beauty Cream, and here’s your Deja Teleportal Key.  Good luck on your journey back to Deja."" ]]
  33: Set  {"QBits", Value = 282}         -- Rena Quest
  34: SetNPCTopic  {NPC = 452, Index = 0, Event = 519}         -- "Rena Putnum Kedrin" : "Courier Delivery"
  35: ForPlayer  ("Current")
  36: Set  {"Inventory", Value = 272}         -- "Beauty Creme"
  37: Set  {"Inventory", Value = 666}         -- "Deja Teleportal Key"
  38: SetNPCTopic  {NPC = 399, Index = 0, Event = 0}         -- "Licia Rivenrock"
  39: Exit  {}

  40: SetMessage  {Str = 788}         --[[ "A delivery for me?  Must be my birthday present from Agie. Oh my!  A bottle of the legendary ‘Beauty Cream’.  I’m so excited about this!  Here, let me have it.  [Rena takes the bottle and gulps down the entire content] 

Oh!  I feel so …. strange.  Here, take your delivery fee and leave now.  I’m going to take a little nap.  Visit me later to see the results of the ‘miracle treatment’.  By for now …. " ]]
  41: Set  {"QBits", Value = 281}         -- Courier Quest 4 complete
  42: Subtract  {"Inventory", Value = 272}         -- "Beauty Creme"
  43: ForPlayer  ("Current")
  44: Add  {"Gold", Value = 5000}
  45: SetNPCTopic  {NPC = 452, Index = 0, Event = 0}         -- "Rena Putnum Kedrin"
  46: MoveNPC  {NPC = 452, HouseId = 0}         -- "Rena Putnum Kedrin"
  47: MoveNPC  {NPC = 453, HouseId = 336}         -- "Rena Putnum Kedrin" -> "Kedrin Residence"
  48: Exit  {}
end

event 520  -- "The Courier Guild"
  0:  SetMessage  {Str = 747}         --[[ "Welcome, adventurers!  I'm Sarah, the Founding Matron and Gran Mouma of the Courier Guild.  The Courier Guild consists of an elite company of Master Couriers who enjoy certain travel privileges throughout the remote areas of Erathia.   Membership to the guild is 500 gold, non-refundable.  With your initial membership, you become a Courier Initiate and receive the Home Key, which entitles you to use all Home Portals to return you to Steadwick.

To become a Master Courier, you must complete four courier assignments.  The completion of each assignment will provide you with (1) a 5000 gold delivery fee and (2) a unique teleportal key that activates the Teleportal Hub in Harmondale."" ]]
  1:  SetNPCTopic  {NPC = 449, Index = 0, Event = 521}         -- "Sarah" : "Join the Guild"
end

event 521  -- "Join the Guild"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Gold", Value = 500,   jump = 4}
  2:  SetMessage  {Str = 125}         -- "You don't have enough gold!"
  3:  Exit  {}

  4:  Set  {"QBits", Value = 273}         -- "Complete four Courier Guild missions."
  5:  ForPlayer  ("Current")
  6:  Subtract  {"Gold", Value = 500}
  7:  Add  {"Inventory", Value = 670}         -- "Home Key"
  8:  SetMessage  {Str = 748}         -- "A wise decision on your part!  Here’s your Home Key.  Guard it carefully, because it is irreplaceable."
  9:  SetNPCTopic  {NPC = 449, Index = 0, Event = 522}         -- "Sarah" : "Courier Assignment"
end

event 522  -- "Courier Assignment"
  0:  ForPlayer  ("All")
  1:  Cmp  {"QBits", Value = 281,   jump = 26}         -- Courier Quest 4 complete
  2:  Cmp  {"QBits", Value = 280,   jump = 20}         -- Courier Quest 3 complete
  3:  Cmp  {"QBits", Value = 279,   jump = 15}         -- Courier Quest 2 complete
  4:  Cmp  {"QBits", Value = 278,   jump = 10}         -- Courier Quest 1 complete
  5:  SetMessage  {Str = 749}         -- "Your first assignment takes you to Tatalia.  When you arrive, seek out Taren.  He will provide you with details of the delivery.  Tatalia does have a Home Portal, in case you need to return here during your assignment."
  6:  MoveNPC  {NPC = 241, HouseId = 410}         -- "Taren the Lifter" -> "Taren's House"
  7:  SetNPCTopic  {NPC = 107, Index = 0, Event = 519}         -- "Mortie Ottin" : "Courier Delivery"
  8:  Set  {"QBits", Value = 274}         -- Courier Quest 1
  9:  Exit  {}

  10: SetMessage  {Str = 750}         -- "Good job on your first assignment!  For your next delivery, you must journey to the Bracada Desert and seek out Bartholomew Hume, the Roving Monk. You can normally find him near the Crystal Caravans.  He will provide you with details of the delivery. Bracada does have a Home Portal, in case you need to return here during your assignment.""
  11: SetNPCTopic  {NPC = 38, Index = 0, Event = 518}         -- "Bartholomew Hume" : "Courier Delivery"
  12: SetNPCTopic  {NPC = 128, Index = 0, Event = 519}         -- "Douglas Iverson" : "Courier Delivery"
  13: Set  {"QBits", Value = 275}         -- Courier Quest 2
  14: Exit  {}

  15: SetMessage  {Str = 751}         -- "I see you are well on your way to Master Courier.  Good!  Your third delivery takes you to the town of Spaward in Avlee.  You need to locate Alice's Restaurant  (where you can get anything you want) and just ask Alice.  She'll brief you on the details of the delivery."
  16: SetNPCTopic  {NPC = 451, Index = 0, Event = 518}         -- "Alice the Chef" : "Courier Delivery"
  17: SetNPCTopic  {NPC = 442, Index = 0, Event = 519}         -- "Peni Pretty" : "Courier Delivery"
  18: Set  {"QBits", Value = 276}         -- Courier Quest 3
  19: Exit  {}

  20: SetMessage  {Str = 9}         --[[ "Now to your final assignment.  This one’s a bit tricky, I’m afraid, and somewhat dangerous.  In the mid-western region of Deja there is a small, unnamed village of four or five shanties.  Journey to this village and find Agatha Putnam.  She’ll provide details of your final delivery.  After you’ve completed this assignment, use the Deja Home Portal to return to me for your promotion to Master Courier. 

Oh!  And watch out for the hostiles in this area!  Good luck." ]]
  21: SetNPCTopic  {NPC = 209, Index = 0, Event = 518}         -- "Agatha Putnam" : "Courier Delivery"
  22: SetNPCTopic  {NPC = 399, Index = 0, Event = 519}         -- "Licia Rivenrock" : "Courier Delivery"
  23: MoveNPC  {NPC = 452, HouseId = 336}         -- "Rena Putnum Kedrin" -> "Kedrin Residence"
  24: Set  {"QBits", Value = 277}         -- Courier Quest 4
  25: Exit  {}

  26: SetMessage  {Str = 10}         --[[ "Congratulations!  You’ve completed all four assignments in record time, just as the Erathian Festival of the Five Moons is ending!   You are now ready to join the ranks of our elite guild. I hereby promote you to the rank of Master Courier!  Welcome to the Guild! 

Now just one more thing.  Our couriers used to service the Evenmorn Islands. Unfortunately through a series of miss-haps, all keys to the island chain were lost, stolen, or destroyed.   If you ever come across one of these keys, please bring it back to me so that I can make a copy of it.  I will reward you handsomely in gold.  Good luck, Master Couriers!"" ]]
  27: Subtract  {"QBits", Value = 273}         -- "Complete four Courier Guild missions."
  28: Subtract  {"QBits", Value = 274}         -- Courier Quest 1
  29: Subtract  {"QBits", Value = 275}         -- Courier Quest 2
  30: Subtract  {"QBits", Value = 276}         -- Courier Quest 3
  31: Subtract  {"QBits", Value = 277}         -- Courier Quest 4
  32: Subtract  {"QBits", Value = 278}         -- Courier Quest 1 complete
  33: Subtract  {"QBits", Value = 279}         -- Courier Quest 2 complete
  34: Subtract  {"QBits", Value = 280}         -- Courier Quest 3 complete
  35: Subtract  {"QBits", Value = 281}         -- Courier Quest 4 complete
  36: Subtract  {"QBits", Value = 282}         -- Rena Quest
  37: SetNPCTopic  {NPC = 48, Index = 0, Event = 92}         -- "Thomas Grey" : "Wizard"
  38: SetNPCTopic  {NPC = 41, Index = 0, Event = 67}         -- "Steagal Snick" : "Warrior Mage"
  39: SetNPCTopic  {NPC = 50, Index = 0, Event = 98}         -- "Anthony Green" : "Great Druid"
  40: SetNPCTopic  {NPC = 43, Index = 0, Event = 73}         -- "Frederick Org" : "Cavalier"
  41: SetNPCTopic  {NPC = 45, Index = 0, Event = 79}         -- "Ebednezer Sower" : "Hunter"
  42: SetNPCTopic  {NPC = 38, Index = 1, Event = 58}         -- "Bartholomew Hume" : "Initiate"
  43: Set  {"QBits", Value = 283}         -- End of Festival
  44: ForPlayer  (0)
  45: Add  {"Experience", Value = 20000}
  46: Add  {"Awards", Value = 6}         -- "Promoted to Master Courier"
  47: ForPlayer  (1)
  48: Add  {"Experience", Value = 20000}
  49: Add  {"Awards", Value = 6}         -- "Promoted to Master Courier"
  50: ForPlayer  (2)
  51: Add  {"Experience", Value = 20000}
  52: Add  {"Awards", Value = 6}         -- "Promoted to Master Courier"
  53: ForPlayer  (3)
  54: Add  {"Experience", Value = 20000}
  55: Add  {"Awards", Value = 6}         -- "Promoted to Master Courier"
  56: SetNPCTopic  {NPC = 449, Index = 0, Event = 523}         -- "Sarah" : "Lost Key"
  57: Exit  {}
end

event 523  -- "Lost Key"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 668,   jump = 4}         -- "Evenmorn Teleportal Key"
  2:  SetMessage  {Str = 779}         -- "Please continue to search for the Evenmorn Key."
  3:  Exit  {}

  4:  SetMessage  {Str = 11}         -- "I see you’ve recovered the Evenmorn key.  Great!  This is indeed a good day for The Guild!  Let me make a copy of the key.  Here’s your reward, as promised."
  5:  ForPlayer  ("Current")
  6:  Add  {"Gold", Value = 10000}
  7:  SetNPCTopic  {NPC = 449, Index = 0, Event = 0}         -- "Sarah"
  8:  Exit  {}
end

event 524  -- "Purchase 50 food for 500 gold"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Gold", Value = 500,   jump = 3}
  2:  GoTo  {jump = 8}

  3:  Cmp  {"Food", Value = 50,   jump = 10}
  4:  ForPlayer  ("Current")
  5:  Subtract  {"Gold", Value = 500}
  6:  Set  {"Food", Value = 50}
  7:  Exit  {}

  8:  SetMessage  {Str = 125}         -- "You don't have enough gold!"
  9:  Exit  {}

  10: SetMessage  {Str = 39}         -- "Your packs are full!"
  11: Exit  {}
end

event 525  -- "I feel Pretty!"
  0:  SetMessage  {Str = 789}         --[[ "I feel pretty, oh so pretty.  I feel pretty .. and witty .. and gay!  And I pity any girl that's in need today. Tra-la-la-la-la-la-lala!! 

I feel stunning,oh so stunning.  Feel like running and jumping for joy!  ....." ]]
  1:  Exit  {}
end

event 526  -- "Promotions"
  0:  SetMessage  {Str = 16}         -- "Sorry, promotions are not available during the Festival of the Five Moons.  Come back after the holidays."
  1:  Exit  {}
end

event 527  -- "Boat Schedule"
  0:  SetMessage  {Str = 752}         -- "You can charter a boat from this port to Erathia on Tuesdays, Thursdays and Saturdays. Boats for the Bracada Desert leave on Mondays and Wednesdays. Boats leave for Avlee on Friday only. If you have completed the Priest quest you can charter a boat to Evenmorn Island on Sundays."
end

event 528  -- "Nighon Tunnel"
  0:  SetMessage  {Str = 753}         -- "If you are looking to make it quickly to Nighon through the tunnels below, you should take the left fork of the Nighon Tunnel.  Many have taken the right fork and have never been heard from again.  Then again they may have made it to Nighon only to be taken by the Warlocks!"
end

event 529  -- "Harmodale Teleportal Hub"
  0:  Cmp  {"Inventory", Value = 664,   jump = 3}         -- "Emerald Is. Teleportal Key"
  1:  SetMessage  {Str = 754}         -- "The well in this area is a Teleportal Hub used by the Courier Guild. The hub can take you to Bracada, Evenmorn Islands, Deja, Tatalia, and Avlee.  The keys required to use the hub are only issued to guild members in good standing.  The guild's main office is in Steadwick (Erathia proper), accross the way from the Griffin's Rest."
  2:  Exit  {}

  3:  SetMessage  {Str = 774}         -- "I see you have the Emerald Island teleportal key.  You cannot use this key in the Harmondale Hub.  It only works at the teleport platform north of the Crystal Caravan."
end

event 530  -- "Haste Pedestal"
  0:  CastSpell  {Spell = 5, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Haste"
end

event 531  -- "Earth Resistance Pedestal"
  0:  CastSpell  {Spell = 36, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Earth Resistance"
end

event 532  -- "Day of the Gods Pedestal"
  0:  CastSpell  {Spell = 83, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Day of the Gods"
end

event 533  -- "Shield Pedestal"
  0:  CastSpell  {Spell = 17, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Shield"
end

event 534  -- "Water Resistance Pedestal"
  0:  CastSpell  {Spell = 25, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Water Resistance"
end

event 535  -- "Fire Resistance Pedestal"
  0:  CastSpell  {Spell = 3, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Fire Resistance"
end

event 536  -- "Heroism Pedestal"
  0:  CastSpell  {Spell = 51, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Heroism"
end

event 537  -- "Immolation Pedestal"
  0:  CastSpell  {Spell = 8, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Immolation"
end

event 538  -- "Mind Resistance Pedestal"
  0:  CastSpell  {Spell = 58, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Mind Resistance"
end

event 539  -- "Body Resistance Pedestal"
  0:  CastSpell  {Spell = 69, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Body Resistance"
end

event 540  -- "Stone Skin Pedestal"
  0:  CastSpell  {Spell = 38, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Stone Skin"
end

event 541  -- "Air Resistance Pedestal"
  0:  CastSpell  {Spell = 14, Mastery = const.GM, Skill = 5, FromX = 0, FromY = 0, FromZ = 0, ToX = 0, ToY = 0, ToZ = 0}         -- "Air Resistance"
end

event 542  -- "Game of Might"
  0:  Cmp  {"PlayerBits", Value = 31,   jump = 8}
  1:  Cmp  {"CurrentMight", Value = 25,   jump = 4}
  2:  StatusText  {Str = 756}         -- "You have failed the game!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 3}
  5:  StatusText  {Str = 761}         -- "You win!  +3 Skill Points"
  6:  Set  {"PlayerBits", Value = 31}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 543  -- "Game of Endurance"
  0:  Cmp  {"PlayerBits", Value = 32,   jump = 8}
  1:  Cmp  {"CurrentEndurance", Value = 25,   jump = 4}
  2:  StatusText  {Str = 756}         -- "You have failed the game!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 3}
  5:  StatusText  {Str = 761}         -- "You win!  +3 Skill Points"
  6:  Set  {"PlayerBits", Value = 32}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 544  -- "Game of Intellect"
  0:  Cmp  {"PlayerBits", Value = 33,   jump = 8}
  1:  Cmp  {"CurrentIntellect", Value = 25,   jump = 4}
  2:  StatusText  {Str = 756}         -- "You have failed the game!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 3}
  5:  StatusText  {Str = 761}         -- "You win!  +3 Skill Points"
  6:  Set  {"PlayerBits", Value = 33}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 545  -- "Game of Personality"
  0:  Cmp  {"PlayerBits", Value = 34,   jump = 8}
  1:  Cmp  {"CurrentPersonality", Value = 25,   jump = 4}
  2:  StatusText  {Str = 756}         -- "You have failed the game!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 3}
  5:  StatusText  {Str = 761}         -- "You win!  +3 Skill Points"
  6:  Set  {"PlayerBits", Value = 34}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 546  -- "Game of Accuracy"
  0:  Cmp  {"PlayerBits", Value = 35,   jump = 8}
  1:  Cmp  {"CurrentAccuracy", Value = 25,   jump = 4}
  2:  StatusText  {Str = 756}         -- "You have failed the game!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 3}
  5:  StatusText  {Str = 761}         -- "You win!  +3 Skill Points"
  6:  Set  {"PlayerBits", Value = 35}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 547  -- "Game of Speed"
  0:  Cmp  {"PlayerBits", Value = 36,   jump = 8}
  1:  Cmp  {"CurrentSpeed", Value = 25,   jump = 4}
  2:  StatusText  {Str = 756}         -- "You have failed the game!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 3}
  5:  StatusText  {Str = 761}         -- "You win!  +3 Skill Points"
  6:  Set  {"PlayerBits", Value = 36}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 548  -- "Game of Luck"
  0:  Cmp  {"PlayerBits", Value = 37,   jump = 8}
  1:  Cmp  {"CurrentLuck", Value = 25,   jump = 4}
  2:  StatusText  {Str = 756}         -- "You have failed the game!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 3}
  5:  StatusText  {Str = 761}         -- "You win!  +3 Skill Points"
  6:  Set  {"PlayerBits", Value = 37}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 549  -- "Contest of Might"
  0:  Cmp  {"PlayerBits", Value = 38,   jump = 8}
  1:  Cmp  {"CurrentMight", Value = 50,   jump = 4}
  2:  StatusText  {Str = 757}         -- "You have failed the contest!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 5}
  5:  StatusText  {Str = 762}         -- "You win!  +5 Skill Points"
  6:  Set  {"PlayerBits", Value = 38}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 550  -- "Contest of Endurance"
  0:  Cmp  {"PlayerBits", Value = 39,   jump = 8}
  1:  Cmp  {"CurrentEndurance", Value = 50,   jump = 4}
  2:  StatusText  {Str = 757}         -- "You have failed the contest!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 5}
  5:  StatusText  {Str = 762}         -- "You win!  +5 Skill Points"
  6:  Set  {"PlayerBits", Value = 39}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 551  -- "Contest of Intellect"
  0:  Cmp  {"PlayerBits", Value = 40,   jump = 8}
  1:  Cmp  {"CurrentIntellect", Value = 50,   jump = 4}
  2:  StatusText  {Str = 757}         -- "You have failed the contest!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 5}
  5:  StatusText  {Str = 762}         -- "You win!  +5 Skill Points"
  6:  Set  {"PlayerBits", Value = 40}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 552  -- "Contest of Personality"
  0:  Cmp  {"PlayerBits", Value = 41,   jump = 8}
  1:  Cmp  {"CurrentPersonality", Value = 50,   jump = 4}
  2:  StatusText  {Str = 757}         -- "You have failed the contest!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 5}
  5:  StatusText  {Str = 762}         -- "You win!  +5 Skill Points"
  6:  Set  {"PlayerBits", Value = 41}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 553  -- "Contest of Accuracy"
  0:  Cmp  {"PlayerBits", Value = 42,   jump = 8}
  1:  Cmp  {"CurrentAccuracy", Value = 50,   jump = 4}
  2:  StatusText  {Str = 757}         -- "You have failed the contest!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 5}
  5:  StatusText  {Str = 762}         -- "You win!  +5 Skill Points"
  6:  Set  {"PlayerBits", Value = 42}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 554  -- "Contest of Speed"
  0:  Cmp  {"PlayerBits", Value = 43,   jump = 8}
  1:  Cmp  {"CurrentSpeed", Value = 50,   jump = 4}
  2:  StatusText  {Str = 757}         -- "You have failed the contest!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 5}
  5:  StatusText  {Str = 762}         -- "You win!  +5 Skill Points"
  6:  Set  {"PlayerBits", Value = 43}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 555  -- "Contest of Luck"
  0:  Cmp  {"PlayerBits", Value = 44,   jump = 8}
  1:  Cmp  {"CurrentLuck", Value = 50,   jump = 4}
  2:  StatusText  {Str = 757}         -- "You have failed the contest!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 5}
  5:  StatusText  {Str = 762}         -- "You win!  +5 Skill Points"
  6:  Set  {"PlayerBits", Value = 44}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 556  -- "Test of Might"
  0:  Cmp  {"PlayerBits", Value = 45,   jump = 8}
  1:  Cmp  {"CurrentMight", Value = 100,   jump = 4}
  2:  StatusText  {Str = 758}         -- "You have failed the test!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 7}
  5:  StatusText  {Str = 763}         -- "You win!  +7 Skill Points"
  6:  Set  {"PlayerBits", Value = 45}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 557  -- "Test of Endurance"
  0:  Cmp  {"PlayerBits", Value = 46,   jump = 8}
  1:  Cmp  {"CurrentEndurance", Value = 100,   jump = 4}
  2:  StatusText  {Str = 758}         -- "You have failed the test!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 7}
  5:  StatusText  {Str = 763}         -- "You win!  +7 Skill Points"
  6:  Set  {"PlayerBits", Value = 46}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 558  -- "Test of Intellect"
  0:  Cmp  {"PlayerBits", Value = 47,   jump = 8}
  1:  Cmp  {"CurrentIntellect", Value = 100,   jump = 4}
  2:  StatusText  {Str = 758}         -- "You have failed the test!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 7}
  5:  StatusText  {Str = 763}         -- "You win!  +7 Skill Points"
  6:  Set  {"PlayerBits", Value = 47}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 559  -- "Test of Personality"
  0:  Cmp  {"PlayerBits", Value = 48,   jump = 8}
  1:  Cmp  {"CurrentPersonality", Value = 100,   jump = 4}
  2:  StatusText  {Str = 758}         -- "You have failed the test!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 7}
  5:  StatusText  {Str = 763}         -- "You win!  +7 Skill Points"
  6:  Set  {"PlayerBits", Value = 48}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 560  -- "Test of Accuracy"
  0:  Cmp  {"PlayerBits", Value = 49,   jump = 8}
  1:  Cmp  {"CurrentAccuracy", Value = 100,   jump = 4}
  2:  StatusText  {Str = 758}         -- "You have failed the test!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 7}
  5:  StatusText  {Str = 763}         -- "You win!  +7 Skill Points"
  6:  Set  {"PlayerBits", Value = 49}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 561  -- "Test of Speed"
  0:  Cmp  {"PlayerBits", Value = 50,   jump = 8}
  1:  Cmp  {"CurrentSpeed", Value = 100,   jump = 4}
  2:  StatusText  {Str = 758}         -- "You have failed the test!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 7}
  5:  StatusText  {Str = 763}         -- "You win!  +7 Skill Points"
  6:  Set  {"PlayerBits", Value = 50}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 562  -- "Test of Luck"
  0:  Cmp  {"PlayerBits", Value = 51,   jump = 8}
  1:  Cmp  {"CurrentLuck", Value = 100,   jump = 4}
  2:  StatusText  {Str = 758}         -- "You have failed the test!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 7}
  5:  StatusText  {Str = 763}         -- "You win!  +7 Skill Points"
  6:  Set  {"PlayerBits", Value = 51}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 563  -- "Challenge of Might"
  0:  Cmp  {"PlayerBits", Value = 52,   jump = 8}
  1:  Cmp  {"CurrentMight", Value = 200,   jump = 4}
  2:  StatusText  {Str = 759}         -- "You have failed the challenge!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 10}
  5:  StatusText  {Str = 764}         -- "You win!  +10 Skill Points"
  6:  Set  {"PlayerBits", Value = 52}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 564  -- "Challenge of Endurance"
  0:  Cmp  {"PlayerBits", Value = 53,   jump = 8}
  1:  Cmp  {"CurrentEndurance", Value = 200,   jump = 4}
  2:  StatusText  {Str = 759}         -- "You have failed the challenge!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 10}
  5:  StatusText  {Str = 764}         -- "You win!  +10 Skill Points"
  6:  Set  {"PlayerBits", Value = 53}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 565  -- "Challenge of Intellect"
  0:  Cmp  {"PlayerBits", Value = 54,   jump = 8}
  1:  Cmp  {"CurrentIntellect", Value = 200,   jump = 4}
  2:  StatusText  {Str = 759}         -- "You have failed the challenge!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 10}
  5:  StatusText  {Str = 764}         -- "You win!  +10 Skill Points"
  6:  Set  {"PlayerBits", Value = 54}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 566  -- "Challenge of Personality"
  0:  Cmp  {"PlayerBits", Value = 55,   jump = 8}
  1:  Cmp  {"CurrentPersonality", Value = 200,   jump = 4}
  2:  StatusText  {Str = 759}         -- "You have failed the challenge!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 10}
  5:  StatusText  {Str = 764}         -- "You win!  +10 Skill Points"
  6:  Set  {"PlayerBits", Value = 55}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 567  -- "Challenge of Accuracy"
  0:  Cmp  {"PlayerBits", Value = 56,   jump = 8}
  1:  Cmp  {"CurrentAccuracy", Value = 200,   jump = 4}
  2:  StatusText  {Str = 759}         -- "You have failed the challenge!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 10}
  5:  StatusText  {Str = 764}         -- "You win!  +10 Skill Points"
  6:  Set  {"PlayerBits", Value = 56}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 568  -- "Challenge of Speed"
  0:  Cmp  {"PlayerBits", Value = 57,   jump = 8}
  1:  Cmp  {"CurrentSpeed", Value = 200,   jump = 4}
  2:  StatusText  {Str = 759}         -- "You have failed the challenge!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 10}
  5:  StatusText  {Str = 764}         -- "You win!  +10 Skill Points"
  6:  Set  {"PlayerBits", Value = 57}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 569  -- "Challenge of Luck"
  0:  Cmp  {"PlayerBits", Value = 58,   jump = 8}
  1:  Cmp  {"CurrentLuck", Value = 200,   jump = 4}
  2:  StatusText  {Str = 759}         -- "You have failed the challenge!"
  3:  Exit  {}

  4:  Add  {"SkillPoints", Value = 10}
  5:  StatusText  {Str = 764}         -- "You win!  +10 Skill Points"
  6:  Set  {"PlayerBits", Value = 58}
  7:  Exit  {}

  8:  StatusText  {Str = 760}         -- "You have already won!"
  9:  Exit  {}
end

event 570  -- "Traitor!"
  0:  CanShowTopic.Cmp  {"Inventory", Value = 716,   jump = 3}         -- "Letter to Hairbaugh"
  1:  CanShowTopic.Set  {Visible = false}
  2:  CanShowTopic.Exit  {}
  3:  CanShowTopic.Set  {Visible = true}
  4:  CanShowTopic.Exit  {}

  5:  SetMessage  {Str = 765}         -- "What!  You wouldn't believe this fabrication would you?  I would never dream of sabotaging your rule here!  Gaahh!  Prepare to die!"
  6:  SetMonGroupBit  {NPCGroup = 33, Bit = const.MonsterBits.Invisible, On = true}         -- ""
  7:  SetMonGroupBit  {NPCGroup = 34, Bit = const.MonsterBits.Invisible, On = false}         -- ""
end

event 571  -- "SAVE you Game!"
  0:  SetMessage  {Str = 766}         -- "Because of the dangers that you are about to face, it would be a good idea to SAVE your Game.  If anything goes 'wrong', you can always reload your SAVED Game.  Just a word to the wise."
end

event 572  -- "Challenges"
  0:  SetMessage  {Str = 767}         -- "Scattered around the land are the Challenges.  If your ability is great enough, and you best the challenge, you will be award skill points to do with as you wish!"
end

event 573  -- "We've found the Lost Scroll!"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 738,   jump = 4}         -- "Lost Scroll of Wonka"
  2:  SetMessage  {Str = 768}         -- "You must bring the Lost Scroll of Wonka to me to collect your reward."
  3:  Exit  {}

  4:  SetMessage  {Str = 769}         --[[ "“Well I’ll be … ya found the Lost Scroll! <he he> I guess it’s not lost anymore, huh!  [smile]  Excuse me for a moment while I verify the authenticity.

Blayze retires to a back room.  In a few moments he begins an incantation in slow, guttural tones.

‘Oooompa … Looompa … Looompidi Dooo, I’ve got some arcane magic for you’.  Blayze repeats this phrase several times, increasing the intoning speed  with each utterance.  Building to a fever pitch, he commands  ‘Come forth ye Everlasting Gobstopper!  Come forth now!!!’

Blaze returns from the back room, chewing gum and popping bubbles, a broad smile on his face.  Yep, that’s it.  Well done adventurers!!  As promised, here’s your reward.”" ]]
  5:  ForPlayer  (3)
  6:  Cmp  {"FireSkill", Value = 1,   jump = 8}
  7:  GoTo  {jump = 10}

  8:  Set  {"FireSkill", Value = 49152}
  9:  Set  {"FireSkill", Value = 72}
  10: ForPlayer  (2)
  11: Cmp  {"FireSkill", Value = 1,   jump = 13}
  12: GoTo  {jump = 15}

  13: Set  {"FireSkill", Value = 49152}
  14: Set  {"FireSkill", Value = 72}
  15: ForPlayer  (1)
  16: Cmp  {"FireSkill", Value = 1,   jump = 18}
  17: GoTo  {jump = 20}

  18: Set  {"FireSkill", Value = 49152}
  19: Set  {"FireSkill", Value = 72}
  20: ForPlayer  (0)
  21: Cmp  {"FireSkill", Value = 1,   jump = 23}
  22: GoTo  {jump = 25}

  23: Set  {"FireSkill", Value = 49152}
  24: Set  {"FireSkill", Value = 72}
  25: ForPlayer  ("All")
  26: Subtract  {"QBits", Value = 272}         -- "Find the Lost Scroll of Wonka and return it to Blayze on Emerald Island."
  27: Subtract  {"Inventory", Value = 738}         -- "Lost Scroll of Wonka"
  28: Add  {"Awards", Value = 87}         -- "Recovered the Lost Scroll of  Wonka"
  29: SetNPCTopic  {NPC = 139, Index = 1, Event = 0}         -- "Blayze "
  30: Add  {"Experience", Value = 40000}
  31: Exit  {}
end

event 574  -- "Promotion to Water Magic Master"
  0:  ForPlayer  ("All")
  1:  Cmp  {"Inventory", Value = 559,   jump = 7}         -- "Watcher's Ring of Elemental Water"
  2:  Cmp  {"Inventory", Value = 326,   jump = 5}         -- "Water Walk"
  3:  ForPlayer  ("Current")
  4:  Set  {"Inventory", Value = 326}         -- "Water Walk"
  5:  SetMessage  {Str = 771}         -- "Before I can promote you to Master of Water Magic, you must prove yourself worthy.  Retrieve the Watcher's Ring of Elemental Water and return it to me.  The Ring is guarded by a powerful Sylph who lives on an island west of Spaward in the Bay of Avlee"
  6:  Exit  {}

  7:  SetMessage  {Str = 772}         -- "I see that you've returned with the Watcher's Ring of Elemental Water. Good!    Use the power of this ring wisely, my students in the pursuit of Truth, Justice, and the Erathian Way!  Now I can promote you to Master level  if  you are already an Expert  with a skill of at least '7'  and have been promoted in your chosen profession..  Oh, and my fee is 4000  gold.  Gotta make a living, you know."
  8:  Add  {"Experience", Value = 30000}
  9:  SetNPCTopic  {NPC = 144, Index = 0, Event = 243}         -- "Tobren Rainshield" : "Water Magic Master"
end

event 575  -- "The Greatest Hero"
  0:  StatusText  {Str = 47}         --[[ "Sir BunGleau, Baron of Post Lost, was the greatest Hero in Erathia's history.  So great were his deeds and so noble his demeanor that the Saints of Selinas offered him a shiny panoply endowed with boons beyond measure.  But the humble knight refused their offer, remarking that he could not, in good conscience, wear such a flamboyant display of privilege.  So the Saints offered to enchant the armor with invisibility if he would but openly wear the gauntlets to signify their blessing upon him.  To this he agreed. 

When he retired, the Saints hid his armor and placed six scrolls about the countryside.  It is said that if the secret of these scrolls is unlocked, it will reveal the location of a map indicating where this treasure may be found.  " ]]
  1:  SetNPCGreeting  {NPC = 450, Greeting = 10}         -- "Messenger of the Saints" : "Greetings again, friends."
  2:  SetNPCTopic  {NPC = 450, Index = 0, Event = 51}         -- "Messenger of the Saints" : "Crusader"
  3:  Exit  {}
end
